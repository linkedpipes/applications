!function(e){function t(t){for(var a,o,l=t[0],s=t[1],c=t[2],p=0,d=[];p<l.length;p++)o=l[p],r[o]&&d.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(u&&u(t);d.length;)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==r[s]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={0:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,a){n=r[e]=[t,a]});t.push(n[2]=a);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=function(e){return o.p+""+({1:"query-string"}[e]||e)+".bundle.js"}(e);var s=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,n[1](s)}r[e]=void 0}};var c=setTimeout(function(){i({type:"timeout",target:l})},12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;i.push([796,2]),n()}({1017:function(e,t){},1018:function(e,t){},1093:function(e,t){},1094:function(e,t){},1297:function(e,t,n){var a={"./N3Lexer":330,"./N3Lexer.js":330,"./N3Parser":331,"./N3Parser.js":331,"./N3Store":556,"./N3Store.js":556,"./N3StreamParser":557,"./N3StreamParser.js":557,"./N3StreamWriter":558,"./N3StreamWriter.js":558,"./N3Util":332,"./N3Util.js":332,"./N3Writer":333,"./N3Writer.js":333};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1297},1300:function(e,t){},1303:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=1303},1305:function(e,t){},1306:function(e,t,n){var a={"./af":565,"./af.js":565,"./ar":566,"./ar-dz":567,"./ar-dz.js":567,"./ar-kw":568,"./ar-kw.js":568,"./ar-ly":569,"./ar-ly.js":569,"./ar-ma":570,"./ar-ma.js":570,"./ar-sa":571,"./ar-sa.js":571,"./ar-tn":572,"./ar-tn.js":572,"./ar.js":566,"./az":573,"./az.js":573,"./be":574,"./be.js":574,"./bg":575,"./bg.js":575,"./bm":576,"./bm.js":576,"./bn":577,"./bn.js":577,"./bo":578,"./bo.js":578,"./br":579,"./br.js":579,"./bs":580,"./bs.js":580,"./ca":581,"./ca.js":581,"./cs":582,"./cs.js":582,"./cv":583,"./cv.js":583,"./cy":584,"./cy.js":584,"./da":585,"./da.js":585,"./de":586,"./de-at":587,"./de-at.js":587,"./de-ch":588,"./de-ch.js":588,"./de.js":586,"./dv":589,"./dv.js":589,"./el":590,"./el.js":590,"./en-SG":591,"./en-SG.js":591,"./en-au":592,"./en-au.js":592,"./en-ca":593,"./en-ca.js":593,"./en-gb":594,"./en-gb.js":594,"./en-ie":595,"./en-ie.js":595,"./en-il":596,"./en-il.js":596,"./en-nz":597,"./en-nz.js":597,"./eo":598,"./eo.js":598,"./es":599,"./es-do":600,"./es-do.js":600,"./es-us":601,"./es-us.js":601,"./es.js":599,"./et":602,"./et.js":602,"./eu":603,"./eu.js":603,"./fa":604,"./fa.js":604,"./fi":605,"./fi.js":605,"./fo":606,"./fo.js":606,"./fr":607,"./fr-ca":608,"./fr-ca.js":608,"./fr-ch":609,"./fr-ch.js":609,"./fr.js":607,"./fy":610,"./fy.js":610,"./ga":611,"./ga.js":611,"./gd":612,"./gd.js":612,"./gl":613,"./gl.js":613,"./gom-latn":614,"./gom-latn.js":614,"./gu":615,"./gu.js":615,"./he":616,"./he.js":616,"./hi":617,"./hi.js":617,"./hr":618,"./hr.js":618,"./hu":619,"./hu.js":619,"./hy-am":620,"./hy-am.js":620,"./id":621,"./id.js":621,"./is":622,"./is.js":622,"./it":623,"./it-ch":624,"./it-ch.js":624,"./it.js":623,"./ja":625,"./ja.js":625,"./jv":626,"./jv.js":626,"./ka":627,"./ka.js":627,"./kk":628,"./kk.js":628,"./km":629,"./km.js":629,"./kn":630,"./kn.js":630,"./ko":631,"./ko.js":631,"./ku":632,"./ku.js":632,"./ky":633,"./ky.js":633,"./lb":634,"./lb.js":634,"./lo":635,"./lo.js":635,"./lt":636,"./lt.js":636,"./lv":637,"./lv.js":637,"./me":638,"./me.js":638,"./mi":639,"./mi.js":639,"./mk":640,"./mk.js":640,"./ml":641,"./ml.js":641,"./mn":642,"./mn.js":642,"./mr":643,"./mr.js":643,"./ms":644,"./ms-my":645,"./ms-my.js":645,"./ms.js":644,"./mt":646,"./mt.js":646,"./my":647,"./my.js":647,"./nb":648,"./nb.js":648,"./ne":649,"./ne.js":649,"./nl":650,"./nl-be":651,"./nl-be.js":651,"./nl.js":650,"./nn":652,"./nn.js":652,"./pa-in":653,"./pa-in.js":653,"./pl":654,"./pl.js":654,"./pt":655,"./pt-br":656,"./pt-br.js":656,"./pt.js":655,"./ro":657,"./ro.js":657,"./ru":658,"./ru.js":658,"./sd":659,"./sd.js":659,"./se":660,"./se.js":660,"./si":661,"./si.js":661,"./sk":662,"./sk.js":662,"./sl":663,"./sl.js":663,"./sq":664,"./sq.js":664,"./sr":665,"./sr-cyrl":666,"./sr-cyrl.js":666,"./sr.js":665,"./ss":667,"./ss.js":667,"./sv":668,"./sv.js":668,"./sw":669,"./sw.js":669,"./ta":670,"./ta.js":670,"./te":671,"./te.js":671,"./tet":672,"./tet.js":672,"./tg":673,"./tg.js":673,"./th":674,"./th.js":674,"./tl-ph":675,"./tl-ph.js":675,"./tlh":676,"./tlh.js":676,"./tr":677,"./tr.js":677,"./tzl":678,"./tzl.js":678,"./tzm":679,"./tzm-latn":680,"./tzm-latn.js":680,"./tzm.js":679,"./ug-cn":681,"./ug-cn.js":681,"./uk":682,"./uk.js":682,"./ur":683,"./ur.js":683,"./uz":684,"./uz-latn":685,"./uz-latn.js":685,"./uz.js":684,"./vi":686,"./vi.js":686,"./x-pseudo":687,"./x-pseudo.js":687,"./yo":688,"./yo.js":688,"./zh-cn":689,"./zh-cn.js":689,"./zh-hk":690,"./zh-hk.js":690,"./zh-tw":691,"./zh-tw.js":691};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1306},1365:function(e,t,n){var a=n(1366);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(212)(a,r);a.locals&&(e.exports=a.locals)},1366:function(e,t,n){(e.exports=n(211)(!1)).push([e.i,"/*\n * FilePond 4.2.0\n * Licensed under MIT, https://opensource.org/licenses/MIT\n * Please visit https://pqina.nl/filepond for details.\n */\n/* eslint-disable */\n.filepond--assistant {\n  position: absolute;\n  overflow: hidden;\n  height: 1px;\n  width: 1px;\n  padding: 0;\n  border: 0;\n  clip: rect(1px, 1px, 1px, 1px);\n  -webkit-clip-path: inset(50%);\n  clip-path: inset(50%);\n  white-space: nowrap; }\n\n.filepond--browser.filepond--browser {\n  position: absolute;\n  margin: 0;\n  padding: 0;\n  left: 1em;\n  top: 1.75em;\n  width: calc(100% - 2em);\n  opacity: 0;\n  font-size: 0; }\n\n.filepond--drip {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  opacity: 0.1;\n  pointer-events: none;\n  border-radius: 0.5em;\n  background: rgba(0, 0, 0, 0.01); }\n\n.filepond--drip-blob {\n  -webkit-transform-origin: center center;\n  transform-origin: center center;\n  width: 8em;\n  height: 8em;\n  margin-left: -4em;\n  margin-top: -4em;\n  background: #292625;\n  border-radius: 50%; }\n\n.filepond--drip-blob,\n.filepond--drop-label {\n  position: absolute;\n  top: 0;\n  left: 0;\n  will-change: transform, opacity; }\n\n.filepond--drop-label {\n  right: 0;\n  margin: 0;\n  color: #dddcdc;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -ms-flex-align: center;\n  align-items: center;\n  height: 0;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n\n.filepond--drop-label.filepond--drop-label label {\n  display: block;\n  margin: 0;\n  padding: 0.5em; }\n\n.filepond--drop-label label {\n  cursor: default;\n  font-size: 0.875em;\n  font-weight: 400;\n  text-align: center;\n  line-height: 1.5; }\n\n.filepond--label-action {\n  text-decoration: underline;\n  text-decoration-skip-ink: auto;\n  -webkit-text-decoration-color: #a7a4a4;\n  text-decoration-color: #a7a4a4;\n  cursor: pointer; }\n\n.filepond--root[data-disabled] .filepond--drop-label label {\n  opacity: 0.5; }\n\n.filepond--file-action-button.filepond--file-action-button {\n  font-size: 1em;\n  width: 1.625em;\n  height: 1.625em;\n  font-family: inherit;\n  line-height: inherit;\n  margin: 0;\n  padding: 0;\n  border: none;\n  outline: none;\n  will-change: transform, opacity; }\n\n.filepond--file-action-button.filepond--file-action-button svg {\n  width: 100%;\n  height: 100%; }\n\n.filepond--file-action-button.filepond--file-action-button:after {\n  position: absolute;\n  left: -0.75em;\n  right: -0.75em;\n  top: -0.75em;\n  bottom: -0.75em;\n  content: ''; }\n\n.filepond--file-action-button {\n  cursor: auto;\n  color: #fff;\n  border-radius: 50%;\n  background-color: rgba(0, 0, 0, 0.5);\n  background-image: none;\n  box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);\n  transition: box-shadow 0.25s ease-in; }\n\n.filepond--file-action-button:focus,\n.filepond--file-action-button:hover {\n  box-shadow: 0 0 0 0.125em rgba(255, 255, 255, 0.9); }\n\n.filepond--file-action-button[disabled] {\n  color: rgba(255, 255, 255, 0.5);\n  background-color: rgba(0, 0, 0, 0.25); }\n\n.filepond--file-info {\n  position: static;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -ms-flex-align: start;\n  align-items: flex-start;\n  -ms-flex: 1;\n  flex: 1;\n  margin: 0 0.5em 0 0;\n  min-width: 0;\n  will-change: transform, opacity;\n  pointer-events: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n\n.filepond--file-info * {\n  margin: 0; }\n\n.filepond--file-info .filepond--file-info-main {\n  font-size: 0.75em;\n  line-height: 1.2;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  width: 100%; }\n\n.filepond--file-info .filepond--file-info-sub {\n  font-size: 0.625em;\n  opacity: 0.5;\n  transition: opacity 0.25s ease-in-out;\n  white-space: nowrap; }\n\n.filepond--file-info .filepond--file-info-sub:empty {\n  display: none; }\n\n.filepond--file-status {\n  position: static;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -ms-flex-align: end;\n  align-items: flex-end;\n  -ms-flex-positive: 0;\n  flex-grow: 0;\n  -ms-flex-negative: 0;\n  flex-shrink: 0;\n  margin: 0;\n  min-width: 2.25em;\n  text-align: right;\n  will-change: transform, opacity;\n  pointer-events: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n\n.filepond--file-status * {\n  margin: 0;\n  white-space: nowrap; }\n\n.filepond--file-status .filepond--file-status-main {\n  font-size: 0.75em;\n  line-height: 1.2; }\n\n.filepond--file-status .filepond--file-status-sub {\n  font-size: 0.625em;\n  opacity: 0.5;\n  transition: opacity 0.25s ease-in-out; }\n\n.filepond--file-wrapper.filepond--file-wrapper {\n  border: none;\n  margin: 0;\n  padding: 0;\n  min-width: 0;\n  height: 100%; }\n\n.filepond--file-wrapper.filepond--file-wrapper > legend {\n  position: absolute;\n  overflow: hidden;\n  height: 1px;\n  width: 1px;\n  padding: 0;\n  border: 0;\n  clip: rect(1px, 1px, 1px, 1px);\n  -webkit-clip-path: inset(50%);\n  clip-path: inset(50%);\n  white-space: nowrap; }\n\n.filepond--file {\n  position: static;\n  display: -ms-flexbox;\n  display: flex;\n  height: 100%;\n  -ms-flex-align: start;\n  align-items: flex-start;\n  padding: 0.5625em;\n  color: #fff;\n  border-radius: 0.5em; }\n\n.filepond--file .filepond--file-status {\n  margin-left: auto;\n  margin-right: 2.25em; }\n\n.filepond--file .filepond--processing-complete-indicator {\n  pointer-events: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  z-index: 3; }\n\n.filepond--file .filepond--file-action-button,\n.filepond--file .filepond--processing-complete-indicator,\n.filepond--file .filepond--progress-indicator {\n  position: absolute; }\n\n.filepond--file [data-align*='left'] {\n  left: 0.5625em; }\n\n.filepond--file [data-align*='right'] {\n  right: 0.5625em; }\n\n.filepond--file [data-align*='center'] {\n  left: calc(50% - 0.8125em); }\n\n.filepond--file [data-align*='bottom'] {\n  bottom: 1.125em; }\n\n.filepond--file [data-align='center'] {\n  top: calc(50% - 0.8125em); }\n\n.filepond--file .filepond--progress-indicator {\n  margin-top: 0.1875em; }\n\n.filepond--file .filepond--progress-indicator[data-align*='right'] {\n  margin-right: 0.1875em; }\n\n.filepond--file .filepond--progress-indicator[data-align*='left'] {\n  margin-left: 0.1875em; }\n\n[data-filepond-item-state*='error'] .filepond--file-info,\n[data-filepond-item-state*='invalid'] .filepond--file-info,\n[data-filepond-item-state='cancelled'] .filepond--file-info {\n  margin-right: 2.25em; }\n\n[data-filepond-item-state='processing-complete']\n.filepond--action-revert-item-processing\nsvg {\n  -webkit-animation: fall 0.5s 0.125s linear both;\n  animation: fall 0.5s 0.125s linear both; }\n\n[data-filepond-item-state='processing-complete'] .filepond--file-info-sub,\n[data-filepond-item-state='processing-complete'] .filepond--file-status-sub {\n  opacity: 0; }\n\n[data-filepond-item-state='processing-complete']\n.filepond--action-revert-item-processing\n~ .filepond--file-info\n.filepond--file-info-sub,\n[data-filepond-item-state='processing-complete']\n.filepond--action-revert-item-processing\n~ .filepond--file-status\n.filepond--file-status-sub {\n  opacity: 0.5; }\n\n[data-filepond-item-state*='error'] .filepond--file-wrapper,\n[data-filepond-item-state*='error'] .filepond--panel,\n[data-filepond-item-state*='invalid'] .filepond--file-wrapper,\n[data-filepond-item-state*='invalid'] .filepond--panel {\n  -webkit-animation: shake 0.65s linear both;\n  animation: shake 0.65s linear both; }\n\n[data-filepond-item-state*='busy'] .filepond--progress-indicator svg {\n  -webkit-animation: spin 1s linear infinite;\n  animation: spin 1s linear infinite; }\n\n@-webkit-keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  to {\n    -webkit-transform: rotate(1turn);\n    transform: rotate(1turn); } }\n\n@keyframes spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  to {\n    -webkit-transform: rotate(1turn);\n    transform: rotate(1turn); } }\n\n@-webkit-keyframes shake {\n  10%,\n  90% {\n    -webkit-transform: translateX(-0.0625em);\n    transform: translateX(-0.0625em); }\n  20%,\n  80% {\n    -webkit-transform: translateX(0.125em);\n    transform: translateX(0.125em); }\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-0.25em);\n    transform: translateX(-0.25em); }\n  40%,\n  60% {\n    -webkit-transform: translateX(0.25em);\n    transform: translateX(0.25em); } }\n\n@keyframes shake {\n  10%,\n  90% {\n    -webkit-transform: translateX(-0.0625em);\n    transform: translateX(-0.0625em); }\n  20%,\n  80% {\n    -webkit-transform: translateX(0.125em);\n    transform: translateX(0.125em); }\n  30%,\n  50%,\n  70% {\n    -webkit-transform: translateX(-0.25em);\n    transform: translateX(-0.25em); }\n  40%,\n  60% {\n    -webkit-transform: translateX(0.25em);\n    transform: translateX(0.25em); } }\n\n@-webkit-keyframes fall {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(0.5);\n    transform: scale(0.5);\n    -webkit-animation-timing-function: ease-out;\n    animation-timing-function: ease-out; }\n  70% {\n    opacity: 1;\n    -webkit-transform: scale(1.1);\n    transform: scale(1.1);\n    -webkit-animation-timing-function: ease-in-out;\n    animation-timing-function: ease-in-out; }\n  to {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n    animation-timing-function: ease-out; } }\n\n@keyframes fall {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale(0.5);\n    transform: scale(0.5);\n    -webkit-animation-timing-function: ease-out;\n    animation-timing-function: ease-out; }\n  70% {\n    opacity: 1;\n    -webkit-transform: scale(1.1);\n    transform: scale(1.1);\n    -webkit-animation-timing-function: ease-in-out;\n    animation-timing-function: ease-in-out; }\n  to {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n    -webkit-animation-timing-function: ease-out;\n    animation-timing-function: ease-out; } }\n\n.filepond--hopper[data-hopper-state='drag-over'] > * {\n  pointer-events: none; }\n\n.filepond--hopper[data-hopper-state='drag-over']:after {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 100; }\n\n.filepond--progress-indicator {\n  z-index: 103; }\n\n.filepond--file-action-button {\n  z-index: 102; }\n\n.filepond--file-status {\n  z-index: 101; }\n\n.filepond--file-info {\n  z-index: 100; }\n\n.filepond--item {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n  padding: 0;\n  margin: 0.25em;\n  will-change: transform, opacity; }\n\n.filepond--item > .filepond--panel {\n  z-index: -1; }\n\n.filepond--item > .filepond--panel .filepond--panel-bottom {\n  box-shadow: 0 0.0625em 0.125em -0.0625em rgba(0, 0, 0, 0.25); }\n\n.filepond--item-panel {\n  background-color: #64605e; }\n\n[data-filepond-item-state='processing-complete'] .filepond--item-panel {\n  background-color: #369763; }\n\n[data-filepond-item-state*='error'] .filepond--item-panel,\n[data-filepond-item-state*='invalid'] .filepond--item-panel {\n  background-color: #c44e47; }\n\n.filepond--item-panel {\n  border-radius: 0.5em;\n  transition: background-color 0.25s; }\n\n.filepond--list-scroller {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  margin: 0;\n  will-change: transform; }\n\n.filepond--list-scroller[data-state='overflow'] {\n  overflow-y: scroll;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n  -webkit-mask: linear-gradient(180deg, #000 calc(100% - 0.5em), transparent);\n  mask: linear-gradient(180deg, #000 calc(100% - 0.5em), transparent); }\n\n.filepond--list-scroller[data-state='overflow'] .filepond--list {\n  bottom: 0;\n  right: 0; }\n\n.filepond--list-scroller::-webkit-scrollbar {\n  background: transparent; }\n\n.filepond--list-scroller::-webkit-scrollbar:vertical {\n  width: 1em; }\n\n.filepond--list-scroller::-webkit-scrollbar:horizontal {\n  height: 0; }\n\n.filepond--list-scroller::-webkit-scrollbar-thumb {\n  background-color: rgba(0, 0, 0, 0.3);\n  border-radius: 99999px;\n  border: 0.3125em solid transparent;\n  background-clip: content-box; }\n\n.filepond--list.filepond--list {\n  position: absolute;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n  will-change: transform; }\n\n.filepond--list {\n  left: 0.75em;\n  right: 0.75em; }\n\n.filepond--root[data-style-panel-layout~='integrated'] {\n  width: 100%;\n  height: 100%;\n  max-width: none;\n  margin: 0; }\n\n.filepond--root[data-style-panel-layout~='circle'] .filepond--panel-root,\n.filepond--root[data-style-panel-layout~='integrated'] .filepond--panel-root {\n  border-radius: 0; }\n\n.filepond--root[data-style-panel-layout~='circle'] .filepond--panel-root > *,\n.filepond--root[data-style-panel-layout~='integrated']\n.filepond--panel-root\n> * {\n  display: none; }\n\n.filepond--root[data-style-panel-layout~='circle'] .filepond--drop-label,\n.filepond--root[data-style-panel-layout~='integrated'] .filepond--drop-label {\n  bottom: 0;\n  height: auto;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -ms-flex-align: center;\n  align-items: center;\n  z-index: 7; }\n\n.filepond--root[data-style-panel-layout~='circle'] .filepond--item-panel,\n.filepond--root[data-style-panel-layout~='integrated'] .filepond--item-panel {\n  display: none; }\n\n.filepond--root[data-style-panel-layout~='compact'] .filepond--list-scroller,\n.filepond--root[data-style-panel-layout~='integrated']\n.filepond--list-scroller {\n  overflow: hidden;\n  height: 100%;\n  margin-top: 0;\n  margin-bottom: 0; }\n\n.filepond--root[data-style-panel-layout~='compact'] .filepond--list,\n.filepond--root[data-style-panel-layout~='integrated'] .filepond--list {\n  left: 0;\n  right: 0;\n  height: 100%; }\n\n.filepond--root[data-style-panel-layout~='compact'] .filepond--item,\n.filepond--root[data-style-panel-layout~='integrated'] .filepond--item {\n  margin: 0; }\n\n.filepond--root[data-style-panel-layout~='compact'] .filepond--file-wrapper,\n.filepond--root[data-style-panel-layout~='integrated'] .filepond--file-wrapper {\n  height: 100%; }\n\n.filepond--root[data-style-panel-layout~='circle'] {\n  border-radius: 99999rem;\n  overflow: hidden; }\n\n.filepond--root[data-style-panel-layout~='circle'] > .filepond--panel {\n  border-radius: inherit; }\n\n.filepond--root[data-style-panel-layout~='circle'] .filepond--file-info,\n.filepond--root[data-style-panel-layout~='circle'] .filepond--file-status,\n.filepond--root[data-style-panel-layout~='circle'] > .filepond--panel > * {\n  display: none; }\n\n.filepond--panel-root {\n  border-radius: 0.5em;\n  background-color: #868484; }\n\n.filepond--panel {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  margin: 0;\n  height: 100% !important;\n  pointer-events: none; }\n\n.filepond-panel:not([data-scalable='false']) {\n  height: auto !important; }\n\n.filepond--panel[data-scalable='false'] > div {\n  display: none; }\n\n.filepond--panel[data-scalable='true'] {\n  -webkit-transform-style: preserve-3d;\n  transform-style: preserve-3d;\n  background-color: transparent !important;\n  border: none !important; }\n\n.filepond--panel-bottom,\n.filepond--panel-center,\n.filepond--panel-top {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  margin: 0;\n  padding: 0; }\n\n.filepond--panel-bottom,\n.filepond--panel-top {\n  height: 0.5em; }\n\n.filepond--panel-top {\n  border-bottom-left-radius: 0 !important;\n  border-bottom-right-radius: 0 !important;\n  border-bottom: none !important; }\n\n.filepond--panel-top:after {\n  content: '';\n  position: absolute;\n  height: 2px;\n  left: 0;\n  right: 0;\n  bottom: -1px;\n  background-color: inherit; }\n\n.filepond--panel-bottom,\n.filepond--panel-center {\n  will-change: transform;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  -webkit-transform-origin: left top;\n  transform-origin: left top;\n  -webkit-transform: translate3d(0, 0.5em, 0);\n  transform: translate3d(0, 0.5em, 0); }\n\n.filepond--panel-bottom {\n  border-top-left-radius: 0 !important;\n  border-top-right-radius: 0 !important;\n  border-top: none !important; }\n\n.filepond--panel-bottom:before {\n  content: '';\n  position: absolute;\n  height: 2px;\n  left: 0;\n  right: 0;\n  top: -1px;\n  background-color: inherit; }\n\n.filepond--panel-center {\n  height: 100px !important;\n  border-top: none !important;\n  border-bottom: none !important;\n  border-radius: 0 !important; }\n\n.filepond--panel-center:not([style]) {\n  visibility: hidden; }\n\n.filepond--progress-indicator {\n  position: static;\n  width: 1.25em;\n  height: 1.25em;\n  color: #fff;\n  margin: 0;\n  pointer-events: none;\n  will-change: transform, opacity; }\n\n.filepond--progress-indicator svg {\n  width: 100%;\n  height: 100%;\n  vertical-align: top;\n  transform-box: fill-box; }\n\n.filepond--progress-indicator path {\n  fill: none;\n  stroke: currentColor; }\n\n.filepond--list-scroller {\n  z-index: 6; }\n\n.filepond--drop-label {\n  z-index: 5; }\n\n.filepond--drip {\n  z-index: 3; }\n\n.filepond--root > .filepond--panel {\n  z-index: 2; }\n\n.filepond--browser {\n  z-index: 1; }\n\n.filepond--root {\n  box-sizing: border-box;\n  position: relative;\n  margin-bottom: 1em;\n  font-size: 1rem;\n  line-height: normal;\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif;\n  font-weight: 450;\n  text-align: left;\n  text-rendering: optimizeLegibility;\n  direction: ltr;\n  contain: layout style size; }\n\n.filepond--root * {\n  font-size: inherit;\n  box-sizing: inherit;\n  line-height: inherit; }\n\n.filepond--root[data-disabled] {\n  pointer-events: none; }\n\n.filepond--root .filepond--drop-label {\n  min-height: 4.75em; }\n\n.filepond--root .filepond--list-scroller {\n  margin-top: 1em;\n  margin-bottom: 1em; }\n",""])},1389:function(e,t){},1392:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(35),o=n(20),l=n(1492),s=n(105),c=n.n(s),u=n(134),p=n(721),d=n.n(p),h=n(2),f=n.n(h),m=n(7),v=n.n(m),g=n(11),b=n.n(g),E=n(12),y=n.n(E),x=n(15),I=n.n(x),S=n(16),w=n.n(S),k=n(5),C=n.n(k),A=n(17),T=n.n(A),D=n(1),F=n.n(D),P=n(1451),R=n(1501),O=n(1444),L=n(1449),N=n(1447),M=n(1502),j=n(273),U=n(9),_=n(1494),G=n(1448),z=Object(U.a)(function(e){return{root:{display:"flex",flexWrap:"wrap"},button:{display:"block",marginTop:e.spacing(2)},formControl:{width:"100%",marginTop:e.spacing(1)}}})(function(e){var t=e.classes,n=e.handleChange,a=e.providerTitle;return r.a.createElement(O.a,{className:t.formControl,margin:"normal",fullWidth:!0},r.a.createElement(M.a,{htmlFor:"providerTitle"},"SOLID provider"),r.a.createElement(_.a,{value:a,onChange:n,inputProps:{id:"providerTitle"}},r.a.createElement(G.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(G.a,{value:"Solid Community"},"Solid Community")))}),V=n(1450),H=n(724),W=n.n(H),B=n(725),q=n.n(B),X=Object(U.a)(function(e){return{main:F()({width:"auto",display:"block",marginLeft:e.spacing(3),marginRight:e.spacing(3)},e.breakpoints.up(400+e.spacing(6)),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")},avatar:{margin:e.spacing(3),width:150,height:150},form:{width:"100%",marginTop:e.spacing()},submit:{marginTop:e.spacing(3)}}})(function(e){var t=e.classes,n=e.onWebIdFieldChange,a=e.onSignInClick,i=e.withWebIdStatus,o=e.onSetWithWebId,l=e.handleProviderChange,s=e.providerTitle;return r.a.createElement("main",{className:t.main},r.a.createElement(R.a,null),r.a.createElement(j.a,{elevation:2,className:t.paper},r.a.createElement("img",{className:t.avatar,src:W.a,alt:""}),r.a.createElement("img",{src:q.a,alt:"",width:"300",height:"50"}),r.a.createElement("form",{className:t.form},i?r.a.createElement(O.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(M.a,{htmlFor:"component-simple"},"Web ID"),r.a.createElement(N.a,{id:"webId",name:"webId",autoComplete:"webId",autoFocus:!0,onChange:n})):r.a.createElement(z,{providerTitle:s,handleChange:l}),r.a.createElement(L.a,{control:r.a.createElement(V.a,{id:"with-web-id-checkbox",checked:i,onChange:o,value:"checkedA",color:"primary"}),label:"With WebID"}),r.a.createElement(P.a,{type:"submit",id:"sign-in-button",fullWidth:!0,variant:"contained",color:"primary",onClick:a,className:t.submit},"Sign in"))))}),Y=n(14),Z=(n(283),n(169)),Q=n.n(Z),J=n(342),$=n.n(J),K={trace:"lightblue",info:"blue",warn:"pink",error:"red"},ee=new(function(){function e(){b()(this,e)}return y()(e,[{key:"generateMessage",value:function(e,t,n){var a="".concat("lpapps",":").concat(e),r=$()(a);r.color=K[e],n?r(n,t):r(t)}},{key:"trace",value:function(e,t){return this.generateMessage("trace",e,t)}},{key:"info",value:function(e,t){return this.generateMessage("info",e,t)}},{key:"warn",value:function(e,t){return this.generateMessage("warn",e,t)}},{key:"error",value:function(e,t){return this.generateMessage("error",e,t)}}]),e}()),te=n(71);Q.a.defaults.baseURL="/api",Q.a.defaults.headers.post["Content-Type"]="application/json",Q.a.interceptors.request.use(function(e){return ee.info(e,"api.service"),e},function(e){return ee.info(e,"api.service"),Promise.reject(e)}),Q.a.interceptors.response.use(function(e){return ee.info(e,"api.service"),e},function(e){return e.response&&(ee.error(e.response.data,"api.service"),te.b(function(t){t.setLevel("error"),t.setExtra("api-call",e.response.data),te.a(e)})),Promise.reject(e)});var ne=Q.a,ae={getFilters:function(){var e=v()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ne.get("/map/properties"));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),getMarkers:function(){var e=v()(f.a.mark(function e(t){var n,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.resultGraphIri,a=t.filters,r=void 0===a?{}:a,e.abrupt("return",ne.post("/map/markers",r,{params:{resultGraphIri:n}}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getChordNodes:function(){var e=v()(f.a.mark(function e(t,n,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ne.get("/chord/nodes",{params:{resultGraphIri:t,limit:n,offset:a}}));case 1:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),getChordData:function(){var e=v()(f.a.mark(function e(t,n){var a,r=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(r.length>2&&void 0!==r[2])||r[2],e.abrupt("return",ne.post("/chord/matrix",n,{params:{resultGraphIri:t,useWeights:a}}));case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),getSkosScheme:function(){var e=v()(f.a.mark(function e(t){var n,a,r=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:null,a=r.length>2&&void 0!==r[2]?r[2]:null,e.abrupt("return",ne.get("/skos/schemeSubtree",{params:{schemeUri:t,resultGraphIri:n,conceptUri:a}}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getSkosSchemes:function(){var e=v()(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ne.get("/skos/schemes",{params:{resultGraphIri:t}}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getSKOSConcepts:function(){var e=v()(f.a.mark(function e(t,n,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ne.get("/skos/schemeSubtree",{params:{resultGraphIri:t,schemeUri:n,conceptUri:a}}));case 1:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),getGraphExists:function(){var e=v()(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ne.get("/virtuoso/graphExists",{params:{graphName:t}}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},re=n(728),ie=n.n(re),oe={postDiscoverFromInputFile:function(){var e=v()(f.a.mark(function e(t){var n,a,r,i,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rdfFile,a=t.rdfDataSampleFile,r=t.webId,i={dataSampleFile:a,rdfFile:n},o=ie()(i,{}),e.abrupt("return",ne.post("/pipelines/discoverFromInput",o,{params:{webId:r}}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),postDiscoverFromEndpoint:function(){var e=v()(f.a.mark(function e(t){var n,a,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sparqlEndpointIri,a=t.dataSampleIri,r=t.namedGraphs,i=t.webId,e.abrupt("return",ne.post("/pipelines/discoverFromEndpoint",null,{params:{sparqlEndpointIri:n,dataSampleIri:a,namedGraphs:r,webId:i}}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),postDiscoverFromInputIri:function(){var e=v()(f.a.mark(function e(t){var n,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rdfInputIri,a=t.webId,r=t.dataSampleIri,e.abrupt("return",ne.post("/pipelines/discoverFromInputIri",null,{params:{rdfInputIri:n,webId:a,dataSampleIri:r}}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),postDiscoverFromUriList:function(){var e=v()(f.a.mark(function e(t){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.datasourceUris,a=t.webId,e.abrupt("return",ne.post("/pipelines/discover/",n,{params:{webId:a}}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getDiscoveryStatus:function(){var e=v()(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.discoveryId,e.abrupt("return",ne.get("/discovery/".concat(n,"/status")));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getPipelineGroups:function(){var e=v()(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.discoveryId,e.abrupt("return",ne.get("/discovery/".concat(n,"/pipelineGroups")));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},le={getUserProfile:function(e){return ne.post("/user",null,{params:{webId:e}})},deleteDiscovery:function(e,t,n){return ne.delete("/user/discovery",{params:{webId:e,discoveryId:t,socketId:n}})},deletePipelineExecution:function(e,t,n){return ne.delete("/user/execution",{params:{webId:e,executionIri:t,socketId:n}})},postApplication:function(e,t,n){return ne.post("/user/application",null,{params:{webId:e,solidIri:t,executionIri:n}})},deleteApplication:function(e,t){return ne.delete("/user/application",{params:{webId:e,solidIri:t}})}},se={"http://etl.linkedpipes.com/resources/status/queued":"Queued","http://etl.linkedpipes.com/resources/status/mapped":"Mapped","http://etl.linkedpipes.com/resources/status/initializing":"Initializing","http://etl.linkedpipes.com/resources/status/running":"Running","http://etl.linkedpipes.com/resources/status/finished":"Finished","http://etl.linkedpipes.com/resources/status/cancelled":"Cancelled","http://etl.linkedpipes.com/resources/status/cancelling":"Cancelling","http://etl.linkedpipes.com/resources/status/failed":"Failed","http://etl.linkedpipes.com/resources/status/unknown":"Unknown"},ce={Mapped:"Mapped",Queued:"Queued",Initializing:"Initializing",Running:"Running",Finished:"Finished",Cancelled:"Cancelled",Cancelling:"Cancelling",Failed:"Failed",Unknown:"Unknown"},ue={getExecutePipeline:function(){var e=v()(f.a.mark(function e(t){var n,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.etlPipelineIri,a=t.webId,r=t.selectedVisualiser,e.abrupt("return",ne.post("/pipeline/execute",null,{params:{etlPipelineIri:n,webId:a,selectedVisualiser:r}}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getExportPipeline:function(){var e=v()(f.a.mark(function e(t){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.discoveryId,a=t.pipelineId,e.abrupt("return",ne.get("/pipeline/exportWithSD",{params:{discoveryId:n,pipelineUri:a}}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getExecutionStatus:function(){var e=v()(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.executionIri,e.abrupt("return",ne.get("/pipeline/status",{params:{executionIri:n}}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getPipeline:function(){var e=v()(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pipelineIri,e.abrupt("return",ne.get("/pipeline",{params:{pipelineIri:n}}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getPipelineExecution:function(){var e=v()(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.executionIri,e.abrupt("return",ne.get("/pipeline/execution",{params:{executionIri:n}}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),setupRepeatedPipelineExecution:function(){var e=v()(f.a.mark(function e(t){var n,a,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.frequencyHours,a=t.webId,r=t.executionIri,i=t.selectedVisualiser,e.abrupt("return",ne.post("/pipeline/repeat",null,{params:{frequencyHours:n,webId:a,executionIri:r,selectedVisualiser:i}}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),toggleRepeatedPipelineExecution:function(){var e=v()(f.a.mark(function e(t){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.repeat,a=t.executionIri,e.abrupt("return",ne.put("/pipeline/repeat",null,{params:{repeat:n,executionIri:a}}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()};var pe={randDarkColor:function(){for(var e="0123456789".split(""),t="#",n=0;n<6;n++)t+=e[Math.floor(10*Math.random())];return t},unixTimeConverter:function(e){if(-1===e||void 0===e)return"-";var t=new Date(1e3*e),n=t.getFullYear(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],r=t.getDate(),i=t.getHours(),o="0".concat(t.getMinutes()),l="0".concat(t.getSeconds());return"".concat(a," ").concat(r,", ").concat(n," ").concat(i,":").concat(o.substr(-2),":").concat(l.substr(-2)," ")},replaceAll:function(e,t,n){return e.split(t).join(n)},getQueryString:function(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return"".concat(encodeURIComponent(t),"[]=").concat(encodeURIComponent(e))}).join("&"):"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&")},getLocation:function(e){var t=document.createElement("a");return t.href=e,t},extractUrlGroups:function(e){return e.match(/(?:http|https):\/\/((?:[\w-]+)(?:[\w-]+)+)(?:[\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/gm)},urlDomain:function(e){return(e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0].split("?")[0]},getBeautifiedVisualizerTitle:function(e){return void 0!==e?e.replace(/_/g," ").replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):""}},de=r.a.createContext(),he=de,fe=n(1498),me=function(e){return{webId:e.user.webId}},ve=function(e,t){return Object(o.b)(me)(function(n){function a(){return b()(this,a),I()(this,w()(a).apply(this,arguments))}return T()(a,n),y()(a,[{key:"render",value:function(){switch(this.props.webId){case void 0:return t||r.a.createElement(fe.a,{to:{pathname:"/login",state:{prevPath:this.props.location.pathname}}});case null:return r.a.createElement(fe.a,{to:{pathname:"/login",state:{prevPath:this.props.location.pathname}}});default:return r.a.createElement(e,this.props)}}}]),a}(r.a.Component))},ge=n(202),be={initialize:function(e){ge.a.initialize(e)},trackPage:function(e){ge.a.set({page:e}),ge.a.pageview(e)},trackEvent:function(e){ge.a.event(e)}},Ee=n(729),ye=n.n(Ee),xe={"Solid Community":"https://solid.community/auth","":""},Ie=function(e){function t(){var e,a;b()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=I()(this,(e=w()(t)).call.apply(e,[this].concat(i))),F()(C()(a),"state",{webIdFieldValue:"",withWebIdStatus:!1,session:null,providerTitle:""}),F()(C()(a),"isWebIdValid",function(e){return new RegExp(/[(http(s)?):\/\/(www.)?a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&\/\/=]*)/,"ig").test(e)}),F()(C()(a),"login",function(){var e=v()(f.a.mark(function e(t,r){var i,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.t.bind(null,960,7));case 2:return i=e.sent,e.next=5,i.currentSession();case 5:if(o=e.sent){e.next=11;break}return e.next=9,i.login(t,{storage:localStorage});case 9:e.next=13;break;case 11:ee.info("Logged in as ".concat(o.webId)),a.login(t,r);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),F()(C()(a),"handleSignIn",function(e){try{e.preventDefault();var t=a.state,n=t.withWebIdStatus,r=t.providerTitle,i=t.webIdFieldValue,o=a.props.location.state?a.props.location.state.prevPath:"dashboard",l="".concat(window.location.origin,"/").concat(o),s=i,c=xe[r];(n&&!a.isWebIdValid(s)||!n&&""===c)&&Y.b.error("Error WebID/Provider is not valid! Try again...",{position:Y.b.POSITION.TOP_RIGHT});var u=n?s:c,p=a.login(u,l);return void a.setState({session:p})}catch(e){ee.error(e,"UserService")}}),F()(C()(a),"handleWebIdFieldChange",function(e){var t=e.target.value;a.setState({webIdFieldValue:t})}),F()(C()(a),"onSetWithWebId",function(e){ee.info(e.target.value,"AuthorizationContainer"),a.setState(function(e){return{withWebIdStatus:!e.withWebIdStatus}})}),F()(C()(a),"handleProviderChange",function(e){a.setState({providerTitle:e.target.value})}),a}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;be.trackPage(e)}},{key:"render",value:function(){var e=this.handleSignIn,t=this.handleWebIdFieldChange,n=this.onSetWithWebId,a=this.handleProviderChange,i=this.state,o=i.withWebIdStatus,l=i.providerTitle;return r.a.createElement("div",{className:"container",style:{width:"100%",height:"100vh",position:"relative"}},r.a.createElement(ye.a,{style:{width:"100%",position:"absolute",zIndex:"-1"},params:{particles:{number:{value:50},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"grab"}}}}}),r.a.createElement(X,{onWebIdFieldChange:t,onSignInClick:e,onSetWithWebId:n,withWebIdStatus:o,providerTitle:l,handleProviderChange:a}),r.a.createElement(Y.a,null))}}]),t}(a.PureComponent),Se=Object(o.b)(function(e){return{webId:e.user.webId}})(Ie),we=n(41),ke=n(18),Ce=n.n(ke),Ae=n(1454),Te=n(69),De=n(1455),Fe=n(1459),Pe=n(3),Re=n.n(Pe),Oe=n(347),Le=n.n(Oe),Ne=n(268),Me=n.n(Ne),je=n(732),Ue=n.n(je),_e=n(734),Ge=n.n(_e),ze=n(733),Ve=n.n(ze),He=n(735),We=n.n(He),Be=n(731),qe=n.n(Be),Xe=n(730),Ye=n.n(Xe),Ze=n(1452),Qe=n(269),Je=n.n(Qe),$e=n(270),Ke=n.n($e),et=function(e){var t=e.anchorElement,n=e.profileMenuIsOpen,a=e.onHandleMenuClose,i=e.onHandleMenuOpen,o=e.onHandleLogoutClicked,l=e.onHandleOpenProfile,s=e.onHandleOpenSettings,c=e.onHandleSetInboxDialogOpen,u=e.currentInboxInvitations;return r.a.createElement("div",null,r.a.createElement(Le.a,{color:"inherit",onClick:c},r.a.createElement(Ze.a,{badgeContent:(u||[]).length,color:"secondary"},r.a.createElement(Ye.a,null))),r.a.createElement(Le.a,{color:"inherit",onClick:i},r.a.createElement(qe.a,null)),r.a.createElement(Ue.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},open:n,onClose:a},r.a.createElement(Me.a,{onClick:l},r.a.createElement(Je.a,null,r.a.createElement(Ve.a,null)),r.a.createElement(Ke.a,{primary:"Profile"})),r.a.createElement(Me.a,{onClick:s},r.a.createElement(Je.a,null,r.a.createElement(Ge.a,null)),r.a.createElement(Ke.a,{primary:"Settings"})),r.a.createElement(Me.a,{onClick:o},r.a.createElement(Je.a,null,r.a.createElement(We.a,null)),r.a.createElement(Ke.a,{primary:"Logout"}))))},tt=n(1453),nt="SET_SELECTED_VISUALIZER",at="SET_CHOOSE_FOLDER_DIALOG_STATE",rt="SET_LIGHT_COLOR_THEME",it="SET_SELECTED_HOMEPAGE_TAB_INDEX",ot="SET_INBOX_DIALOG_STATE",lt="SET_ACCESS_CONTROL_DIALOG_STATE",st=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;return{type:nt,selectedVisualizer:e}},ct=function(e){var t=e.state;return{type:lt,isOpen:t}},ut=function(e){return{type:rt,value:e}},pt=function(e){var t=e.state;return{type:at,isOpen:t}},dt=function(e){return{type:it,value:e}},ht=function(e){return{type:ot,isOpen:e}},ft={headerParams:{title:""},selectedVisualizer:{visualizer:{visualizerCode:"UNDEFINED"}},chooseFolderDialogIsOpen:!1,homepageTabIndex:0,colorThemeIsLight:!1,inboxDialogIsOpen:!1,shareApplicationDialogIsOpen:!1},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:return Object.assign({},e,{selectedVisualizer:t.selectedVisualizer});case at:return Ce()({},e,{chooseFolderDialogIsOpen:t.isOpen});case lt:return Ce()({},e,{shareApplicationDialogIsOpen:t.isOpen});case ot:return Ce()({},e,{inboxDialogIsOpen:t.isOpen});case rt:return Ce()({},e,{colorThemeIsLight:t.value});case it:return Ce()({},e,{homepageTabIndex:t.value});default:return Ce()({},e)}},vt=function(e){function t(){var e,a;b()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=I()(this,(e=w()(t)).call.apply(e,[this].concat(i))),F()(C()(a),"state",{anchorElement:null}),F()(C()(a),"handleMenuOpen",function(e){a.setState({anchorElement:e.currentTarget})}),F()(C()(a),"performLogout",v()(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve().then(n.t.bind(null,960,7));case 3:return t=e.sent,e.next=6,t.logout();case 6:localStorage.removeItem("solid-auth-client"),pe.clearCookies(),a.props.history.push("/login"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ee.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}))),F()(C()(a),"handleLogout",function(){a.props.resetReduxStore(),a.setState({anchorElement:null}),a.performLogout()}),F()(C()(a),"handleMenuClose",function(){a.setState({anchorElement:null})}),F()(C()(a),"handleOpenProfile",function(){a.props.history.push("/profile"),a.handleMenuClose()}),F()(C()(a),"handleOpenSettings",function(){a.props.history.push("/settings"),a.handleMenuClose()}),F()(C()(a),"handleSetInboxDialogOpen",function(){(0,a.props.handleSetInboxDialogState)(!0)}),a}return T()(t,e),y()(t,[{key:"render",value:function(){var e=this.state.anchorElement,t=this.handleMenuClose,n=this.handleMenuOpen,a=this.handleLogout,i=this.handleOpenProfile,o=this.handleOpenSettings,l=this.handleSetInboxDialogOpen,s=this.props.currentInboxInvitations,c=Boolean(e);return r.a.createElement(et,{profileMenuIsOpen:c,anchorElement:e,onHandleMenuOpen:n,onHandleMenuClose:t,onHandleLogoutClicked:a,onHandleOpenProfile:i,onHandleOpenSettings:o,onHandleSetInboxDialogOpen:l,currentInboxInvitations:s})}}]),t}(a.PureComponent),gt=Object(o.b)(function(e){return{webId:e.user.webId,currentInboxInvitations:e.user.inboxInvitations}},function(e){return{resetReduxStore:function(){return e({type:"USER_LOGOUT"})},handleSetInboxDialogState:function(t){return e(ht(t))}}})(Object(tt.a)(function(e){return r.a.createElement(he.Consumer,null,function(t){return r.a.createElement(vt,Re()({},e,{socket:t}))})})),bt=n(1505),Et=n(1397),yt=n(1456),xt=n(774),It=n(738),St=n.n(It),wt=n(740),kt=n.n(wt),Ct=n(739),At=n.n(Ct),Tt=n(341),Dt=n(1457),Ft=n(1458),Pt=n(741),Rt=n.n(Pt),Ot=n(742),Lt=n.n(Ot),Nt=n(743),Mt=n.n(Nt),jt=n(68),Ut=n.n(jt),_t=n(736),Gt=function(e){return{flex:{flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),height:"4rem"},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},hide:{display:"none"},drawer:{position:"relative",whiteSpace:"nowrap",flexShrink:0},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:F()({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(6)},e.breakpoints.up("sm"),{width:e.spacing(8)}),toolbar:{paddingRight:24,height:"4rem"},chevronWrapper:{textAlign:"right"},chevron:{marginTop:"0.5rem"},toolbarIcon:Ce()({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar)}},zt=function(e){var t,n,a=e.classes,i=e.theme,o=e.drawerState,l=e.onHandleDrawerClose,s=e.onHandleDrawerOpen,c=e.history;return r.a.createElement("div",null,r.a.createElement(Ae.a,{position:"absolute",className:Ut()(a.appBar,F()({},a.appBarShift,o))},r.a.createElement(De.a,{disableGutters:!o,className:a.toolbar},r.a.createElement("div",{className:a.toolbarIcon},r.a.createElement(xt.a,{color:"inherit","aria-label":"Open drawer",onClick:s,className:Ut()(a.menuButton,F()({},a.hide,o))},r.a.createElement(St.a,null))),r.a.createElement(Te.a,{color:"inherit",variant:"h6",className:a.flex,noWrap:!0},"LinkedPipes Applications"),r.a.createElement(gt,null)),r.a.createElement(Y.a,{className:"toast-container"})),r.a.createElement(bt.a,{variant:"permanent",className:Ut()(a.drawer,(t={},F()(t,a.drawerOpen,o),F()(t,a.drawerClose,!o),t)),classes:{paper:Ut()((n={},F()(n,a.drawerOpen,o),F()(n,a.drawerClose,!o),n))},open:o},r.a.createElement("div",{className:Ut()(a.toolbar,a.chevronWrapper)},r.a.createElement(xt.a,{className:a.chevron,onClick:l},"rtl"===i.direction?r.a.createElement(At.a,null):r.a.createElement(kt.a,null))),r.a.createElement(yt.a,null),r.a.createElement(Et.a,null,r.a.createElement(Tt.a,{id:"dashboard_navbar_button",button:!0,onClick:function(){c.push("/dashboard")}},r.a.createElement(Dt.a,null,r.a.createElement(Rt.a,null)),r.a.createElement(Ft.a,{primary:"Dashboard"})),r.a.createElement(Tt.a,{id:"storage_navbar_button",button:!0,onClick:function(){c.push("/storage")}},r.a.createElement(Dt.a,null,r.a.createElement(Lt.a,null)),r.a.createElement(Ft.a,{primary:"Storage"})),r.a.createElement(Tt.a,{button:!0,onClick:function(){c.push("/about")}},r.a.createElement(Dt.a,null,r.a.createElement(Mt.a,null)),r.a.createElement(Ft.a,{primary:"About"})))))},Vt=(Object(Fe.a)(Object(U.a)(Gt,{withTheme:!0})(zt)),Object(_t.a)(Object(Fe.a)(Object(U.a)(Gt,{withTheme:!0})(zt)))),Ht=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=I()(this,(e=w()(t)).call.apply(e,[this].concat(r))),F()(C()(n),"state",{drawerState:!1}),F()(C()(n),"handleDrawerOpen",function(){n.setState({drawerState:!0})}),F()(C()(n),"handleDrawerClose",function(){n.setState({drawerState:!1})}),n}return T()(t,e),y()(t,[{key:"render",value:function(){var e=this.state.drawerState;return r.a.createElement(Vt,{drawerState:e,onHandleDrawerOpen:this.handleDrawerOpen,onHandleDrawerClose:this.handleDrawerClose})}}]),t}(a.PureComponent),Wt=n(1460),Bt=Object(U.a)({root:{flexGrow:1},colorPrimary:{backgroundColor:"#B2DFDB"},barColorPrimary:{backgroundColor:"#00695C"}})(function(e){var t=e.classes,n=e.labelText,a=e.variant,i=void 0===a?"indeterminate":a;return r.a.createElement("div",{className:t.root},r.a.createElement(Te.a,{align:"center",gutterBottom:!0},n),r.a.createElement(Wt.a,{variant:i}))}),qt=n(744),Xt=n.n(qt),Yt=n(745),Zt=n.n(Yt),Qt=n(746),Jt=n.n(Qt),$t=n(747),Kt=n.n($t),en=n(260),tn=n(748),nn=n.n(tn),an=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:564,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,a=e.map(function(e){return Object(en.point)([e.coordinates.lng,e.coordinates.lat])}),r=Object(en.featureCollection)(a),i=Kt()(r),o=nn.a.viewport(i,[t,n]),l=o.center,s=o.zoom;return{center:[l[1],l[0]],zoom:Math.min(s,13)}},rn=function(e){function t(){var e;return b()(this,t),e=I()(this,w()(t).call(this)),F()(C()(e),"fetchMarkers",function(){var e=v()(f.a.mark(function e(t){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.getMarkers({resultGraphIri:t});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),F()(C()(e),"updateMarkersState",function(){var t=v()(f.a.mark(function t(n){var a,r,i,o,l,s,c,u;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,r=a.handleSetCurrentApplicationData,i=a.isPublished,o=a.selectedPipelineExecution,l=a.selectedResultGraphIri,s=an(n),c=s.center,u=s.zoom,e.setState({center:c,zoom:u}),i||r({endpoint:"map",etlExecutionIri:o,graphIri:l,visualizerType:"MAP"});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),e.state={markers:[],center:[50.0755,14.4378],zoom:4},e}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=v()(f.a.mark(function e(){var t,n,a,r,i,o,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.selectedResultGraphIri,a=t.handleSetCurrentApplicationData,r=t.isPublished,i=t.selectedPipelineExecution,r||a({endpoint:"map",etlExecutionIri:i,graphIri:n,visualizerType:"MAP"}),o=this,e.next=5,this.fetchMarkers(n);case 5:return l=e.sent,e.next=8,this.setState({markers:l});case 8:o.updateMarkersState(l);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.markers,n=e.center,a=e.zoom;return r.a.createElement(Xt.a,{center:n,zoom:a},r.a.createElement(Jt.a,null,t.map(function(e){return r.a.createElement(Zt.a,{key:"".concat(e.coordinates.lat,",").concat(e.coordinates.lng),anchor:[e.coordinates.lat,e.coordinates.lng],payload:1})})))}}]),t}(a.PureComponent),on=n(749),ln=n(1461),sn=function(e){return e.map(function(e){return[{v:e.id,f:e.label.languageMap.en},e.parentId,e.size,Math.floor(Math.random()*Math.floor(100))]})},cn=function(e){function t(e){var n;return b()(this,t),n=I()(this,w()(t).call(this,e)),F()(C()(n),"conceptsFetched",void 0),F()(C()(n),"chartEvents",void 0),F()(C()(n),"handleSchemeChange",function(){var e=v()(f.a.mark(function e(t){var a,r,i,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n.props.selectedResultGraphIri){e.next=2;break}return e.abrupt("return");case 2:return n.conceptsFetched.clear(),e.next=5,ae.getSkosScheme(t,n.props.selectedResultGraphIri);case 5:return a=e.sent,r=[["id","parentId","size","color"]],e.next=9,a.data;case 9:i=e.sent,o=r.concat(sn(i)),n.setState({dataLoadingStatus:"ready",chartData:o},function(){n.conceptsFetched.add(t)});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),F()(C()(n),"handleGoUpClick",function(){}),n.state={dataLoadingStatus:"loading",chartData:[]},n}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=v()(f.a.mark(function e(){var t,n,a,r,i,o,l=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,n=t.handleSetCurrentApplicationData,a=t.isPublished,r=t.schemes,i=t.selectedResultGraphIri,a||n({endpoint:"treemap",graphIri:this.props.selectedResultGraphIri,etlExecutionIri:this.props.selectedPipelineExecution,visualizerType:"TREEMAP"}),this.conceptsFetched=new Set,o=r.find(function(e){return e.selected}),this.chartEvents=[{eventName:"ready",callback:function(e){var t=e.chartWrapper;l.handleGoUpClick=function(){t.getChart().goUpAndDraw()}}},{eventName:"select",callback:function(){var e=v()(f.a.mark(function e(t){var n,a,r,i,s,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.chartWrapper,a=n.getChart().getSelection()[0].row){e.next=4;break}return e.abrupt("return");case 4:if(r=l.state.chartData[a+1],i=r[0].v,!l.conceptsFetched.has(i)){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,ae.getSkosScheme(o.uri,l.props.selectedResultGraphIri,i);case 10:return s=e.sent,e.next=13,s.data;case 13:c=e.sent,l.setState(function(e){return Ce()({},e,{chartData:e.chartData.concat(sn(c))})},function(){n.getChart().setSelection([{row:a,col:null}]),l.conceptsFetched.add(i)});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}],i&&o&&o.uri&&this.handleSchemeChange(o.uri);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){var t=this.props.schemes.find(function(e){return e.selected}),n=e.schemes.find(function(e){return e.selected});return n&&n.uri!==(t&&t.uri)&&this.handleSchemeChange(n.uri),null}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.schemes.find(function(e){return e.selected});return r.a.createElement("div",{className:t.wrapper},n&&n.uri&&("ready"===this.state.dataLoadingStatus?r.a.createElement("div",{className:t.wrapper},r.a.createElement(P.a,{onClick:this.handleGoUpClick,variant:"contained",size:"medium",color:"primary"},"Go up one level"),r.a.createElement(on.a,{height:"99%",chartType:"TreeMap",loader:r.a.createElement("div",null,"Loading Chart"),data:this.state.chartData,chartEvents:this.chartEvents,options:{headerHeight:20,fontColor:"black",showScale:!0,maxDepth:1,highlightOnMouseOver:!0,minHighlightColor:"#8c6bb1",midHighlightColor:"#9ebcda",maxHighlightColor:"#edf8fb",minColor:"#009688",midColor:"#f7f7f7",maxColor:"#ee8100"}})):r.a.createElement(ln.a,{className:t.progress})))}}]),t}(r.a.PureComponent),un=Object(U.a)(function(e){return{filterSideBar:{overflowY:"auto"},card:{},input:{},progress:{margin:e.spacing(2),alignItems:"center"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},wrapper:{height:"100%"}}})(cn),pn=n(772),dn=n(201),hn=n.n(dn),fn=n(751),mn=n.n(fn),vn=function(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1){for(var a=!1,r=0;r<t.length;r+=1)if(mn.a.isEqual(e[n],t[r])){a=!0;break}if(!a)return!1}return!0},gn=function(e){function t(e){var n;return b()(this,t),n=I()(this,w()(t).call(this,e)),F()(C()(n),"elementVizDiv",void 0),n.elementVizDiv=null,n.state={dataLoadingStatus:"loading",matrix:[],groupColors:[],groupLabels:[],size:150},n}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=v()(f.a.mark(function e(){var t,n,a,r,i,o,l,s,c,u,p,d,h,m,v,g,b;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.handleSetCurrentApplicationData,a=t.isPublished,r=t.selectedResultGraphIri,this.elementVizDiv=document.getElementById("viz-div"),i=this.props.nodes||[],!this.elementVizDiv){e.next=34;break}if(a||n({endpoint:"chord",graphIri:this.props.selectedResultGraphIri,etlExecutionIri:this.props.selectedPipelineExecution,visualizerType:"CHORD"}),0!==i.length){e.next=24;break}return e.next=8,ae.getChordNodes(this.props.selectedResultGraphIri);case 8:return o=e.sent,e.next=11,o.data;case 11:return l=e.sent,s=l.map(function(e){return e.uri}),c=l.map(function(e){return e.label.languageMap.nolang}),e.next=16,ae.getChordData(this.props.selectedResultGraphIri,s);case 16:return u=e.sent,e.next=19,u.data;case 19:p=e.sent,d=hn()("sol-accent",s.length).map(function(e){return"#".concat(e)}),this.setState({dataLoadingStatus:"ready",matrix:p,groupColors:d,groupLabels:c,size:Math.min(this.elementVizDiv.clientHeight,this.elementVizDiv.clientWidth)}),e.next=34;break;case 24:return h=i.filter(function(e){return e.selected}),m=h.map(function(e){return e.label}),e.next=28,ae.getChordData(r,h.map(function(e){return e.uri}));case 28:return v=e.sent,e.next=31,v.data;case 31:g=e.sent,b=hn()("sol-accent",m.length).map(function(e){return"#".concat(e)}),this.setState({dataLoadingStatus:"ready",matrix:g,groupColors:b,groupLabels:m,size:Math.min(this.elementVizDiv.clientHeight,this.elementVizDiv.clientWidth)});case 34:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=v()(f.a.mark(function e(t){var n,a,r,i,o,l,s,c,u,p,d,h,m;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(vn(t.nodes,this.props.nodes)){e.next=31;break}if(n=this.props.nodes,0!==this.props.nodes.length){e.next=21;break}return e.next=5,ae.getChordNodes(this.props.selectedResultGraphIri);case 5:return a=e.sent,e.next=8,a.data;case 8:return r=e.sent,i=r.map(function(e){return e.uri}),o=r.map(function(e){return e.label.languageMap.nolang}),e.next=13,ae.getChordData(this.props.selectedResultGraphIri,i);case 13:return l=e.sent,e.next=16,l.data;case 16:s=e.sent,c=hn()("sol-accent",i.length).map(function(e){return"#".concat(e)}),this.setState({dataLoadingStatus:"ready",matrix:s,groupColors:c,groupLabels:o}),e.next=31;break;case 21:return u=n.filter(function(e){return e.selected}),p=u.map(function(e){return e.label}),e.next=25,ae.getChordData(this.props.selectedResultGraphIri,u.map(function(e){return e.uri}));case 25:return d=e.sent,e.next=28,d.data;case 28:h=e.sent,m=hn()("sol-accent",p.length).map(function(e){return"#".concat(e)}),this.setState({dataLoadingStatus:"ready",matrix:h,groupColors:m,groupLabels:p});case 31:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.theme,t=Math.max(this.state.size,150);return"ready"!==this.state.dataLoadingStatus?r.a.createElement(ln.a,null):r.a.createElement(pn.a,{groupLabels:this.state.groupLabels,groupColors:this.state.groupColors,matrix:this.state.matrix,componentId:1,labelColors:this.state.groupLabels.map(function(){return e.palette.text.primary}),height:t,width:t,style:{font:"10px sans-serif",paddingBottom:"0"}})}}]),t}(r.a.PureComponent),bn=Object(U.a)(function(e){return{filterSideBar:{overflowY:"auto"},card:{},input:{},theme:e}})(Object(Fe.a)(gn)),En=n(752),yn=n.n(En),xn=n(753),In=n.n(xn),Sn=n(261),wn=n.n(Sn),kn=n(755),Cn=n.n(kn),An=n(754),Tn=n.n(An),Dn=n(756),Fn=n.n(Dn),Pn=function(e){var t=e.visualizerType,n=e.style;switch(t.toUpperCase()){case we.VISUALIZER_TYPE.MAP:case we.VISUALIZER_TYPE.ADVANCED_FILTERS_MAP:return r.a.createElement(yn.a,{style:n});case we.VISUALIZER_TYPE.LABELED_TIMELINE:case we.VISUALIZER_TYPE.TIMELINE:case we.VISUALIZER_TYPE.TIMELINE_PERIODS:case we.VISUALIZER_TYPE.LABELED_TIMELINE_PERIODS:return r.a.createElement(In.a,{style:n});case we.VISUALIZER_TYPE.DCTERMS:return r.a.createElement(wn.a,{style:n});case we.VISUALIZER_TYPE.TREEMAP:return r.a.createElement(Tn.a,{style:n});case we.VISUALIZER_TYPE.CHORD:return r.a.createElement(Cn.a,{style:n});default:return r.a.createElement(Fn.a,{style:n})}},Rn=n(1467),On=n(1465),Ln=n(1466),Nn=n(758),Mn=n.n(Nn),jn="SET_SELECTED_SCHEME",Un="SET_SELECTED_NODES",_n="SET_DEFAULT_FILTERS_STATE",Gn="SET_FILTERS_STATE",zn="TOGGLE_ENABLED",Vn="TOGGLE_VISIBLE",Hn="RESET_FILTERS",Wn=n(13),Bn=n(32),qn=n.n(Bn),Xn=Wn.Namespace("https://w3id.org/def/lpapps#"),Yn=Wn.Namespace("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),Zn="https://gist.githubusercontent.com/aorumbayev/36a4d2d87b721a406f12eaaa7aac3128/raw/040039739df65d21fe4bb14abe33eac0bce5878c/lapps-ontology.jsonld",Qn=function(){function e(t){var n=this,a=t.configurationId,r=t.author,i=t.title,o=t.backgroundColor,l=t.graphIri,s=t.applicationData,c=t.etlExecutionIri,u=t.endpoint,p=t.visualizerType,d=t.filteredBy,h=t.published;b()(this,e),F()(this,"configurationId",void 0),F()(this,"author",void 0),F()(this,"title",void 0),F()(this,"backgroundColor",void 0),F()(this,"graphIri",void 0),F()(this,"applicationData",void 0),F()(this,"etlExecutionIri",void 0),F()(this,"endpoint",void 0),F()(this,"visualizerType",void 0),F()(this,"filterConfiguration",void 0),F()(this,"published",void 0),F()(this,"parseFilterConfiguration",function(e,t,a,r,i){var o="node"===i?"nodesFilter":"schemeFilter",l="node"===i?"NodesFilter":"SchemeFilter",s="node"===i?n.filterConfiguration.filterGroups.nodesFilter:n.filterConfiguration.filterGroups.schemeFilter;if(s){if(e.add(a,Yn("type"),Xn(l),t),e.add(a,Xn("enabled"),Wn.lit(s.enabled),t),e.add(a,Xn("visible"),Wn.lit(s.visible),t),e.add(a,Xn("label"),Wn.lit(s.label),t),e.add(a,Xn("filterType"),Wn.lit(s.filterType),t),s.options){var c=s.options.map(function(n){var a=Wn.blankNode();return e.add(a,Yn("type"),Xn("FilterOption"),t),e.add(a,Xn("uri"),Wn.lit(n.uri),t),e.add(a,Xn("label"),Wn.lit(n.label),t),e.add(a,Xn("visible"),Wn.lit(n.visible),t),e.add(a,Xn("enabled"),Wn.lit(n.enabled),t),e.add(a,Xn("selected"),Wn.lit(n.selected),t),a});e.add(a,Xn("options"),c,t)}else e.add(a,Xn("options"),[],t);e.add(r,Xn(o),a,t)}}),F()(this,"toTurtle",function(){var e=v()(f.a.mark(function e(t){var a,r,i,o,l,s,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wn.sym(t),r=a.doc(),(i=Wn.graph()).add(a,Yn("type"),Xn("VisualizerConfiguration"),r),i.add(a,Xn("author"),Wn.sym(n.author),r),i.add(a,Xn("endpoint"),Wn.lit(n.endpoint),r),i.add(a,Xn("etlExecutionIri"),Wn.lit(n.etlExecutionIri),r),i.add(a,Xn("graphIri"),Wn.lit(n.graphIri),r),i.add(a,Xn("configurationId"),Wn.lit(n.configurationId),r),i.add(a,Xn("published"),Wn.lit(n.published),r),i.add(a,Xn("applicationData"),Wn.lit(n.applicationData),r),i.add(a,Xn("backgroundColor"),Wn.lit(n.backgroundColor),r),i.add(a,Xn("title"),Wn.lit(n.title),r),i.add(a,Xn("visualizerType"),Wn.lit(n.visualizerType),r),o=Wn.blankNode(),l=Wn.blankNode(),n.filterConfiguration&&(i.add(l,Yn("type"),Xn("FilterConfiguration"),r),i.add(l,Xn("enabled"),Wn.lit(n.filterConfiguration.enabled),r),i.add(l,Xn("visible"),Wn.lit(n.filterConfiguration.enabled),r),n.filterConfiguration.filterGroups&&(i.add(o,Yn("type"),Xn("FilterGroup"),r),s=Wn.blankNode(),n.parseFilterConfiguration(i,r,s,o,"node"),c=Wn.blankNode(),n.parseFilterConfiguration(i,r,c,o,"scheme"),i.add(l,Xn("filterGroups"),o,r))),i.add(a,Xn("filteredBy"),l,r),e.abrupt("return",Wn.serialize(null,i,t,"text/turtle"));case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),this.configurationId=a,this.author=r,this.title=i,this.backgroundColor=o,this.graphIri=l,this.applicationData=JSON.stringify(s),this.etlExecutionIri=c,this.endpoint=u,this.visualizerType=p,this.filterConfiguration=d,this.published=h}return y()(e,null,[{key:"from",value:function(t){var n=t;return("string"==typeof n||n instanceof String)&&(n=JSON.parse(t)),new e(n)}},{key:"createUploadFilterConfigurationStatement",value:function(e){if(!e||!e.filtersState)return"";var t=e.filtersState,n=t.filterGroups,a=n.nodesFilter,r=n.schemeFilter,i={"@type":"NodesFilter",options:[]};if(void 0!==a){var o;o=a.options.map(function(e){return e["@type"]="FilterOption",e}),i={"@type":"NodesFilter",label:a.label,enabled:a.enabled,visible:a.visible,filterType:a.filterType,options:o}}var l={"@type":"SchemeFilter",options:[]};if(void 0!==r){var s;s=r.options.map(function(e){return e["@type"]="FilterOption",e.visible=!0,e.enabled=!0,e}),l={"@type":"SchemeFilter",label:r.label,enabled:r.enabled,visible:r.visible,filterType:r.filterType,options:s}}var c={"@type":"FilterGroup"};return a&&(c.nodesFilter=i),r&&(c.schemeFilter=l),{"@type":"FilterConfiguration",enabled:t.enabled,visible:t.visible,filterGroups:c}}},{key:"fromRawParameters",value:function(t,n,a){var r=t.applicationData,i=t.title,o=t.graphIri,l=t.etlExecutionIri,s=t.endpoint,c=t.visualizerType;return new e({"@context":Zn,"@type":"VisualizerConfiguration",configurationId:qn.a.v4(),author:a,title:i,backgroundColor:pe.randDarkColor(),graphIri:o,published:new Date(Date.now()).toISOString(),etlExecutionIri:l,applicationData:r,endpoint:s,filteredBy:e.createUploadFilterConfigurationStatement(n),visualizerType:c})}},{key:"nodeToValue",value:function(e,t){var n=t.store,a=t.fileUrl,r=t.file,i=n.any(a,Xn(e),void 0,r).value;return"true"===i||"false"===i?JSON.parse(i):i}},{key:"getFilterStructureFromTurtle",value:function(t,n,a,r){var i="node"===r?"nodesFilter":"schemeFilter",o="node"===r?"NodesFilter":"SchemeFilter",l=t.any(a,Xn(i),void 0,n);if(l){var s={store:t,fileUrl:l,file:n},c=t.any(l,Xn("options"),void 0,n),u=(void 0!==c&&c.elements?c.elements:[]).map(function(a){var r={store:t,fileUrl:a,file:n};return{"@type":"FilterOption",uri:e.nodeToValue("uri",r),label:e.nodeToValue("label",r),visible:e.nodeToValue("visible",r),enabled:e.nodeToValue("enabled",r),selected:e.nodeToValue("selected",r)}});return{"@type":o,label:e.nodeToValue("label",s),enabled:e.nodeToValue("enabled",s),visible:e.nodeToValue("visible",s),filterType:e.nodeToValue("filterType",s),options:u}||{"@type":o,options:[]}}}},{key:"fromTurtle",value:function(t,n,a){var r={store:t,fileUrl:n,file:a},i=t.any(n,Xn("filteredBy"),void 0,a),o={store:t,fileUrl:i,file:a},l=t.any(i,Xn("filterGroups"),void 0,a),s={filterGroups:{}};if(l){var c={"@type":"FilterGroup"},u=e.getFilterStructureFromTurtle(t,a,l,"node");u&&(c.nodesFilter=u);var p=e.getFilterStructureFromTurtle(t,a,l,"scheme");p&&(c.schemeFilter=p),s={"@type":"FilterConfiguration",enabled:e.nodeToValue("enabled",o),visible:e.nodeToValue("visible",o),filterGroups:c}}return new e({"@context":Zn,"@type":"VisualizerConfiguration",configurationId:e.nodeToValue("configurationId",r),author:e.nodeToValue("author",r),title:e.nodeToValue("title",r),backgroundColor:e.nodeToValue("backgroundColor",r),graphIri:e.nodeToValue("graphIri",r),published:new Date(e.nodeToValue("published",r)),etlExecutionIri:e.nodeToValue("etlExecutionIri",r),applicationData:e.nodeToValue("applicationData",r),endpoint:e.nodeToValue("endpoint",r),visualizerType:e.nodeToValue("visualizerType",r),filteredBy:s})}}]),e}(),Jn=function(){function e(t){var n=t.solidFileTitle,a=t.solidFileUrl,r=t.configuration;b()(this,e),F()(this,"solidFileTitle",void 0),F()(this,"solidFileUrl",void 0),F()(this,"configuration",void 0),this.solidFileTitle=n,this.solidFileUrl=a,this.configuration=r instanceof Qn?r:Qn.from(r)}return y()(e,null,[{key:"from",value:function(t){var n=t;return("string"==typeof n||n instanceof String)&&(n=JSON.parse(t)),new e(n)}}]),e}(),$n=function e(t,n){b()(this,e),F()(this,"url",void 0),F()(this,"appMetadata",void 0),this.url=t.url,this.appMetadata=n},Kn=function e(t,n,a){b()(this,e),F()(this,"webId",void 0),F()(this,"name",void 0),F()(this,"image",void 0),this.webId=t,this.name=n,this.image=a},ea=function e(t,n,a,r){b()(this,e),F()(this,"senderWebId",void 0),F()(this,"sender",void 0),F()(this,"recipientWebId",void 0),F()(this,"recipient",void 0),F()(this,"appMetadataUrl",void 0),F()(this,"object",void 0),F()(this,"invitationUrl",void 0),this.sender=t,this.recipient=n,this.senderWebId=a.actor,this.recipientWebId=a.target,this.appMetadataUrl=a.object.href,this.object=a,this.invitationUrl=r},ta=function e(t,n,a,r){b()(this,e),F()(this,"senderWebId",void 0),F()(this,"sender",void 0),F()(this,"recipientWebId",void 0),F()(this,"recipient",void 0),F()(this,"invitation",void 0),F()(this,"invitationUrl",void 0),this.sender=t,this.recipient=n,this.senderWebId=a.actor,this.recipientWebId=a.target,this.invitation=new ea(n,t,a.object,void 0),this.invitationUrl=r},na=function e(t,n){var a=this;b()(this,e),F()(this,"originalAccessControl",void 0),F()(this,"owner",void 0),F()(this,"public",void 0),F()(this,"collaborators",void 0),F()(this,"aclUrl",void 0),F()(this,"isPublic",function(){return void 0!==a.public}),F()(this,"getCollaborators",function(){return a.collaborators.map(function(e){return e[(t="agent","http://www.w3.org/ns/auth/acl#".concat(t))][0]["@id"];var t})}),this.originalAccessControl=t,this.collaborators=[],this.aclUrl=n;var r=this;t.forEach(function(e){e["@id"]==="".concat(n,"#public")?r.public=e:e["@id"]==="".concat(n,"#owner")?r.owner=e:r.collaborators.push(e)})},aa=function(e){return new URL(e).pathname.split("/").filter(function(e){return""!==e})},ra={editable:/\.(txt|diff?|patch|svg|asc|cnf|cfg|conf|html?|cfm|cgi|aspx?|ini|pl|py|md|css|cs|jsx?|jsp|log|htaccess|htpasswd|gitignore|gitattributes|env|json|atom|eml|rss|markdown|sql|xml|xslt?|sh|rb|as|bat|cmd|cob|for|ftn|frm|frx|inc|lisp|scm|coffee|php[3-6]?|java|c|cbl|go|h|scala|vb|tmpl|lock|go|yml|yaml|tsv|lst|ttl)$/i,image:/\.(jpe?g|gif|bmp|png|svg|tiff?)$/i,media:/\.(mp3|ogg|wav|mp4|webm)$/i,video:/\.(mp4|webm|ogg)$/i,extractable:/\.(zip)$/i},ia=function(){function e(t,n){b()(this,e),F()(this,"name",void 0),F()(this,"path",void 0),F()(this,"url",void 0),F()(this,"size",void 0);var a=aa(t);this.name=a.pop()||"",this.path=a,this.url=t,this.size=n}return y()(e,[{key:"getDisplayName",value:function(){return decodeURI(this.name)}},{key:"getDisplaySize",value:function(){return this.size?(e=this.size,t="string"==typeof e?parseInt(e):e,n=Math.log(t)/Math.log(1e3)||0,"".concat(+(t/Math.pow(1e3,n)).toFixed(2)," ").concat("kMGTPEZY"[n-1]||"","B")):"Unknown size";var e,t,n}}]),e}(),oa=function(e){function t(){return b()(this,t),I()(this,w()(t).apply(this,arguments))}return T()(t,e),y()(t,[{key:"isImage",value:function(){return ra.image.test(this.name)}},{key:"isMedia",value:function(){return ra.media.test(this.name)}},{key:"isEditable",value:function(){return ra.editable.test(this.name)}},{key:"isExtractable",value:function(){return ra.extractable.test(this.name)}},{key:"isVideo",value:function(){return ra.video.test(this.name)}}]),t}(ia),la=function(e){function t(){return b()(this,t),I()(this,w()(t).apply(this,arguments))}return T()(t,e),t}(ia),sa=function(){function e(){b()(this,e)}return y()(e,null,[{key:"getName",value:function(){return Date.now()+Math.random()}},{key:"getBaseUrl",value:function(e){return e?e.match(/^(([a-z]+:)?(\/\/)?[^\/]+\/).*$/)[1]:""}},{key:"getBaseUrlConcat",value:function(e){var t=e?e.match(/^(([a-z]+:)?(\/\/)?[^\/]+\/).*$/)[1]:"";return t.substring(0,t.length-1)}},{key:"text2graph",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";n=n||this.guessFileType(t);var a=Wn.graph();return new Promise(function(r,i){Wn.parse(e,a,t,n,function(){}),r(a)})}},{key:"isFolder",value:function(){var e=v()(f.a.mark(function e(t,n){var a,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wn.sym(n),r=Wn.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),i=t.each(a,r,void 0,void 0),e.abrupt("return",Object.values(i).some(function(e){return null!==e.value.match("ldp#BasicContainer")}));case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getFolderUrlFromPathUrl",value:function(e){return e.split("/").slice(0,-1).join("/")}},{key:"getFilenameFromPathUrl",value:function(e){return e.substring(e.lastIndexOf("/")+1)}},{key:"getLastUrlSegment",value:function(e){return e?e.match(/([^\/]*)\/*$/)[1]:""}},{key:"guessFileType",value:function(e){var t=e.replace(/.*\./,"");return t.match(/\/$/)?"dir":t.match(/(md|markdown)/)?"text/markdown":t.match(/html/)?"text/html":t.match(/xml/)?"text/xml":t.match(/ttl/)?"text/turtle":t.match(/n3/)?"text/n3":t.match(/rq/)?"application/sparql":t.match(/css/)?"text/css":t.match(/txt/)?"text/plain":t.match(/json/)?"application/json":t.match(/js/)?"application/javascript":t.match(/(png|gif|jpeg|tif)/)?"image":t.match(/(mp3|aif|ogg)/)?"audio":t.match(/(avi|mp4|mpeg)/)?"video":"text/turtle"}},{key:"isValidUrl",value:function(e){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)}},{key:"isValidFolder",value:function(e){return/^\/(\w+\/)*\w*$/.test(e)}},{key:"trimSlashes",value:function(e){return e.replace(/^\/|\/$/g,"")}},{key:"sortByDateAsc",value:function(e,t){return-1*(e-t)}}]),e}();F()(sa,"getSizeByGraph",function(){var e=v()(f.a.mark(function e(t,n){var a,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wn.sym(n),r=Wn.sym("http://www.w3.org/ns/posix/stat#size"),i=t.any(a,r,void 0,void 0),e.abrupt("return",i&&"value"in i?i.value:void 0);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),F()(sa,"getFolderItems",function(){var e=v()(f.a.mark(function e(t,n){var a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r=[],t.each(Wn.sym(n),Wn.sym("http://www.w3.org/ns/ldp#contains"),void 0,void 0).forEach(function(){var e=v()(f.a.mark(function e(n){var i,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.value,o=sa.getSizeByGraph(t,i),e.next=4,sa.isFolder(t,i);case 4:e.sent?r.push(new la(i,o)):(a.push(new oa(i,o)),a.push(new oa("".concat(i,".acl"),o)));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",{files:a,folders:r});case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());var ca=n(61),ua=n.n(ca),pa=new function e(){var t=this;b()(this,e),F()(this,"folderExists",(C=v()(f.a.mark(function e(n,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.fetchFolder(n,a);case 3:return e.abrupt("return",!0);case 6:if(e.prev=6,e.t0=e.catch(0),!(e.t0 instanceof Response&&404===e.t0.status)){e.next=10;break}return e.abrupt("return",!1);case 10:throw e.t0;case 11:case"end":return e.stop()}},e,null,[[0,6]])})),function(e,t){return C.apply(this,arguments)})),F()(this,"fetchJsonLDFromUrl",(k=v()(f.a.mark(function e(a){var r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.t.bind(null,960,7));case 2:return r=e.sent,e.abrupt("return",r.fetch(a).then(t.assertSuccessfulResponseWithJson));case 4:case"end":return e.stop()}},e)})),function(e){return k.apply(this,arguments)})),F()(this,"fetchFileFromUrl",(w=v()(f.a.mark(function e(a){var r,i,o=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,Promise.resolve().then(n.t.bind(null,960,7));case 3:return i=e.sent,e.abrupt("return",i.fetch(a,{headers:r}).then(t.assertSuccessfulResponseWithText));case 5:case"end":return e.stop()}},e)})),function(e){return w.apply(this,arguments)})),F()(this,"fetchFile",(S=v()(f.a.mark(function e(a){var r,i,o,l=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"",i="".concat(a,"/").concat(r),e.next=4,Promise.resolve().then(n.t.bind(null,960,7));case 4:return o=e.sent,e.abrupt("return",o.fetch(i).then(t.assertSuccessfulResponse));case 6:case"end":return e.stop()}},e)})),function(e){return S.apply(this,arguments)})),F()(this,"fetchFolder",(I=v()(f.a.mark(function e(a){var r,i,o,l=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"",i="".concat(a,"/").concat(r),e.next=4,Promise.resolve().then(n.t.bind(null,960,7));case 4:return o=e.sent,e.abrupt("return",o.fetch(i,{headers:{Accept:"text/turtle"}}).then(t.assertSuccessfulResponse));case 6:case"end":return e.stop()}},e)})),function(e){return I.apply(this,arguments)})),F()(this,"createFolder",(x=v()(f.a.mark(function e(n,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.folderExists(n,a);case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",new Response);case 4:return ee.info("creating folder at ".concat(n,"/").concat(a)),e.abrupt("return",t.createItem(n,a,"",'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"'));case 6:case"end":return e.stop()}},e)})),function(e,t){return x.apply(this,arguments)})),F()(this,"createFile",(y=v()(f.a.mark(function e(n,a,r){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ee.info("creating file at ".concat(n,"/").concat(a)),e.abrupt("return",t.createItem(n,a,r,'<http://www.w3.org/ns/ldp#Resource>; rel="type"'));case 2:case"end":return e.stop()}},e)})),function(e,t,n){return y.apply(this,arguments)})),F()(this,"createItem",(E=v()(f.a.mark(function e(t,a,r,i){var o,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={method:"POST",headers:{link:i,slug:a,"Content-Type":void 0},body:r},e.next=3,Promise.resolve().then(n.t.bind(null,960,7));case 3:return l=e.sent,e.abrupt("return",l.fetch(t,o));case 5:case"end":return e.stop()}},e)})),function(e,t,n,a){return E.apply(this,arguments)})),F()(this,"removeFile",(g=v()(f.a.mark(function e(a,r){var i,o,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(a).concat(r),e.next=3,Promise.resolve().then(n.t.bind(null,960,7));case 3:return o=e.sent,e.next=6,o.fetch(i,{method:"DELETE"});case 6:if(l=e.sent,ee.info(l),409!==l.status&&301!==l.status){e.next=10;break}return e.abrupt("return",t.removeFolderRecursively(a,r));case 10:if(404!==l.status){e.next=12;break}return e.abrupt("return",l);case 12:return t.assertSuccessfulResponse(l),e.abrupt("return",l);case 14:case"end":return e.stop()}},e)})),function(e,t){return g.apply(this,arguments)})),F()(this,"removeItem",(m=v()(f.a.mark(function e(a,r){var i,o,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(a,"/").concat(r),e.next=3,Promise.resolve().then(n.t.bind(null,960,7));case 3:return o=e.sent,e.next=6,o.fetch(i,{method:"DELETE"});case 6:if(409!==(l=e.sent).status&&301!==l.status){e.next=9;break}return e.abrupt("return",t.removeFolderRecursively(a,r));case 9:if(404!==l.status){e.next=11;break}return e.abrupt("return",l);case 11:return t.assertSuccessfulResponse(l),e.abrupt("return",l);case 13:case"end":return e.stop()}},e)})),function(e,t){return m.apply(this,arguments)})),F()(this,"removeFolderContents",(h=v()(f.a.mark(function e(n,a){var r,i,o,l,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(n,"/").concat(a),e.next=3,t.readFolder(n,a);case 3:return i=e.sent,o=i.files,l=i.folders,s=[].concat(ua()(o.map(function(e){var n=e.name;return t.removeItem(r,n)})),ua()(l.map(function(e){var n=e.name;return t.removeFolderRecursively(r,n)}))),e.next=9,Promise.all(s);case 9:return e.abrupt("return",new Response);case 10:case"end":return e.stop()}},e)})),function(e,t){return h.apply(this,arguments)})),F()(this,"readFolder",(d=v()(f.a.mark(function e(n,a){var r,i,o,l,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(n,"/").concat(a),e.next=3,t.fetchFolder(n,a);case 3:return i=e.sent,e.next=6,i.text();case 6:return o=e.sent,e.next=9,sa.text2graph(o,r,"text/turtle");case 9:return l=e.sent,s=sa.getFolderItems(l,r),e.abrupt("return",s);case 12:case"end":return e.stop()}},e)})),function(e,t){return d.apply(this,arguments)})),F()(this,"removeFolderRecursively",(p=v()(f.a.mark(function e(n,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.removeFolderContents(n,a);case 2:return e.abrupt("return",t.removeItem(n,a));case 3:case"end":return e.stop()}},e)})),function(e,t){return p.apply(this,arguments)})),F()(this,"updateFile",(u=v()(f.a.mark(function e(n,a,r,i){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.removeFile(n,a);case 2:return e.abrupt("return",t.createItem(n,a,r,i));case 3:case"end":return e.stop()}},e)})),function(e,t,n,a){return u.apply(this,arguments)})),F()(this,"updateItem",(c=v()(f.a.mark(function e(n,a,r,i){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.removeItem(n,a);case 2:return e.abrupt("return",t.createItem(n,a,r,i));case 3:case"end":return e.stop()}},e)})),function(e,t,n,a){return c.apply(this,arguments)})),F()(this,"copyFile",(s=v()(f.a.mark(function e(a,r,i,o){var l,s,c,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l="".concat(i,"/").concat(o),e.next=3,t.fetchFile(a,r);case 3:if("application/json"!==(s=e.sent).headers.get("Content-Type")){e.next=10;break}return e.next=7,s.text();case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,s.blob();case 12:e.t0=e.sent;case 13:return c=e.t0,ee.info(c),e.next=17,Promise.resolve().then(n.t.bind(null,960,7));case 17:return u=e.sent,e.abrupt("return",u.fetch(l,{method:"PUT",body:c}).then(t.assertSuccessfulResponse));case 19:case"end":return e.stop()}},e)})),function(e,t,n,a){return s.apply(this,arguments)})),F()(this,"renameFile",(l=v()(f.a.mark(function e(n,a,r){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.copyFile(n,a,n,r);case 2:return e.abrupt("return",t.removeItem(n,a));case 3:case"end":return e.stop()}},e)})),function(e,t,n){return l.apply(this,arguments)})),F()(this,"renameFolder",(o=v()(f.a.mark(function e(n,a,r){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.copyFolder(n,a,n,r);case 2:return e.abrupt("return",t.removeFolderRecursively(n,a));case 3:case"end":return e.stop()}},e)})),function(e,t,n){return o.apply(this,arguments)})),F()(this,"copyFolder",(i=v()(f.a.mark(function e(n,a,r,i){var o,l,s,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createFolder(r,i);case 2:return e.next=4,t.readFolder(n,a);case 4:return o=e.sent,l=o.files,s=o.folders,c=[].concat(ua()(l.map(function(e){var o=e.name;return t.copyFile("".concat(n,"/").concat(a),o,"".concat(r,"/").concat(i),o)})),ua()(s.map(function(e){var o=e.name;return t.copyFolder("".concat(n,"/").concat(a),o,"".concat(r,"/").concat(i),o)}))),e.next=10,Promise.all(c);case 10:return e.abrupt("return",new Response);case 11:case"end":return e.stop()}},e)})),function(e,t,n,a){return i.apply(this,arguments)})),F()(this,"sendFileToUrl",(r=v()(f.a.mark(function e(t,a,r){var i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.t.bind(null,960,7));case 2:return i=e.sent,e.abrupt("return",i.fetch(t,{method:"POST",body:a,headers:{"Content-Type":r}}));case 4:case"end":return e.stop()}},e)})),function(e,t,n){return r.apply(this,arguments)})),F()(this,"assertSuccessfulResponse",function(e){if(!e.ok)throw e;return e}),F()(this,"assertSuccessfulResponseWithJson",function(e){if(!e.ok)throw e;return e.json()}),F()(this,"assertSuccessfulResponseWithText",function(e){if(!e.ok)throw e;return e.text()}),F()(this,"executeSPARQLUpdateForUser",(a=v()(f.a.mark(function e(t,a){var r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.t.bind(null,960,7));case 2:return r=e.sent,e.abrupt("return",r.fetch(t,{method:"PATCH",body:a,headers:{"Content-Type":"application/sparql-update"}}));case 4:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)}));var a;var r;var i;var o;var l;var s;var c;var u;var p;var d;var h;var m;var g;var E;var y;var x;var I;var S;var w;var k;var C},da=new function e(){b()(this,e),F()(this,"patchFileWithQuery",(t=v()(f.a.mark(function e(t,a){var r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.t.bind(null,960,7));case 2:return r=e.sent,e.prev=3,e.next=6,r.fetch(t,{method:"PATCH",body:a,headers:{"Content-Type":"application/sparql-update"}});case 6:return e.abrupt("return",!0);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Response&&404===e.t0.status)){e.next=13;break}return e.abrupt("return",!1);case 13:throw e.t0;case 14:case"end":return e.stop()}},e,null,[[3,9]])})),function(e,n){return t.apply(this,arguments)}));var t},ha=n(968).fromUrl,fa=n(430),ma=n(969).newEngine,va=n(194),ga=Wn.Namespace("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),ba=Wn.Namespace("http://www.w3.org/ns/auth/acl#"),Ea=Wn.Namespace("http://www.w3.org/ns/ldp#"),ya=Wn.Namespace("http://www.w3.org/ns/solid/terms#"),xa=Wn.Namespace("http://xmlns.com/foaf/0.1/"),Ia=(Wn.Namespace("http://purl.org/dc/terms/"),Wn.Namespace("http://rdfs.org/sioc/ns#")),Sa=Wn.Namespace("http://www.w3.org/2001/XMLSchema#"),wa=Wn.Namespace("http://www.w3.org/2006/vcard/ns#"),ka=Wn.Namespace("https://w3id.org/def/lpapps#"),Ca=(Ia("Post"),Sa("dateTime"),ba("Control")),Aa=ba("Read"),Ta=ba("Write"),Da=(ba("Append"),function(){function e(){b()(this,e),F()(this,"store",void 0),F()(this,"fetcher",void 0),F()(this,"updater",void 0),F()(this,"requiresForceReload",void 0),this.store=Wn.graph(),this.fetcher=new Wn.Fetcher(this.store),this.updater=new Wn.UpdateManager(this.store),this.alreadyCheckedResources=[],this.alreadyAddedDownstreamListeners=[],this.requiresForceReload=!1}return y()(e,[{key:"load",value:function(){var e=v()(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.requiresForceReload,this.requiresForceReload=!1,e.prev=2,e.abrupt("return",this.fetcher.load(t,{force:n,clearPreviousData:n}));case 6:return e.prev=6,e.t0=e.catch(2),e.abrupt("return",Promise.reject(new Error("Could not fetch the document.")));case 9:case"end":return e.stop()}},e,this,[[2,6]])}));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=v()(f.a.mark(function e(t,n){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this.updater.update(t,n,function(e,t,n){return t?ee.info("Resource updated.","StorageBackend"):ee.warn(n),Promise.resolve(n)}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",Promise.reject(new Error("Could not update the document.")));case 7:case"end":return e.stop()}},e,this,[[0,4]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"registerChanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(-1===this.alreadyAddedDownstreamListeners.indexOf(e)){var n=Wn.sym(e).doc();this.updater.addDownstreamChangeListener(n,t),this.alreadyAddedDownstreamListeners.push(e)}}},{key:"getAppFolder",value:function(){var e=v()(f.a.mark(function e(t){var n,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wn.sym(t),a=n.doc(),e.prev=2,e.next=5,this.load(a);case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",Promise.reject(e.t0));case 10:return r=this.store.any(n,ya("timeline"),null,a),e.abrupt("return",r?r.value.toString():Promise.reject(new Error("No application folder.")));case 12:case"end":return e.stop()}},e,this,[[2,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"isValidAppFolder",value:function(){var e=v()(f.a.mark(function e(t){var n,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wn.sym(t).doc(),e.prev=1,e.next=4,this.load(n);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 9:return a=["configurations","sharedConfigurations"],r=this.store.match(null,Wn.sym(ga("type")),Wn.sym(Ea("Container")),n).map(function(e){return e.subject.value}).filter(function(e){return e!==t&&-1!==a.indexOf(sa.getLastUrlSegment(e))}),e.abrupt("return",r.length>=1);case 12:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getValidAppFolder",value:function(){var e=v()(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.includes("#me")||(t=t.concat("#me")),e.prev=1,e.next=4,this.getAppFolder(t);case 4:if(!(n=e.sent)){e.next=11;break}return e.next=8,this.isValidAppFolder(n);case 8:if(!e.sent){e.next=11;break}return e.abrupt("return",n);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 16:return e.abrupt("return",Promise.reject(new Error("No valid application folder.")));case 17:case"end":return e.stop()}},e,this,[[1,13]])}));return function(t){return e.apply(this,arguments)}}()},{key:"createAppFolders",value:function(){var e=v()(f.a.mark(function e(t,n){var a,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(sa.getBaseUrlConcat(t)),r="".concat(a,"/").concat(n),i="".concat(a,"/").concat(n),e.prev=3,e.next=6,pa.createFolder(a,n).then(function(){ee.info("Created folder ".concat(r,"."))});case 6:return e.t0=pa,e.t1="".concat(r),e.next=10,this.createFolderAccessList(t,"".concat(r,"/"),[Aa],!0,null);case 10:return e.t2=e.sent,e.t3=function(){ee.info("Created access list ".concat(r,"/.acl"))},e.next=14,e.t0.updateItem.call(e.t0,e.t1,".acl",e.t2,'<http://www.w3.org/ns/ldp#Resource>; rel="type"').then(e.t3);case 14:return e.next=16,pa.createFolder(i,"configurations").then(function(){ee.info("Created folder ".concat(i,"."))});case 16:return e.t4=pa,e.t5="".concat(r,"/configurations"),e.next=20,this.createFolderAccessList(t,"".concat(r,"/configurations/"),[Aa],!0,null);case 20:return e.t6=e.sent,e.t7=function(){ee.info("Created access list ".concat(r,"/configurations/.acl"))},e.next=24,e.t4.updateItem.call(e.t4,e.t5,".acl",e.t6,'<http://www.w3.org/ns/ldp#Resource>; rel="type"').then(e.t7);case 24:return e.next=26,pa.createFolder(i,"sharedConfigurations").then(function(){ee.info("Created folder ".concat(i,"."))});case 26:return e.t8=pa,e.t9="".concat(r,"/sharedConfigurations"),e.next=30,this.createFolderAccessList(t,"".concat(r,"/sharedConfigurations/"),[Aa],!0,null);case 30:return e.t10=e.sent,e.t11=function(){ee.info("Created access list ".concat(r,"/sharedConfigurations/.acl"))},e.next=34,e.t8.updateItem.call(e.t8,e.t9,".acl",e.t10,'<http://www.w3.org/ns/ldp#Resource>; rel="type"').then(e.t11);case 34:return e.next=36,this.updateAppFolder(t,r).then(function(){ee.info("Updated app folder in profile.")});case 36:e.next=42;break;case 38:return e.prev=38,e.t12=e.catch(3),ee.error(e.t12),e.abrupt("return",!1);case 42:return e.abrupt("return",!0);case 43:case"end":return e.stop()}},e,this,[[3,38]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"copyFoldersRecursively",value:function(){var e=v()(f.a.mark(function e(t,a,r){var i,o,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.t.bind(null,960,7));case 2:return i=e.sent,e.next=5,this.fetcher.recursiveCopy(a,r,{copyACL:!0,fetch:i.fetch}).then(function(e){return!0},function(e){return ee.error("Error copying : ".concat(e)),!1});case 5:return o=e.sent,e.next=8,this.updateAppFolder(t,r).then(function(){return!0});case 8:return l=e.sent,e.abrupt("return",l&&o);case 10:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"moveFolderRecursively",value:function(){var e=v()(f.a.mark(function e(t,a,r){var i,o,l,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.t.bind(null,960,7));case 2:return i=e.sent,e.next=5,this.fetcher.recursiveCopy(a,r,{copyACL:!0,fetch:i.fetch}).then(function(){return!0},function(e){return ee.err("Error copying : ".concat(e)),!1});case 5:return o=e.sent,e.next=8,pa.removeFolderContents(sa.getFolderUrlFromPathUrl(a),sa.getFilenameFromPathUrl(a)).then(function(e){return!0},function(e){return ee.err("Error copying : ".concat(e)),!1});case 8:return l=e.sent,e.next=11,this.updateAppFolder(t,r).then(function(){return!0});case 11:return s=e.sent,e.abrupt("return",l&&o&&s);case 13:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"renameAppConfiguration",value:function(){var e=v()(f.a.mark(function e(t,n){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a='\n            @prefix lpa: <https://w3id.org/def/lpapps#> .\n\n            DELETE\n            { ?configuration lpa:title ?titleValue . }\n            INSERT\n            { ?configuration lpa:title "'.concat(n,'" .}\n            WHERE\n            { ?configuration lpa:title ?titleValue . }\n    '),e.next=3,da.patchFileWithQuery(t,a);case 3:return e.prev=3,e.next=6,this.load(Wn.sym(t).doc());case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),ee.error("Could not load a metadata document.","StorageBackend"),e.abrupt("return",!1);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}},e,this,[[3,8]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"setFiltersStateEnabled",value:function(){var e=v()(f.a.mark(function e(t,n){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a='\n            @prefix lpa: <https://w3id.org/def/lpapps#> .\n\n            DELETE\n            { ?configuration lpa:filteredBy ?filterConfiguration .\n              ?filterConfiguration lpa:enabled ?test . }\n            INSERT\n            { ?configuration lpa:filteredBy ?filterConfiguration .\n              ?filterConfiguration lpa:enabled "'.concat(n?"true":"false",'" . }\n            WHERE\n            { ?configuration lpa:filteredBy ?filterConfiguration .\n              ?filterConfiguration lpa:enabled ?test . }\n    '),e.next=3,da.patchFileWithQuery(t,a);case 3:return e.prev=3,e.next=6,this.load(Wn.sym(t).doc());case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),ee.error("Could not load a metadata document.","StorageBackend"),e.abrupt("return",!1);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}},e,this,[[3,8]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"setFiltersStateVisible",value:function(){var e=v()(f.a.mark(function e(t,n){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a='\n            @prefix lpa: <https://w3id.org/def/lpapps#> .\n\n            DELETE\n            { ?configuration lpa:filteredBy ?filterConfiguration .\n              ?filterConfiguration lpa:visible ?test . }\n            INSERT\n            { ?configuration lpa:filteredBy ?filterConfiguration .\n              ?filterConfiguration lpa:visible "'.concat(n?"true":"false",'" . }\n            WHERE\n            { ?configuration lpa:filteredBy ?filterConfiguration .\n              ?filterConfiguration lpa:visible ?test . }\n    '),e.next=3,da.patchFileWithQuery(t,a);case 3:return e.prev=3,e.next=6,this.load(Wn.sym(t).doc());case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),ee.error("Could not load a metadata document.","StorageBackend"),e.abrupt("return",!1);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}},e,this,[[3,8]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"setSelectedFilterOptions",value:function(){var e=v()(f.a.mark(function e(t,n){var a,r,i,o,l,s,c,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=[],r=!0,i=!1,o=void 0,e.prev=4,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)c=s.value,u='\n            @prefix lpa: <https://w3id.org/def/lpapps#> .\n\n            DELETE\n            { ?optionToUpdate lpa:uri "'.concat(c.uri,'" .\n              ?optionToUpdate lpa:selected ?optionSelected . }\n            INSERT\n            { ?optionToUpdate lpa:uri "').concat(c.uri,'" .\n              ?optionToUpdate lpa:selected "').concat(c.selected,'" . }\n            WHERE\n            { ?optionToUpdate lpa:uri "').concat(c.uri,'" .\n              ?optionToUpdate lpa:selected ?optionSelected . }\n    '),a.push(da.patchFileWithQuery(t,u));e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),i=!0,o=e.t0;case 12:e.prev=12,e.prev=13,r||null==l.return||l.return();case 15:if(e.prev=15,!i){e.next=18;break}throw o;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return e.next=22,Promise.all(a);case 22:return e.prev=22,e.next=25,this.load(Wn.sym(t).doc());case 25:e.next=31;break;case 27:return e.prev=27,e.t1=e.catch(22),ee.error("Could not load a metadata document.","StorageBackend"),e.abrupt("return",!1);case 31:return e.abrupt("return",!0);case 32:case"end":return e.stop()}},e,this,[[4,8,12,20],[13,,15,19],[22,27]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateAppFolder",value:function(){var e=v()(f.a.mark(function e(t,n){var a,r,i,o,l,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wn.sym(t),r=Wn.sym(ya("timeline")),i=Wn.sym(n),o=a.doc(),e.prev=4,e.next=7,this.load(o);case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(4),ee.error("Could not load a profile document.","StorageBackend"),e.abrupt("return",!1);case 13:return l=[Wn.st(a,r,i,o)],s=this.store.statementsMatching(a,r,null,o),e.prev=15,e.next=18,this.updateResource(o.value,l,s);case 18:e.next=23;break;case 20:return e.prev=20,e.t1=e.catch(15),e.abrupt("return",!1);case 23:return e.abrupt("return",!0);case 24:case"end":return e.stop()}},e,this,[[4,9],[15,20]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAppConfigurationsMetadata",value:function(){var e=v()(f.a.mark(function e(t,n){var a,r,i,o,l,s,c,u,p,d,h;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=n,e.t0){e.next=6;break}return e.next=5,this.getValidAppFolder(t);case 5:e.t0=e.sent;case 6:a=e.t0,e.next=13;break;case 9:return e.prev=9,e.t1=e.catch(0),ee.error(e.t1,"StorageBackend"),e.abrupt("return",[]);case 13:if(a){e.next=15;break}return e.abrupt("return",[]);case 15:return r=[],i=Wn.sym("".concat(a,"/configurations/")),e.prev=17,e.next=20,this.load(i);case 20:e.next=26;break;case 22:return e.prev=22,e.t2=e.catch(17),ee.error(e.t2,"StorageBackend"),e.abrupt("return",[]);case 26:for(o=this.store.each(i,Ea("contains"),null,i),l=[],s=!0,c=!1,u=void 0,e.prev=31,p=o[Symbol.iterator]();!(s=(d=p.next()).done);s=!0)h=d.value,String(h.value).endsWith(".ttl")&&l.push(this.getAppConfigurationMetadata(h.value).then(function(e){r.push(e)}).catch(function(e){return ee.error(e,"StorageBackend")}));e.next=39;break;case 35:e.prev=35,e.t3=e.catch(31),c=!0,u=e.t3;case 39:e.prev=39,e.prev=40,s||null==p.return||p.return();case 42:if(e.prev=42,!c){e.next=45;break}throw u;case 45:return e.finish(42);case 46:return e.finish(39);case 47:return e.next=49,Promise.all(l);case 49:return e.abrupt("return",r.sort(function(e,t){return sa.sortByDateAsc(e.configuration.published,t.configuration.published)}));case 50:case"end":return e.stop()}},e,this,[[0,9],[17,22],[31,35,39,47],[40,,42,46]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAppConfigurationMetadata",value:function(){var e=v()(f.a.mark(function e(t){var n,a,r,i,o,l,s,c=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:void 0,a=c.length>2&&void 0!==c[2]&&c[2],r=Wn.sym(t),i=r.doc(),e.prev=4,a&&(this.requiresForceReload=a),e.next=8,this.load(i);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",Promise.reject(e.t0));case 13:if(!this.store.match(r,ga("type"),ka("VisualizerConfiguration"),i)){e.next=20;break}return o=Qn.fromTurtle(this.store,r,i),l="".concat(sa.getFilenameFromPathUrl(t)),s=t,this.registerChanges(t,n),e.abrupt("return",Jn.from({solidFileTitle:l,solidFileUrl:s,configuration:o}));case 20:return e.abrupt("return",Promise.reject(new Error("Configuration not found!")));case 21:case"end":return e.stop()}},e,this,[[4,10]])}));return function(t){return e.apply(this,arguments)}}()},{key:"uploadApplicationConfiguration",value:function(){var e=v()(f.a.mark(function e(t,n,a){var r,i,o,l,s=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(n,"/configurations"),i="".concat(sa.getName()),o="".concat(r,"/").concat(i,".ttl"),e.next=5,t.toTurtle(o);case 5:return l=e.sent,Wn.parse(l,this.store,o),ee.info(l,"StorageBackend"),e.prev=8,e.next=11,pa.createFile(r,"".concat(i,".ttl"),l).then(function(e){if(201===e.status){var t=e.url;ee.info("Created file at ".concat(t,".")),s.load(Wn.sym(o).doc())}});case 11:return e.t0=pa,e.t1=r,e.t2="".concat(i,".ttl.acl"),e.next=16,this.createFileAccessList(a,o,[Aa],!0,[]);case 16:return e.t3=e.sent,e.t4=function(e){if(201===e.status){var t=e.url;ee.info("Created file at ".concat(t,"."))}},e.next=20,e.t0.createFile.call(e.t0,e.t1,e.t2,e.t3).then(e.t4);case 20:return this.requiresForceReload=!0,e.abrupt("return",Promise.resolve(Jn.from({solidFileTitle:i,solidFileUrl:o,configuration:t})));case 24:return e.prev=24,e.t5=e.catch(8),ee.info(e.t5),e.abrupt("return",Promise.reject(e.t5));case 28:case"end":return e.stop()}},e,this,[[8,24]])}));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"removeApplicationConfiguration",value:function(){var e=v()(f.a.mark(function e(t,n){var a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(sa.getFolderUrlFromPathUrl(n.solidFileUrl)),r=n.solidFileTitle,e.next=5,pa.removeItem(a,r).then(function(e){if(200===e.status){var t=e.url;ee.info("Removed ".concat(r," at ").concat(t,"."))}});case 5:return e.next=7,pa.removeItem(a,"".concat(r,".acl")).then(function(e){if(200===e.status){var t=e.url;ee.info("Removed ".concat(r,".acl at ").concat(t,"."))}});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),ee.error("Could not delete a profile document.","StorageBackend"),e.abrupt("return",Promise.reject(e.t0));case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getFriendsWebId",value:function(){var e=v()(f.a.mark(function e(t){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wn.sym(t),a=n.doc(),e.prev=2,e.next=5,this.load(a);case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(2),ee.error("Could not load a profile document.","StorageBackend"),e.abrupt("return",Promise.reject(e.t0));case 11:return e.abrupt("return",this.store.each(n,xa("knows"),null,a).map(function(e){return e.value}));case 12:case"end":return e.stop()}},e,this,[[2,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getPerson",value:function(){var e=v()(f.a.mark(function e(t){var n,a,r,i,o,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wn.sym(t),a=n.doc(),e.prev=2,e.next=5,this.load(a);case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",Promise.reject(e.t0));case 10:return r=this.store.any(n,xa("name"),null,a),i=r?r.value:"",o=(o=this.store.any(n,xa("img"),null,a))||this.store.any(n,wa("hasPhoto"),null,a),l=o?o.value:"/img/icon/empty-profile.svg",e.abrupt("return",new Kn(t,i,l));case 16:case"end":return e.stop()}},e,this,[[2,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getPersons",value:function(){var e=v()(f.a.mark(function e(t){var n,a,r,i,o,l,s,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],a=[],r=!0,i=!1,o=void 0,e.prev=5,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)c=s.value,a.push(this.getPerson(c).then(function(e){n.push(e)}).catch(function(e){return ee.error(e,"StorageBackend")}));e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),i=!0,o=e.t0;case 13:e.prev=13,e.prev=14,r||null==l.return||l.return();case 16:if(e.prev=16,!i){e.next=19;break}throw o;case 19:return e.finish(16);case 20:return e.finish(13);case 21:return e.next=23,Promise.all(a);case 23:return e.abrupt("return",n.flat());case 24:case"end":return e.stop()}},e,this,[[5,9,13,21],[14,,16,20]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getFriends",value:function(){var e=v()(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFriendsWebId(t);case 2:return n=e.sent,e.abrupt("return",this.getPersons(n));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getFriendsImages",value:function(){var e=v()(f.a.mark(function e(t){var n,a,r=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFriendsWebId(t);case 2:return n=e.sent,e.next=5,Promise.all(n.map(function(e){return r.getImages(e)}));case 5:return a=e.sent,e.abrupt("return",a.flat().sort(function(e,t){return sa.sortByDateAsc(e.createdAt,t.createdAt)}));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createFolderAccessList",value:function(){var e=v()(f.a.mark(function e(t,n,a,r,i){var o,l,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.createAccessList(t,n,a,r,i,!0).join("\n").toString(),l=Wn.graph(),Wn.parse(o,l,n),e.next=5,Wn.serialize(null,l,"".concat(n,".acl"),"text/turtle");case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}},e,this)}));return function(t,n,a,r,i){return e.apply(this,arguments)}}()},{key:"createFileAccessList",value:function(){var e=v()(f.a.mark(function e(t,n,a,r,i){var o,l,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.createAccessList(t,n,a,r,i,!1).join("\n").toString(),l=Wn.graph(),Wn.parse(o,l,n),e.next=5,Wn.serialize(null,l,"".concat(n,".acl"),"text/turtle");case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}},e,this)}));return function(t,n,a,r,i){return e.apply(this,arguments)}}()},{key:"createAccessList",value:function(e,t,n,a,r,i){var o=this,l=Wn.sym(t),s="".concat(t,".acl"),c=Wn.sym(s),u=Wn.sym(e),p=Wn.sym("".concat(s,"#owner")),d=this.createAccessStatement(p,l,u,i,c,[Ca,Aa,Ta]);if(!0===a){var h=Wn.sym("".concat(s,"#public"));d=d.concat(this.createAccessStatement(h,l,null,i,c,n))}else r&&r.forEach(function(e){var t=Wn.sym(s),a=Wn.sym(e);d=d.concat(o.createAccessStatement(t,l,a,i,c,n))});return d}},{key:"createAccessStatement",value:function(e,t,n,a,r,i){var o=[Wn.st(e,ga("type"),ba("Authorization"),r),Wn.st(e,ba("accessTo"),t,r)];return n?o.push(Wn.st(e,ba("agent"),n,r)):o.push(Wn.st(e,ba("agentClass"),xa("Agent"),r)),i.forEach(function(t){o.push(Wn.st(e,ba("mode"),t,r))}),!0===a&&o.push(Wn.st(e,ba("defaultForNew"),t,r)),o}},{key:"updateResource",value:function(){var e=v()(f.a.mark(function e(t,n,a){var r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wn.sym(t),e.prev=1,e.next=4,this.load(r);case 4:return e.next=6,this.update(a,n);case 6:return e.abrupt("return",Promise.resolve("Resource updated!"));case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"sendFileToInbox",value:function(e,t,n){var a="".concat(sa.getBaseUrlConcat(e),"/inbox");pa.sendFileToUrl(a,t,n)}},{key:"rejectInvitation",value:function(e){var t=sa.getFolderUrlFromPathUrl(e.invitationUrl),n=sa.getFilenameFromPathUrl(e.invitationUrl);pa.removeItem(t,n).then(function(e){200===e.status&&ee.info("Removed ".concat(n,"."))})}},{key:"generateInvitationFile",value:function(){var e=v()(f.a.mark(function e(t,n,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){va.invite().name("lpapps_invite").actor("".concat(n)).target("".concat(a)).object(va.link().href("".concat(t))).publishedNow().prettyWrite(function(t,n){if(t)throw t;e(n)})}));case 1:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"generateResponseToInvitation",value:function(e,t){return new Promise(function(t){va.import(e.object,function(n,a){if(n)throw n;va.accept().name("lpapps_invite_response").actor("".concat(e.recipientWebId)).target("".concat(e.senderWebId)).object(a).publishedNow().prettyWrite(function(e,n){if(e)throw e;t(n)})})})}},{key:"checkSharedConfigurationsFolder",value:function(){var e=v()(f.a.mark(function e(t){var a,r,i,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.t.bind(null,960,7));case 2:return a=e.sent,r=fa.defer(),i=[],e.next=7,ha(t,a.fetch);case 7:return o=e.sent,ma().query("SELECT ?resource {\n      ?resource a <http://www.w3.org/ns/ldp#Resource>.\n    }",{sources:[{type:"rdfjsSource",value:o}]}).then(function(e){e.bindingsStream.on("data",function(e){var t=(e=e.toObject())["?resource"].value;i.push(t)}),e.bindingsStream.on("end",function(){r.resolve(i)})}),e.abrupt("return",r.promise);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"checkInboxFolder",value:function(){var e=v()(f.a.mark(function e(t){var a,r,i,o,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.t.bind(null,960,7));case 2:return a=e.sent,r=fa.defer(),i=[],e.next=7,ha(t,a.fetch);case 7:return o=e.sent,l=this,ma().query("SELECT ?resource { ?resource a <http://www.w3.org/ns/ldp#Resource>. }",{sources:[{type:"rdfjsSource",value:o}]}).then(function(e){e.bindingsStream.on("data",function(e){var t=(e=e.toObject())["?resource"].value;i.push(t),l.alreadyCheckedResources.push(t)}),e.bindingsStream.on("end",function(){r.resolve(i)})}),e.abrupt("return",r.promise);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseInvite",value:function(){var e=v()(f.a.mark(function e(t,n){var a,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pa.fetchJsonLDFromUrl(t);case 2:return a=e.sent,e.next=5,this.getPerson(a.actor);case 5:return r=e.sent,e.next=8,this.getPerson(a.target);case 8:if(i=e.sent,"Accept"!==a.type){e.next=11;break}return e.abrupt("return",new ta(r,i,a,t));case 11:return e.abrupt("return",new ea(r,i,a,t));case 12:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"parseSharedConfiguration",value:function(){var e=v()(f.a.mark(function e(t){var n,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pa.fetchJsonLDFromUrl(t);case 2:return n=e.sent,a=n.url,e.next=6,this.getAppConfigurationMetadata(a);case 6:return r=e.sent,e.abrupt("return",new $n(n,r));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"processAcceptSharedInvite",value:function(){var e=v()(f.a.mark(function e(t){var n,a,r,i,o,l,s,c,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.invitation.appMetadataUrl,a=sa.getFolderUrlFromPathUrl(n),r=sa.getFilenameFromPathUrl(n),i=t.senderWebId,o=t.recipientWebId,e.next=7,this.fetchAccessControlFile("".concat(n,".acl"));case 7:return l=e.sent,s=l.getCollaborators(),c=l.isPublic(),s.includes(i)||s.push(i),e.next=13,this.createFileAccessList(o,n,[Aa,Ta],c,s);case 13:return u=e.sent,e.next=16,pa.updateFile("".concat(a,"/"),"".concat(r,".acl"),u,'<http://www.w3.org/ns/ldp#Resource>; rel="type"').then(function(){ee.info("Created access list ".concat(r,".acl"))});case 16:return e.next=18,this.removeInvitation(t.invitationUrl).then(function(e){if(200===e.status){var t=e.url;ee.info("Removed ".concat(t,"."))}});case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedMetadataFromInvite",value:function(){var e=v()(f.a.mark(function e(t){var n,a,r,i,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.recipientWebId,a="sharedConfigurations",e.next=4,this.getValidAppFolder(n).catch(function(){var e=v()(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ee.error(t,"StorageBackend");case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 4:return r=e.sent,i="".concat(r,"/").concat(a),o=this,e.abrupt("return",new Promise(function(e){va.document().url("".concat(t.appMetadataUrl)).attributedTo(va.person().url("".concat(t.senderWebId))).publishedNow().prettyWrite(function(){var t=v()(f.a.mark(function t(a,r){var l;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=4;break}throw a;case 4:return l="".concat(sa.getName(),".jsonld"),t.next=7,pa.createFile(i,l,r);case 7:return t.t0=pa,t.t1=i,t.t2="".concat(l,".acl"),t.next=12,o.createFileAccessList(n,"".concat(i,"/").concat(l),[Aa],!1,void 0);case 12:return t.t3=t.sent,t.next=15,t.t0.createFile.call(t.t0,t.t1,t.t2,t.t3);case 15:e(!0);case 16:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())}));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"removeInvitation",value:function(){var e=v()(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pa.removeItem(sa.getFolderUrlFromPathUrl(t),sa.getFilenameFromPathUrl(t)));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchAccessControlFile",value:function(){var e=v()(f.a.mark(function e(t){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pa.fetchFileFromUrl(t,{Accept:"application/ld+json"});case 2:return n=e.sent,a=JSON.parse(n),e.abrupt("return",new na(a,t));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateAccessControlFile",value:function(){var e=v()(f.a.mark(function e(t,n,a,r){var i,o,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=sa.getFolderUrlFromPathUrl(n),o=sa.getFilenameFromPathUrl(n),e.next=4,this.createFileAccessList(t,n,[Aa,Ta],a,r.map(function(e){return e.webId}));case 4:return l=e.sent,e.abrupt("return",pa.updateFile("".concat(i,"/"),"".concat(o,".acl"),l,'<http://www.w3.org/ns/ldp#Resource>; rel="type"').then(function(){ee.info("Updated access list ".concat(o,".acl"))}));case 6:case"end":return e.stop()}},e,this)}));return function(t,n,a,r){return e.apply(this,arguments)}}()}]),e}()),Fa=new Da,Pa=n(1323),Ra=function(){function e(){var t=this;b()(this,e),F()(this,"appIriToPublishUrl",function(e,t){var n=Pa.hostname().toLowerCase();return"".concat("localhost"===n?"http://":"https://").concat(n).concat("","/").concat(t,"?applicationIri=").concat(e)}),F()(this,"removeAppFromStorage",function(){var e=v()(f.a.mark(function e(t,n){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa.removeApplicationConfiguration(t,n));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),F()(this,"getInboxMessages",function(){var e=v()(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(sa.getBaseUrlConcat(t),"/inbox"),e.abrupt("return",Fa.checkInboxFolder(n));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),F()(this,"readInboxInvite",function(){var e=v()(f.a.mark(function e(t,n){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa.parseInvite(t,n));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),F()(this,"processAcceptShareInvite",function(){var e=v()(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa.processAcceptSharedInvite(t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),F()(this,"readSharedConfiguration",function(){var e=v()(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa.parseSharedConfiguration(t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),F()(this,"sendCollaborationInvitation",function(){var e=v()(f.a.mark(function e(t,n,a){var r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa.generateInvitationFile(t.solidFileUrl,n,a);case 2:r=e.sent,Fa.sendFileToInbox(a,r,"application/ld+json");case 4:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()),F()(this,"sendAcceptCollaborationInvitation",function(){var e=v()(f.a.mark(function e(t){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa.createSharedMetadataFromInvite(t);case 2:return e.next=4,Fa.generateResponseToInvitation(t,"yes");case 4:return n=e.sent,a=t.senderWebId,Fa.sendFileToInbox(a,n,"application/ld+json"),e.next=9,Fa.removeInvitation(t.invitationUrl).then(function(e){if(200===e.status){var t=e.url;ee.info("Removed ".concat(t,"."))}});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),F()(this,"sendRejectCollaborationInvitation",function(){var e=v()(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Fa.rejectInvitation(t);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),F()(this,"getSharedApplicationsMetadata",function(){var e=v()(f.a.mark(function e(n,a){var r,i,o,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(a,"/sharedConfigurations"),e.next=3,Fa.checkSharedConfigurationsFolder(r);case 3:return i=e.sent,o=[],l=t,e.next=8,Promise.all(i.map(function(){var e=v()(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.readSharedConfiguration(t);case 2:n=e.sent,ee.info(n),o.push(n.appMetadata);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 8:return ee.info(o),e.abrupt("return",o);case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),F()(this,"copyFolderRecursively",function(){var e=v()(f.a.mark(function e(t,n,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa.copyFoldersRecursively(t,n,a));case 1:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()),F()(this,"moveFolderRecursively",function(){var e=v()(f.a.mark(function e(t,n,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa.moveFolderRecursively(t,n,a));case 1:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()),F()(this,"getAppConfigurationsMetadata",function(){var e=v()(f.a.mark(function e(t,n){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa.getAppConfigurationsMetadata(t,n));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),F()(this,"getAppMetadata",function(){var e=v()(f.a.mark(function e(t,n){var a,r=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>2&&void 0!==r[2]&&r[2],e.abrupt("return",Fa.getAppConfigurationMetadata(t,n,a));case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),F()(this,"getPerson",function(){var e=v()(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa.getPerson(t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),F()(this,"getValidAppFolder",function(){var e=v()(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa.getValidAppFolder(t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),F()(this,"createAppFolders",function(){var e=v()(f.a.mark(function e(t,n){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa.createAppFolders(t,n));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),F()(this,"renameAppConfiguration",function(){var e=v()(f.a.mark(function e(t,n){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa.renameAppConfiguration(t,n));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),F()(this,"setFiltersStateEnabled",function(){var e=v()(f.a.mark(function e(t,n){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa.setFiltersStateEnabled(t,n));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),F()(this,"setFiltersStateVisible",function(){var e=v()(f.a.mark(function e(t,n){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa.setFiltersStateVisible(t,n));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),F()(this,"setSelectedFilterOptions",function(){var e=v()(f.a.mark(function e(t,n){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa.setSelectedFilterOptions(t,n));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),F()(this,"getFriends",function(){var e=v()(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa.getFriends(t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),F()(this,"fetchAclFromMetadata",function(){var e=v()(f.a.mark(function e(t){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(t.solidFileUrl,".acl"),e.next=3,Fa.fetchAccessControlFile(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}return y()(e,[{key:"saveAppToSolid",value:function(){var e=v()(f.a.mark(function e(t,n,a,r){var i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=3;break}return ee.error("No webID available","StorageToolbox"),e.abrupt("return");case 3:return i=Qn.fromRawParameters(t,n,a),e.abrupt("return",Fa.uploadApplicationConfiguration(i,r,a));case 5:case"end":return e.stop()}},e)}));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"getPersons",value:function(){var e=v()(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa.getPersons(t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateAccessControl",value:function(e,t,n,a){return Fa.updateAccessControlFile(e,t,n,a)}}]),e}(),Oa=new Ra,La=function(e,t){return{type:jn,schemes:t}},Na=function(e,t){return{type:Un,nodes:t,filterName:e}},Ma=function(e){return{type:zn,value:e}},ja=function(e){return{type:Vn,value:e}},Ua=function(e,t,n){return function(e,a){var r=a(),i=r.filters.filtersState.filterGroups.schemeFilter.options;if(e(La(0,t)),n){var o=r.application.selectedApplicationMetadata;if(o){var l=t.filter(function(e){return!i.includes(e)});l.length>0&&i.length>0&&Oa.setSelectedFilterOptions(o.solidFileUrl,l)}}}},_a=function(e){return{type:Gn,value:e}},Ga=function(e){return{type:_n,visualizerCode:e}},za=function(e){return function(t,n){t(Ma(e));var a=n().application.selectedApplicationMetadata;a&&Oa.setFiltersStateEnabled(a.solidFileUrl,e)}},Va=function(){return{type:Hn}},Ha=function(e){return function(t,n){t(ja(e));var a=n().application.selectedApplicationMetadata;a&&Oa.setFiltersStateVisible(a.solidFileUrl,e)}},Wa=function(e,t,n){return function(a,r){var i=r(),o=i.filters.filtersState.filterGroups.nodesFilter.options;if(a(Na(e,t)),n){var l=i.application.selectedApplicationMetadata;if(l){var s=t.filter(function(e){return!o.includes(e)});s.length>0&&o.length>0&&Oa.setSelectedFilterOptions(l.solidFileUrl,s)}}}},Ba={selectedScheme:null,nodes:null,filtersState:null},qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jn:return{filtersState:Ce()({},e.filtersState,{filterGroups:Ce()({},e.filtersState.filterGroups,{schemeFilter:Ce()({},e.filtersState.filterGroups.schemeFilter,{options:t.schemes})})})};case Un:return{filtersState:Ce()({},e.filtersState,{filterGroups:Ce()({},e.filtersState.filterGroups,{nodesFilter:Ce()({},e.filtersState.filterGroups.nodesFilter,{options:t.nodes})})})};case zn:return Ce()({},e,{filtersState:Ce()({},e.filtersState,{enabled:t.value})});case Vn:return Ce()({},e,{filtersState:Ce()({},e.filtersState,{visible:t.value})});case Gn:return Ce()({},e,{filtersState:t.value});case _n:switch(t.visualizerCode){case we.VISUALIZER_TYPE.CHORD:return{filtersState:{enabled:!0,visible:!0,filterGroups:{nodesFilter:{label:"Nodes",enabled:!0,visible:!0,filterType:"NODES_FILTER",options:[]}}}};case we.VISUALIZER_TYPE.TREEMAP:return{filtersState:{enabled:!0,visible:!0,filterGroups:{schemeFilter:{label:"Scheme",enabled:!0,visible:!0,filterType:"SCHEME_FILTER",options:[]}}}};case we.VISUALIZER_TYPE.RESET_FILTERS:return Ba;default:return e}default:return e}},Xa=n(1463),Ya=n(1496),Za=n(1462),Qa=function(e){function t(e){var n;return b()(this,t),n=I()(this,w()(t).call(this,e)),F()(C()(n),"conceptsFetched",void 0),F()(C()(n),"isMounted",!1),F()(C()(n),"componentWillUnmount",function(){n.isMounted=!1}),F()(C()(n),"handleApplyFilter",v()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.onApplyFilter(n.props.name,n.state.nodes,n.props.editingMode);case 2:case"end":return e.stop()}},e)}))),F()(C()(n),"handleChange",function(e){return function(t){if(n.isMounted){var a=t.target.checked;n.setState(function(t){return{nodes:t.nodes.map(function(t){return t.uri===e?Ce()({},t,{selected:a}):t})}})}}}),C()(n).handleChange=n.handleChange.bind(C()(n)),n.state={nodes:n.props.nodes||[]},n}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=v()(f.a.mark(function e(){var t,n,a=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isMounted=!0,!this.props.editingMode||this.state.nodes.length){e.next=10;break}return t=[],e.next=5,ae.getChordNodes(this.props.selectedResultGraphIri);case 5:n=e.sent,t=(n.data||[]).map(function(e){return Ce()({},e,{label:e.label.languageMap.nolang,visible:!0,enabled:!0,selected:!0})}),this.setState({nodes:t},function(){a.props.onApplyFilter(a.props.name,a.state.nodes,a.props.editingMode)}),e.next=11;break;case 10:this.props.onApplyFilter(this.props.name,this.state.nodes,this.props.editingMode);case 11:this.props.registerCallback(this.handleApplyFilter);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(Za.a,null,r.a.createElement(Xa.a,{row:!0},this.state.nodes.map(function(t){return r.a.createElement("span",{key:t.uri},r.a.createElement(L.a,{key:qn.a.v4(),control:r.a.createElement(Ya.a,{value:t.uri,checked:t.selected,onChange:e.handleChange(t.uri)}),label:t.label,disabled:!t.enabled}),e.props.editingMode&&r.a.createElement("span",null,r.a.createElement(L.a,{control:r.a.createElement(V.a,{checked:!0,value:"checkedA",color:"primary"}),label:"Enabled"}),r.a.createElement(L.a,{control:r.a.createElement(V.a,{checked:!0,value:"checkedA",color:"primary"}),label:"Visible"})))})))}}]),t}(r.a.Component),Ja=Object(o.b)(null,function(e){return{onApplyFilter:function(t,n,a){return e(Wa(t,n,a))}}})(Object(U.a)(function(e){return{formControl:{margin:e.spacing(1),minWidth:100},selectEmpty:{marginTop:e.spacing(2)}}})(Qa)),$a=n(1464),Ka=function(e){function t(e){var n;return b()(this,t),n=I()(this,w()(t).call(this,e)),F()(C()(n),"conceptsFetched",void 0),F()(C()(n),"handleSchemeChange",function(e){n.setState(function(t){return{schemes:t.schemes.map(function(t){return t.uri===e.target.value.uri?Ce()({},t,{selected:!0}):Ce()({},t,{selected:!1})})}})}),F()(C()(n),"handleApplyFilter",v()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.onApplyFilter(n.props.name,n.state.schemes,n.props.editingMode);case 2:case"end":return e.stop()}},e)}))),n.state={schemes:n.props.schemes||[]},n}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=v()(f.a.mark(function e(){var t,n,a=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.editingMode||this.state.schemes.length){e.next=7;break}return e.next=3,ae.getSkosSchemes(this.props.selectedResultGraphIri);case 3:t=e.sent,(n=t.data.map(function(e){return{uri:e.uri,label:e.label.languageMap.en,visible:!0,enabled:!0,selected:!1}}))[0]=Ce()({},n[0],{selected:!0}),this.setState({schemes:n},function(){return a.props.onApplyFilter(a.props.name,a.state.schemes,a.props.editingMode)});case 7:this.props.registerCallback(this.handleApplyFilter);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes,t=this.state.schemes&&this.state.schemes.find(function(e){return e.selected});return t?this.state.schemes&&!!t&&r.a.createElement(Za.a,null,r.a.createElement(Xa.a,{className:e.formGroup},r.a.createElement(O.a,{className:e.formControl},r.a.createElement(_.a,{value:t,onChange:this.handleSchemeChange,name:"scheme",className:e.option},this.state.schemes.map(function(e){return r.a.createElement(G.a,{key:e.uri,value:e},e.label)})),r.a.createElement($a.a,null,"Selected scheme")))):r.a.createElement("div",null,"loading filters")}}]),t}(r.a.PureComponent),er=Object(o.b)(null,function(e){return{onApplyFilter:function(t,n,a){e(Ua(t,n,a))}}})(Object(U.a)(function(e){return{formControl:{margin:e.spacing(1),minWidth:"100%",overflow:"hidden"},formGroup:{minWidth:"100%"},selectEmpty:{marginTop:e.spacing(2)},option:{maxWidth:"90%"}}})(Ka)),tr=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=I()(this,(e=w()(t)).call.apply(e,[this].concat(i))),F()(C()(n),"applyCallbacks",[]),F()(C()(n),"registerCallback",function(e){n.applyCallbacks.push(e)}),F()(C()(n),"getFilter",function(e,t,a){switch(e){case"NODES_FILTER":return r.a.createElement(Ja,{editingMode:n.props.editingMode,registerCallback:n.registerCallback,nodes:a,selectedResultGraphIri:n.props.selectedResultGraphIri,name:t});case"SCHEME_FILTER":return r.a.createElement(er,{editingMode:n.props.editingMode,registerCallback:n.registerCallback,schemes:a,selectedResultGraphIri:n.props.selectedResultGraphIri,name:t});default:return r.a.createElement("div",null," Unknown filter type ")}}),F()(C()(n),"handleSwitchChange",function(e){return function(t){var a=t.target.checked;n.setState(function(t){return{filtersState:Ce()({},t.filtersState,F()({},e,a))}})}}),n}return T()(t,e),y()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.editingMode,i=t.filtersState,o=t.handleToggleEnabled,l=t.handleToggleVisible;return i&&r.a.createElement("div",{className:n.root},r.a.createElement(Te.a,{variant:"h4",className:n.filterTitle},"Filters",r.a.createElement("span",{className:n.filterSpan},a&&r.a.createElement("span",null,r.a.createElement(L.a,{control:r.a.createElement(V.a,{onChange:o,checked:i.enabled,value:i.enabled,color:"primary"}),label:i.enabled?"Enabled":"Disabled"}),r.a.createElement(L.a,{control:r.a.createElement(V.a,{onChange:l,checked:i.visible,value:i.visible,color:"primary"}),label:i.visible?"Visible":"Hidden"})),r.a.createElement(P.a,{onClick:function(){e.applyCallbacks.forEach(function(e){e()})},variant:"contained",size:"small",color:"primary"},"Apply filters"))),(Object.values(i.filterGroups)||[]).map(function(t){return"FilterGroup"!==t&&(a||t.visible)&&r.a.createElement("div",{className:n.filterWrapper,key:t.label},r.a.createElement(On.a,{key:t.label,disabled:!t.enabled&&!a},r.a.createElement(Ln.a,{id:t.label,expandIcon:r.a.createElement(Mn.a,null)},r.a.createElement(Te.a,{className:n.heading},t.label),a&&r.a.createElement("div",null,r.a.createElement(L.a,{control:r.a.createElement(V.a,{checked:t.enabled,value:t.enabled,color:"primary"}),label:t.enabled?"Enabled":"Disabled"}),r.a.createElement(L.a,{control:r.a.createElement(V.a,{checked:t.visible,value:t.visible,color:"primary"}),label:t.visible?"Visible":"Hidden"}))),e.getFilter(t.filterType,t.label,t.options)))}))}}]),t}(r.a.Component),nr=Object(o.b)(function(e){return{filtersState:e.filters.filtersState}},function(e){return{handleToggleEnabled:function(t){return e(za(t.target.checked))},handleToggleVisible:function(t){return e(Ha(t.target.checked))}}})(Object(U.a)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},filterSpan:{paddingLeft:"1rem"},filterTitle:{paddingBottom:"1rem"},filterWrapper:{paddingBottom:"1rem"}}})(tr)),ar=n(167),rr="SET_APPLICATION",ir="RESET_APPLICATION",or="SET_APPLICATION_TITLE",lr="SET_APPLICATION_METADATA",sr="RESET_APPLICATION_METADATA",cr=function(e){return{type:rr,value:e}},ur=function(e){return{type:lr,value:e}},pr=function(){return{type:sr}},dr=function(){return{type:ir}},hr=function(e){return{type:or,value:e}},fr=(n(701),{selectedApplication:{},selectedApplicationMetadata:void 0}),mr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rr:return Ce()({},e,{selectedApplication:Ce()({},e.selectedApplication,t.value)});case lr:return Ce()({},e,{selectedApplicationMetadata:t.value});case sr:return Ce()({},e,{selectedApplicationMetadata:void 0});case ir:return Ce()({},e,{selectedApplication:{}});case or:return Ce()({},e,{selectedApplication:Ce()({},e.selectedApplication,{title:t.value})});default:return e}},vr=function(e){function t(e){var a;return b()(this,t),a=I()(this,w()(t).call(this,e)),F()(C()(a),"state",{applicationType:"Loading",width:0,height:0}),F()(C()(a),"componentDidMount",v()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.updateWindowDimensions(),window.addEventListener("resize",a.updateWindowDimensions.bind(C()(a))),a.props.setColorTheme(!0),e.next=5,a.loadApplicationMetadata();case 5:case"end":return e.stop()}},e)}))),F()(C()(a),"loadApplicationMetadata",v()(f.a.mark(function e(){var t,r,i,o,l,s,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(1).then(n.t.bind(null,1509,7));case 2:return t=e.sent,r=C()(a),i=t.parse(a.props.location.search),o=i.applicationIri,e.next=8,Oa.getAppMetadata(o,a.loadApplicationMetadata,!0).catch(function(e){ee.error(e,"ApplicationContainer"),r.setState({applicationType:we.VISUALIZER_TYPE.UNDEFINED})});case 8:return l=e.sent,s=l.configuration,c=s.visualizerType,e.next=13,ae.getGraphExists(s.graphIri).catch(function(){c=we.VISUALIZER_TYPE.UNDEFINED});case 13:return e.next=15,a.props.handleSetFiltersState(s.filterConfiguration);case 15:return e.next=17,a.props.handleSetSelectedApplicationData(s);case 17:return e.next=19,a.props.handleSetSelectedApplicationMetadata(l);case 19:r.setState({applicationType:c});case 20:case"end":return e.stop()}},e)}))),F()(C()(a),"updateWindowDimensions",function(){a.setState({width:window.innerWidth,height:window.innerHeight})}),F()(C()(a),"getApplication",function(e,t){var n=a.props.filtersState;switch(e){case we.VISUALIZER_TYPE.MAP:case we.VISUALIZER_TYPE.ADVANCED_FILTERS_MAP:var i=t.graphIri;return r.a.createElement(rn,{selectedResultGraphIri:i,isPublished:!0});case we.VISUALIZER_TYPE.TREEMAP:var o=t.graphIri;return r.a.createElement(un,{selectedResultGraphIri:o,isPublished:!0,schemes:Object(ar.a)([],"filterGroups.schemeFilter.options",n)});case we.VISUALIZER_TYPE.CHORD:return r.a.createElement(bn,{selectedResultGraphIri:t.graphIri,size:a.state.height+a.state.width,nodes:Object(ar.a)([],"filterGroups.nodesFilter.options",n),isPublished:!0});case we.VISUALIZER_TYPE.UNDEFINED:return r.a.createElement(Te.a,{variant:"h2",gutterBottom:!0},"Application was deleted...");default:return r.a.createElement(Te.a,{variant:"h2",gutterBottom:!0},"Loading Application...")}}),F()(C()(a),"updateWindowDimensions",function(){a.setState({width:window.innerWidth,height:window.innerHeight})}),a.updateWindowDimensions=a.updateWindowDimensions.bind(C()(a)),a}return T()(t,e),y()(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){var e=this.getApplication,t=null!==this.props.filtersState&&this.props.filtersState.visible;return r.a.createElement(Rn.a,{container:!0,className:this.props.classes.root,direction:"row"},t&&"Loading"!==this.state.applicationType&&r.a.createElement(Rn.a,{item:!0,lg:4,md:5,xs:12,className:this.props.classes.filterSideBar},r.a.createElement(nr,{editingMode:!1,filtersState:this.props.filtersState,selectedResultGraphIri:this.props.selectedApplication.graphIri})),r.a.createElement(Rn.a,{id:"viz-div",className:this.props.classes.vizdiv,item:!0,lg:t?8:12,md:t?7:12,xs:12,style:{paddingLeft:t?"2rem":""}},r.a.createElement("div",{style:{height:"95%",textAlign:t?"left":"center"}},e(this.state.applicationType,this.props.selectedApplication))))}}]),t}(a.PureComponent),gr=Object(tt.a)(Object(o.b)(function(e){return{filtersState:e.filters.filtersState,selectedApplication:e.application.selectedApplication}},function(e){return{setColorTheme:function(t){return e(ut(t))},handleSetSelectedApplicationData:function(t){return e(cr(t))},handleSetSelectedApplicationMetadata:function(t){return e(ur(t))},handleSetFiltersState:function(t){return e(_a(t))}}})(Object(U.a)(function(e){return{root:{flex:1},vizdiv:{overflow:"hidden"},containerView:{textAlign:"center",paddingTop:e.spacing(20)},filterSideBar:{paddingTop:"2rem",paddingLeft:"2rem"}}})(vr))),br=n(264),Er=n.n(br),yr=n(349),xr=n.n(yr),Ir=n(1485),Sr=n(1493),wr=n(1482),kr=n(1468),Cr=n(1472),Ar=n(1471),Tr=n(1469),Dr=n(1470),Fr=n(165),Pr=n.n(Fr),Rr=n(10),Or=n.n(Rr),Lr=Object(U.a)(function(){return{root:{overflowX:"auto"}}})(function(e){var t=e.discoveriesList,n=e.onHandleSelectDiscoveryClick,r=e.onHandleDiscoveryRowClicked,i=e.onHandleDiscoveryRowDeleteClicked,o=e.classes;return a.createElement("div",null,t&&t.length>0?a.createElement(j.a,{elevation:2,classes:o},a.createElement(kr.a,null,a.createElement(Tr.a,null,a.createElement(Dr.a,{key:qn()()},a.createElement(Ar.a,{align:"center"},"Action"),a.createElement(Ar.a,{align:"center"},"Info"),a.createElement(Ar.a,{align:"center"},"Remove"),a.createElement(Ar.a,{align:"center"},"Status"),a.createElement(Ar.a,{align:"center"},"SPARQL IRI"),a.createElement(Ar.a,{align:"center"},"Named Graph IRI"),a.createElement(Ar.a,{align:"center"},"Started at"),a.createElement(Ar.a,{align:"center"},"Finished at"))),a.createElement(Cr.a,null,t.map(function(e,t){return a.createElement(Dr.a,{key:qn()()},a.createElement(Ar.a,{align:"center",component:"th",scope:"row",padding:"checkbox"},a.createElement(P.a,{id:"button_".concat(e.discoveryId),size:"small",disabled:!e.isFinished,variant:"contained",color:"secondary",onClick:function(){n(e.discoveryId)}},"Continue")),a.createElement(Ar.a,{align:"center",component:"th",scope:"row",padding:"checkbox"},a.createElement(P.a,{id:"button_".concat(e.discoveryId),size:"small",disabled:!e.isFinished,variant:"contained",color:"primary",onClick:function(){return r(e)}},"Info")),a.createElement(Ar.a,{align:"center",component:"th",scope:"row",padding:"checkbox"},a.createElement(xt.a,{id:"delete_discovery_session_button_".concat(t),key:"button_".concat(e.discoveryId),"aria-label":"Decline",onClick:function(){return i(e)}},a.createElement(Pr.a,null))),a.createElement(Ar.a,{align:"center"},e.isFinished?"Finished":"In progress"),a.createElement(Ar.a,{align:"center"},e.sparqlEndpointIri),a.createElement(Ar.a,{align:"center"},e.namedGraphs.join(",\n")),a.createElement(Ar.a,{align:"center"},-1===e.started?"N/A":Or.a.unix(e.started).format("lll")),a.createElement(Ar.a,{align:"center"},-1===e.finished?"N/A":Or.a.unix(e.finished).format("lll")))})))):a.createElement(j.a,{elevation:2},a.createElement(Te.a,{component:"span",variant:"body1",gutterBottom:!0},"No discoveries found")))}),Nr=n(6),Mr=n.n(Nr),jr=n(1474),Ur=n(1477),_r=n(1475),Gr=n(1476),zr=n(1473),Vr=n(168),Hr=n.n(Vr),Wr=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=I()(this,(e=w()(t)).call.apply(e,[this].concat(r))),F()(C()(n),"handleClose",function(){n.props.onClose(n.props.selectedValue)}),F()(C()(n),"handleListItemClick",function(e){n.props.onClose(e)}),n}return T()(t,e),y()(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.onClose,e.selectedValue),n=Mr()(e,["classes","onClose","selectedValue"]);return r.a.createElement(zr.a,Re()({onClose:this.handleClose,"aria-labelledby":"simple-dialog-title"},n),r.a.createElement(jr.a,{id:"simple-dialog-title"},"Discovery Execution Info"),r.a.createElement(_r.a,null,r.a.createElement(Gr.a,null,r.a.createElement(Te.a,{variant:"body1",component:"span",align:"left"},"SPARQL IRI: ".concat(t.sparqlEndpointIri)),r.a.createElement(Te.a,{variant:"body1",component:"span",align:"left"},"Data sample IRI: ".concat(t.dataSampleIri)),r.a.createElement(Te.a,{variant:"body1",component:"span",align:"left"},"Named Graph IRIs: ".concat(t.namedGraphs?t.namedGraphs.join(",\n"):"–")))),r.a.createElement(Ur.a,null,r.a.createElement(P.a,{onClick:this.handleClose,color:"primary",autoFocus:!0},"Close")),r.a.createElement("div",null))}}]),t}(a.PureComponent),Br=Object(U.a)(function(e){return{avatar:{backgroundColor:Hr.a[100],color:Hr.a[600]},paper:{padding:e.spacing(4),textAlign:"center",color:e.palette.text.secondary}}})(Wr),qr=(n(702),"SET_USER_PROFILE"),Xr="SET_SOLID_USER_PROFILE",Yr="SET_USER_WEBID",Zr="SET_USER_SOLID_NAME",Qr="SET_USER_SOLID_IMAGE",Jr="ADD_DISCOVERY_SESSION",$r="ADD_EXECUTION_SESSION",Kr="DELETE_DISCOVERY_SESSION",ei="DELETE_EXECUTION_SESSION",ti="UPDATE_DISCOVERY_SESSION",ni="UPDATE_EXECUTION_SESSION",ai="UPDATE_APPLICATIONS_FOLDER",ri="SET_USER_INBOX_INVITATIONS",ii=function(e){return{type:qr,profile:e}},oi=function(e){return{type:Yr,value:e}},li=function(e){var t=e.session;return{type:Jr,session:t}},si=function(e){var t=e.discoveryId;return{type:Kr,discoveryId:t}},ci=function(e){var t=e.session;return{type:ti,session:t}},ui=function(e){var t=e.session;return{type:$r,session:t}},pi=function(e){var t=e.executionIri;return{type:ei,executionIri:t}},di=function(e){var t=e.session;return{type:ni,session:t}},hi=function(e){return function(t){return new Promise(function(n){t(ii(e)),n()})}},fi=function(e){var t=e.value;return{type:ai,value:t}},mi=function(e){return{type:ri,value:e}},vi=function(e,t,n){return function(a){return new Promise(function(r){a(function(e,t,n){return{type:Xr,profile:e,solidUsername:t,solidImage:n}}(e,t,n)),r()})}},gi=(n(703),n(348)),bi=n.n(gi),Ei={webId:void 0,applicationsFolder:"",applications:[],discoverySessions:[],pipelineExecutions:[],name:"",image:void 0,inboxInvitations:[]},yi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qr:return Ce()({},e,{applications:t.profile.applications,discoverySessions:t.profile.discoverySessions,pipelineExecutions:t.profile.pipelineExecutions});case Xr:return Ce()({},e,{applications:t.profile.applications,discoverySessions:t.profile.discoverySessions,pipelineExecutions:t.profile.pipelineExecutions,name:t.solidUsername,image:t.solidImage});case Yr:return Ce()({},e,{webId:t.value});case Zr:return Ce()({},e,{name:t.value});case Qr:return Ce()({},e,{image:t.value});case Jr:return Ce()({},e,{discoverySessions:e.discoverySessions.concat(t.session)});case Kr:return Ce()({},e,{discoverySessions:e.discoverySessions.filter(function(e){return e.discoveryId!==t.discoveryId})});case ti:return bi()(e,{discoverySessions:{$apply:function(e){return e.map(function(e){if(e.discoveryId===t.session.discoveryId){var n=e;return Object.keys(t.session).forEach(function(e){-1!==t.session[e]&&void 0!==t.session[e]&&(n[e]=t.session[e])}),n}return e})}}});case $r:return Ce()({},e,{pipelineExecutions:e.pipelineExecutions.concat(t.session)});case ei:return Ce()({},e,{pipelineExecutions:e.pipelineExecutions.filter(function(e){return e.executionIri!==t.executionIri})});case ni:return bi()(e,{pipelineExecutions:{$apply:function(e){return e.map(function(e){if(e.executionIri===t.session.executionIri){var n=e;return Object.keys(t.session).forEach(function(e){-1!==t.session[e]&&void 0!==t.session[e]&&(n[e]=t.session[e])}),n}return e})}}});case ai:return Ce()({},e,{applicationsFolder:t.value});case ri:return Ce()({},e,{inboxInvitations:t.value});default:return e}},xi=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=I()(this,(e=w()(t)).call.apply(e,[this].concat(r))),F()(C()(n),"state",{open:!1,selectedDiscovery:{}}),F()(C()(n),"handleClose",function(){n.setState({selectedDiscovery:{},open:!1})}),F()(C()(n),"handleDiscoveryRowClicked",function(e){n.setState({open:!0,selectedDiscovery:e})}),F()(C()(n),"handleDiscoveryRowDeleteClicked",function(){var e=v()(f.a.mark(function e(t){var a,r,i,o,l,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,r=a.webId,i=a.onSetApplicationLoaderStatus,o=a.handleSetUserProfileAsync,l=a.socket,i(!0),e.next=4,le.deleteDiscovery(r,t.discoveryId,l.id);case 4:if(200!==(s=e.sent).status){e.next=12;break}return e.next=8,i(!1);case 8:return e.next=10,o(s.data);case 10:e.next=15;break;case 12:return e.next=14,i(!1);case 14:Y.b.error("Error! Unable to delete discovery session. Try again later...",{position:Y.b.POSITION.TOP_RIGHT,autoClose:5e3});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n}return T()(t,e),y()(t,[{key:"render",value:function(){var e=this.props,t=e.discoveriesList,n=e.onHandleSelectDiscoveryClick,a=this.handleDiscoveryRowClicked,i=this.handleClose,o=this.handleDiscoveryRowDeleteClicked,l=this.state,s=l.selectedDiscovery,c=l.open;return r.a.createElement("div",null,r.a.createElement(Lr,{discoveriesList:t,onHandleSelectDiscoveryClick:n,onHandleDiscoveryRowClicked:a,onHandleDiscoveryRowDeleteClicked:o}),r.a.createElement(Br,{selectedValue:s,open:c,onClose:i}))}}]),t}(a.PureComponent),Ii=Object(o.b)(function(e){return{webId:e.user.webId}},function(e){return{handleSetUserProfileAsync:function(t){return e(hi(t))}}})(function(e){return r.a.createElement(he.Consumer,null,function(t){return r.a.createElement(xi,Re()({},e,{socket:t}))})}),Si=n(263),wi=n.n(Si),ki=n(4),Ci=n.n(ki),Ai=n(1478),Ti=n(1480),Di=n(1479),Fi=n(1481),Pi=n(1495),Ri=n(759),Oi=n.n(Ri),Li=n(723),Ni="SET_SELECTED_RESULT_GRAPH_IRI",Mi="SET_PIPELINE_ID",ji="SET_PIPELINE_EXECUTION",Ui=function(e){return{type:Ni,selectedResultGraphIri:e}},_i=function(e){return{type:Mi,pipeline:{id:e}}},Gi=function(e){return{type:ji,pipelineExecution:e}},zi={selectedResultGraphIri:void 0,selectedPipelineExecution:void 0,pipelineId:void 0},Vi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ni:return Ce()({},e,{selectedResultGraphIri:t.selectedResultGraphIri});case Mi:return Ce()({},e,{pipelineId:t.pipeline.id});case ji:return Ce()({},e,{selectedPipelineExecution:t.pipelineExecution});default:return e}};var Hi=n(96),Wi=n(760),Bi=n.n(Wi),qi=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=I()(this,(e=w()(t)).call.apply(e,[this].concat(r))),F()(C()(n),"state",{open:!1,anchorEl:void 0}),F()(C()(n),"handleClickOpen",function(){n.setState({open:!0})}),F()(C()(n),"handleClose",function(){n.setState({open:!1})}),F()(C()(n),"handleDeleteApp",v()(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.setApplicationLoaderStatus,e.next=3,t(!0);case 3:return e.next=5,Oa.removeAppFromStorage(n.props.applicationsFolder,n.props.applicationMetadata);case 5:if(!e.sent){e.next=10;break}return e.next=9,le.deleteApplication(n.props.webId,n.props.applicationMetadata.solidFileUrl);case 9:n.props.onHandleApplicationDeleted(n.props.applicationMetadata);case 10:return e.next=12,t(!1);case 12:case"end":return e.stop()}},e)}))),F()(C()(n),"handleMenuClick",function(e){n.setState({anchorEl:e.currentTarget})}),F()(C()(n),"handleMenuClose",function(){n.setState({anchorEl:null})}),F()(C()(n),"handleShareApp",function(){n.setState({open:!0})}),F()(C()(n),"handleCopyLinkClicked",function(){Y.b.success("Copied link to clipboard!",{position:Y.b.POSITION.TOP_RIGHT,autoClose:2e3})}),F()(C()(n),"handleApplicationClicked",v()(f.a.mark(function e(){var t,a,r,i,o,l,s,c,u,p,d,h,m,v;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.setApplicationLoaderStatus,r=t.applicationMetadata,i=t.handleSetSelectedVisualizer,o=t.handleSetResultPipelineIri,l=t.handleSetSelectedApplicationTitle,s=t.handleSetSelectedApplicationData,c=t.handleSetSelectedApplicationMetadata,u=t.handleSetFiltersState,p=t.history,e.next=3,a(!0);case 3:return d=r.configuration,h=d.graphIri,m=!0,e.next=8,ae.getGraphExists(h).catch(function(){m=!1});case 8:if(!m){e.next=27;break}return v={visualizer:{visualizerCode:d.visualizerType}},e.next=12,o(h);case 12:return e.next=14,l(d.title);case 14:return e.next=16,s(d);case 16:return e.next=18,c(r);case 18:return e.next=20,i(v);case 20:return e.next=22,u(d.filterConfiguration);case 22:return e.next=24,a(!1);case 24:p.push({pathname:"/create-app"}),e.next=29;break;case 27:Y.b.success("Application data was removed or deleted from the platform,blank metadata will be removed from storage...",{position:Y.b.POSITION.TOP_RIGHT}),n.handleDeleteApp();case 29:case"end":return e.stop()}},e)}))),n}return T()(t,e),y()(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.applicationMetadata,i=e.indexNumber,o=this.state.anchorEl,l=this.handleMenuClick,s=this.handleDeleteApp,c=this.handleShareApp,u=this.handleApplicationClicked,p=this.handleCopyLinkClicked,d=n.configuration;return r.a.createElement(a.Fragment,null,r.a.createElement(Ai.a,{className:t.card},r.a.createElement(Di.a,{action:r.a.createElement(xt.a,{"aria-owns":o?"simple-menu":void 0,"aria-haspopup":"true",id:"more_icon_".concat(i.toString(),"_").concat(d.title),onClick:l},r.a.createElement(Oi.a,null)),title:d.title,subheader:pe.getBeautifiedVisualizerTitle(d.endpoint)}),r.a.createElement(Ti.a,{onClick:u},r.a.createElement("div",{className:t.media,id:"".concat(i.toString(),"_").concat(d.title),style:{backgroundColor:d.backgroundColor}},r.a.createElement(Pn,{visualizerType:d.endpoint,style:{color:"white",fontSize:"85px"}}))),r.a.createElement(Fi.a,{className:t.spacing,disableSpacing:!0},r.a.createElement(xt.a,{"aria-label":"Share",onClick:c},r.a.createElement(Bi.a,null)))),r.a.createElement(Li.a,{id:"simple-menu",anchorEl:o,open:Boolean(o),onClose:this.handleMenuClose},r.a.createElement(G.a,{id:"delete_button_".concat(i.toString(),"_").concat(d.title),onClick:s},"Delete")),r.a.createElement(zr.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(jr.a,{id:"form-dialog-title"},"Share the Application URL"),r.a.createElement(_r.a,null,r.a.createElement(Gr.a,null,"Click on the field with link to copy the public view URL to your clipboard.")),r.a.createElement(_r.a,null,r.a.createElement(Hi.CopyToClipboard,{text:Oa.appIriToPublishUrl(n.solidFileUrl,d.endpoint),onCopy:p},r.a.createElement(Pi.a,{color:"primary",label:"Click to copy",variant:"outlined",className:t.textField,fullWidth:!0,value:Oa.appIriToPublishUrl(n.solidFileUrl,d.endpoint),autoFocus:!0}))),r.a.createElement(Ur.a,null,r.a.createElement(P.a,{onClick:this.handleClose,color:"primary"},"Close"))))}}]),t}(a.PureComponent),Xi=Object(tt.a)(Object(o.b)(function(e){return{applicationsFolder:e.user.applicationsFolder,webId:e.user.webId}},function(e){return{handleSetResultPipelineIri:function(t){return e(Ui(t))},handleSetSelectedVisualizer:function(t){return e(st({data:t}))},handleSetSelectedApplicationTitle:function(t){return e(hr(t))},handleSetSelectedApplicationData:function(t){return e(cr(t))},handleSetSelectedApplicationMetadata:function(t){return e(ur(t))},handleSetFiltersState:function(t){return e(_a(t))}}})(Object(U.a)({card:{height:"280",width:"190",flexDirection:"column",marginRight:5},media:{textAlign:"center"},spacing:{display:"flex"},textField:{flexGrow:1,width:"100%",marginTop:"1rem"}})(qi))),Yi=n(166),Zi=n.n(Yi);function Qi(e){var t=e.classes,n=e.sharedApplicationsMetadata,a=e.onHandleApplicationDeleted,i=e.setApplicationLoaderStatus;return r.a.createElement("div",{className:t.root},0!==n.length?r.a.createElement("div",{className:t.gridArea},r.a.createElement(Rn.a,{key:qn.a.v4(),container:!0,spacing:8},n.map(function(e,t){return r.a.createElement(Rn.a,{key:qn.a.v4(),item:!0,xs:3,sm:3,md:3,lg:2,xl:2},r.a.createElement(Xi,{key:qn.a.v4(),indexNumber:t,applicationMetadata:e,setApplicationLoaderStatus:i,onHandleApplicationDeleted:a}))}))):r.a.createElement(Te.a,{variant:"h5",align:"center",style:{textAlign:"center"},gutterBottom:!0},"No applications published yet",r.a.createElement(Zi.a,{text:" ☹️"})))}Qi.propTypes={classes:Ci.a.object.isRequired};var Ji=Object(U.a)(function(){return{root:{minWidth:"920"},gridArea:{flexGrow:1,marginTop:5,marginLeft:5,marginRight:5}}})(Qi),$i=n(65),Ki=n.n($i),eo=function(e){function t(e){var n;return b()(this,t),n=I()(this,w()(t).call(this,e)),F()(C()(n),"isMounted",!1),F()(C()(n),"didUpdateMetadata",!1),F()(C()(n),"state",{sharedApplicationsMetadata:[],loadingAppIsActive:!1}),F()(C()(n),"loadStoredApplications",v()(f.a.mark(function e(){var t,a,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.webId,r=t.applicationsFolder,!a){e.next=6;break}return e.next=4,Oa.getSharedApplicationsMetadata(a,r);case 4:i=e.sent,n.isMounted&&(n.setState({sharedApplicationsMetadata:i}),ee.info(i,"StorageAppsBrowserContainer"));case 6:case"end":return e.stop()}},e)}))),F()(C()(n),"handleApplicationDeleted",function(e){var t=n.state.sharedApplicationsMetadata.filter(function(t){return t.solidFileUrl!==e.solidFileUrl});Y.b.success("Removed application:\n".concat(e.solidFileTitle),{position:Y.b.POSITION.TOP_RIGHT,autoClose:2e3}),n.setState({sharedApplicationsMetadata:t})}),C()(n).setApplicationLoaderStatus=n.setApplicationLoaderStatus.bind(C()(n)),n}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){this.loadStoredApplications(),this.isMounted=!0}},{key:"componentWillUpdate",value:function(){var e=v()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.isMounted&&this.props.webId&&!this.didUpdateMetadata&&(this.didUpdateMetadata=!0);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.isMounted=!1,this.didUpdateMetadata=!1}},{key:"setApplicationLoaderStatus",value:function(e){this.setState({loadingAppIsActive:e})}},{key:"render",value:function(){var e=this.handleApplicationDeleted,t=this.setApplicationLoaderStatus,n=this.state.loadingAppIsActive;return r.a.createElement(Ki.a,{active:n,spinner:!0},r.a.createElement(Ji,{sharedApplicationsMetadata:this.state.sharedApplicationsMetadata,setApplicationLoaderStatus:t,onHandleApplicationDeleted:e}))}}]),t}(a.PureComponent),to=Object(tt.a)(Object(o.b)(function(e){return{webId:e.user.webId,applicationsFolder:e.user.applicationsFolder}})(eo));var no=Object(U.a)(function(){return{root:{minWidth:"920"},gridArea:{flexGrow:1,marginTop:5,marginLeft:5,marginRight:5}}})(function(e){var t=e.classes,n=e.applicationsMetadata,a=e.onHandleApplicationDeleted,i=e.setApplicationLoaderStatus;return r.a.createElement("div",{className:t.root},0!==n.length?r.a.createElement("div",{className:t.gridArea},r.a.createElement(Rn.a,{container:!0,spacing:1},n.map(function(e,t){return r.a.createElement(Rn.a,{key:qn.a.v4(),item:!0,xs:3,sm:3,md:3,lg:2,xl:2},r.a.createElement(Xi,{key:qn.a.v4(),indexNumber:t,applicationMetadata:e,setApplicationLoaderStatus:i,onHandleApplicationDeleted:a}))}))):r.a.createElement(Te.a,{variant:"h5",align:"center",style:{textAlign:"center"},gutterBottom:!0},"No applications published yet",r.a.createElement(Zi.a,{text:" ☹️"})))}),ao=function(e){function t(e){var n;return b()(this,t),n=I()(this,w()(t).call(this,e)),F()(C()(n),"isMounted",!1),F()(C()(n),"didLoadInitialMetadata",!1),F()(C()(n),"didUpdateMetadata",!1),F()(C()(n),"state",{applicationsMetadata:[],loadingAppIsActive:!1}),F()(C()(n),"loadStoredApplications",v()(f.a.mark(function e(){var t,a,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.webId,r=t.applicationsFolder,!a){e.next=6;break}return e.next=4,Oa.getAppConfigurationsMetadata(a,r);case 4:i=e.sent,n.isMounted&&(n.setState({applicationsMetadata:i}),ee.info(i,"StorageAppsBrowserContainer"),n.didLoadInitialMetadata||(n.didLoadInitialMetadata=!0));case 6:case"end":return e.stop()}},e)}))),F()(C()(n),"handleApplicationDeleted",function(e){var t=n.state.applicationsMetadata.filter(function(t){return t.solidFileUrl!==e.solidFileUrl});Y.b.success("Removed application:\n".concat(e.solidFileTitle),{position:Y.b.POSITION.TOP_RIGHT,autoClose:4e3}),n.setState({applicationsMetadata:t})}),C()(n).setApplicationLoaderStatus=n.setApplicationLoaderStatus.bind(C()(n)),n}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){this.loadStoredApplications(),this.isMounted=!0}},{key:"componentWillUpdate",value:function(){var e=v()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.isMounted&&this.didLoadInitialMetadata&&this.props.webId&&!this.didUpdateMetadata&&(this.loadStoredApplications(),this.didUpdateMetadata=!0);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.isMounted=!1,this.didUpdateMetadata=!1,this.didLoadInitialMetadata=!1}},{key:"setApplicationLoaderStatus",value:function(e){this.setState({loadingAppIsActive:e})}},{key:"render",value:function(){var e=this.handleApplicationDeleted,t=this.setApplicationLoaderStatus,n=this.state.loadingAppIsActive;return r.a.createElement(Ki.a,{active:n,spinner:!0},r.a.createElement(no,{applicationsMetadata:this.state.applicationsMetadata,setApplicationLoaderStatus:t,onHandleApplicationDeleted:e}))}}]),t}(a.PureComponent),ro=Object(o.b)(function(e){return{webId:e.user.webId,applicationsFolder:e.user.applicationsFolder}})(ao);function io(e){var t=e.children,n=e.dir;return r.a.createElement(Te.a,{component:"div",dir:n,style:{padding:24}},t)}var oo=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=I()(this,(e=w()(t)).call.apply(e,[this].concat(r))),F()(C()(n),"state",{value:0}),F()(C()(n),"handleChange",function(e,t){n.setState({value:t})}),F()(C()(n),"handleChangeIndex",function(e){n.setState({value:e})}),n}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;be.trackPage(e)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.theme;return r.a.createElement("div",{className:t.root},r.a.createElement(Ae.a,{position:"static",color:"default"},r.a.createElement(Sr.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",centered:!0},r.a.createElement(wr.a,{label:"My Applications"}),r.a.createElement(wr.a,{label:"Shared Applications"}))),r.a.createElement(wi.a,{axis:"rtl"===n.direction?"x-reverse":"x",index:this.state.value,onChangeIndex:this.handleChangeIndex},r.a.createElement(io,{dir:n.direction},r.a.createElement(ro,null)),r.a.createElement(io,{dir:n.direction},r.a.createElement(to,null))))}}]),t}(r.a.Component),lo=Object(U.a)(function(){return{root:{flexGrow:1}}},{withTheme:!0})(oo),so=function(e){function t(e){var n;return b()(this,t),n=I()(this,w()(t).call(this,e)),F()(C()(n),"state",{folderTitle:void 0,defaultFolderTitle:"linkedpipes",loadingIsActive:!1}),F()(C()(n),"handleClickOpen",function(){n.props.handleUpdateChooseFolderDialogState(!0)}),F()(C()(n),"handleChangeFolderTitle",function(e){n.setState({folderTitle:e.target.value})}),F()(C()(n),"handleClose",function(){n.props.handleUpdateChooseFolderDialogState(!1)}),C()(n).handleFolderConfirm=n.handleFolderConfirm.bind(C()(n)),C()(n).handleFolderCopy=n.handleFolderCopy.bind(C()(n)),C()(n).handleFolderMove=n.handleFolderMove.bind(C()(n)),n}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){this.setState({folderTitle:this.props.currentApplicationsFolder?this.props.currentApplicationsFolder.substring(this.props.currentApplicationsFolder.lastIndexOf("/")+1):"linkedpipes"})}},{key:"setApplicationLoaderStatus",value:function(e){this.setState({loadingIsActive:e})}},{key:"handleFolderMove",value:function(){var e=v()(f.a.mark(function e(){var t,n,a,r,i=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setApplicationLoaderStatus(!0),t=this.props.currentApplicationsFolder,n=void 0===this.state.folderTitle?this.state.defaultFolderTitle:this.state.folderTitle,a=sa.trimSlashes(n),sa.isValidFolder("/".concat(a,"/"))){e.next=8;break}return Y.b.error("Enter a valid folder path!",{position:Y.b.POSITION.TOP_RIGHT,autoClose:5e3}),this.setApplicationLoaderStatus(!1),e.abrupt("return");case 8:return r="".concat(sa.getBaseUrl(this.props.webId)+a),e.next=11,Oa.moveFolderRecursively(this.props.webId,t,r).then(function(e){e?(i.props.handleUpdateApplicationsFolder(r),i.props.handleUpdateChooseFolderDialogState(!1)):Y.b.error("Error creating app folders, try again.",{position:Y.b.POSITION.TOP_RIGHT,autoClose:5e3})});case 11:this.setApplicationLoaderStatus(!1);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleFolderCopy",value:function(){var e=v()(f.a.mark(function e(){var t,n,a,r,i=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setApplicationLoaderStatus(!0),t=this.props.currentApplicationsFolder,n=void 0===this.state.folderTitle?this.state.defaultFolderTitle:this.state.folderTitle,a=sa.trimSlashes(n),sa.isValidFolder("/".concat(a,"/"))){e.next=8;break}return Y.b.error("Enter a valid folder path!",{position:Y.b.POSITION.TOP_RIGHT,autoClose:5e3}),this.setApplicationLoaderStatus(!1),e.abrupt("return");case 8:return r="".concat(sa.getBaseUrl(this.props.webId)+a),e.next=11,Oa.copyFolderRecursively(this.props.webId,t,r).then(function(e){e?(i.props.handleUpdateApplicationsFolder(r),i.props.handleUpdateChooseFolderDialogState(!1)):Y.b.error("Error creating app folders, try again.",{position:Y.b.POSITION.TOP_RIGHT,autoClose:5e3})});case 11:this.setApplicationLoaderStatus(!1);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleFolderConfirm",value:function(){var e=v()(f.a.mark(function e(){var t,n,a,r=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setApplicationLoaderStatus(!0),t=void 0===this.state.folderTitle?this.state.defaultFolderTitle:this.state.folderTitle,n=sa.trimSlashes(t),sa.isValidFolder("/".concat(n,"/"))){e.next=7;break}return Y.b.error("Enter a valid folder path!",{position:Y.b.POSITION.TOP_RIGHT,autoClose:5e3}),this.setApplicationLoaderStatus(!1),e.abrupt("return");case 7:return a="".concat(sa.getBaseUrl(this.props.webId)+n),e.next=10,Oa.createAppFolders(this.props.webId,n).then(function(e){e?(r.props.handleUpdateApplicationsFolder(a),r.props.handleUpdateChooseFolderDialogState(!1)):Y.b.error("Error creating app folders, try again.",{position:Y.b.POSITION.TOP_RIGHT,autoClose:5e3})});case 10:this.setApplicationLoaderStatus(!1);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.loadingIsActive;return r.a.createElement("div",null,r.a.createElement(zr.a,{open:this.props.chooseFolderDialogIsOpen,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ki.a,{active:e,spinner:!0},r.a.createElement(jr.a,{id:"form-dialog-title"},"Choose your folder"),r.a.createElement(_r.a,null,r.a.createElement(Gr.a,null,"Choose the folder in your Personal Storage Space where LinkedPipes Applications Storage is going to store your published applications and configuration. Press `Move`, to move current configurations into new folder. Press `Copy` to copy the current configurations into new folder. Press `Update`, to simply create a new folder, (if folder already exists, application will just switch to it and load any existing configurations in that folder)."),r.a.createElement(Pi.a,{autoFocus:!0,margin:"dense",value:this.state.folderTitle,onChange:this.handleChangeFolderTitle,id:"name",label:"Storage folder title",fullWidth:!0})),r.a.createElement(Ur.a,null,r.a.createElement(P.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(P.a,{onClick:this.handleFolderMove,color:"primary"},"Move"),r.a.createElement(P.a,{onClick:this.handleFolderCopy,color:"primary"},"Copy"),r.a.createElement(P.a,{onClick:this.handleFolderConfirm,color:"primary"},"Update")))))}}]),t}(a.PureComponent),co=Object(o.b)(function(e){return{currentApplicationsFolder:e.user.applicationsFolder,webId:e.user.webId,chooseFolderDialogIsOpen:e.globals.chooseFolderDialogIsOpen}},function(e){return{handleUpdateChooseFolderDialogState:function(t){return e(pt({state:t}))},handleUpdateApplicationsFolder:function(t){return e(fi({value:t}))}}})(so),uo=n(1503),po={PaperProps:{style:{maxHeight:224,width:250}}},ho=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=I()(this,(e=w()(t)).call.apply(e,[this].concat(r))),F()(C()(n),"state",{loadingIsActive:!1,metadataIsPublic:!0,selectedContacts:[],collaborators:[],availableContacts:[]}),F()(C()(n),"fetchCollaborats",v()(f.a.mark(function e(){var t,a,r,i,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.selectedApplicationMetadata,e.next=3,Oa.fetchAclFromMetadata(t);case 3:return a=e.sent,r=a.getCollaborators(),e.next=7,Oa.getPersons(r);case 7:i=e.sent,o=a.isPublic(),n.setState({collaborators:i,metadataIsPublic:o});case 10:case"end":return e.stop()}},e)}))),F()(C()(n),"fetchAvailableContacts",v()(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.props.webId)){e.next=6;break}return e.next=4,Oa.getFriends(t);case 4:(a=e.sent).length>0&&n.setState({availableContacts:a});case 6:case"end":return e.stop()}},e)}))),F()(C()(n),"handleSendInvitation",v()(f.a.mark(function e(){var t,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.handleUpdateAccessControlDialogState(!0),t=n.props,a=t.webId,r=t.selectedApplicationMetadata,n.state.selectedContacts.forEach(function(e){Oa.sendCollaborationInvitation(r,a,e.webId)}),Y.b.info("Invitations sent! Recepients will get access to configurations\n      once they accept the invitation to collaborate...",{position:Y.b.POSITION.TOP_RIGHT,autoClose:4e3}),n.props.handleUpdateAccessControlDialogState(!1);case 6:case"end":return e.stop()}},e)}))),F()(C()(n),"handleClickOpen",function(){n.props.handleUpdateAccessControlDialogState(!0)}),F()(C()(n),"handleShareApp",function(){}),F()(C()(n),"handlePickContact",function(e){n.setState({selectedContacts:e.target.value})}),F()(C()(n),"handleClose",function(){n.props.handleUpdateAccessControlDialogState(!1)}),F()(C()(n),"handleSetMetadataAccess",function(){var e=v()(f.a.mark(function e(t){var a,r,i,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setApplicationLoaderStatus(!0),a=n.props,r=a.webId,i=a.selectedApplicationMetadata,o=t.target.checked,n.setState({metadataIsPublic:o}),e.next=6,Oa.updateAccessControl(r,i.url,o,n.state.collaborators);case 6:n.setApplicationLoaderStatus(!1);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),F()(C()(n),"handleDeleteAccess",function(e){return v()(f.a.mark(function t(){var a,r,i,o,l;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.setApplicationLoaderStatus(!0),a=n.props,r=a.webId,i=a.selectedApplicationMetadata,o=ua()(n.state.collaborators),l=o.indexOf(e),o.splice(l,1),t.next=7,Oa.updateAccessControl(r,i.url,n.state.metadataIsPublic,o);case 7:n.setState({collaborators:o}),n.setApplicationLoaderStatus(!1);case 9:case"end":return t.stop()}},t)}))}),n}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){this.fetchAvailableContacts(),this.fetchCollaborats()}},{key:"setApplicationLoaderStatus",value:function(e){this.setState({loadingIsActive:e})}},{key:"render",value:function(){var e=this,t=this.state.loadingIsActive,n=this.props.classes;return r.a.createElement("div",null,r.a.createElement(zr.a,{open:this.props.shareApplicationDialogIsOpen,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ki.a,{active:t,spinner:!0},r.a.createElement(jr.a,{id:"form-dialog-title"},"Access Control Settings"),r.a.createElement(_r.a,null,r.a.createElement(Gr.a,null,"Setup global access to an application. Public application is visible to everyone without a need to share with individual collaborators."),r.a.createElement(L.a,{control:r.a.createElement(V.a,{id:"with-web-id-checkbox",checked:this.state.metadataIsPublic,onChange:this.handleSetMetadataAccess,value:"checkedA",color:"primary"}),label:"Public access"})),r.a.createElement(_r.a,null,r.a.createElement(Gr.a,null,"List of collaborators accessing this application. Edit or remove contacts if needed."),r.a.createElement(j.a,{className:n.paper},this.state.collaborators.map(function(t){return r.a.createElement(uo.a,{key:qn.a.v4(),label:t.name,onDelete:e.handleDeleteAccess(t),className:n.chip})}))),r.a.createElement(_r.a,null,r.a.createElement(Gr.a,null,"Choose the webId of your friend, to share access to your application for collaborative editing. Optionally, modify access control to a file to restrict access."),r.a.createElement(O.a,{className:n.formControl},r.a.createElement(M.a,{htmlFor:"select-multiple-chip"},"Friends and Contacts"),r.a.createElement(_.a,{multiple:!0,fullWidth:!0,value:this.state.selectedContacts,onChange:this.handlePickContact,input:r.a.createElement(N.a,{id:"select-multiple-chip"}),renderValue:function(e){return r.a.createElement("div",{className:n.chips},e.map(function(e){return r.a.createElement(uo.a,{key:e.webId,label:e.name,className:n.chip})}))},MenuProps:po},this.state.availableContacts.map(function(e){return r.a.createElement(G.a,{key:e.webId,value:e},e.name)})))),r.a.createElement(Ur.a,null,r.a.createElement(P.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(P.a,{onClick:this.handleSendInvitation,color:"primary"},"Send Invitation")))))}}]),t}(a.PureComponent),fo=Object(o.b)(function(e){return{currentApplicationsFolder:e.user.applicationsFolder,webId:e.user.webId,shareApplicationDialogIsOpen:e.globals.shareApplicationDialogIsOpen,selectedApplicationMetadata:e.application.selectedApplicationMetadata}},function(e){return{handleUpdateAccessControlDialogState:function(t){return e(ct({state:t}))},handleUpdateApplicationsFolder:function(t){return e(fi({value:t}))}}})(Object(U.a)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(),display:"flex",flexWrap:"wrap"},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:e.spacing()/2},noLabel:{marginTop:e.spacing(3)},paper:{display:"flex",justifyContent:"center",flexWrap:"wrap",padding:e.spacing()/2}}})(ho)),mo=n(1483),vo=n(762),go=n.n(vo),bo=n(763),Eo=n.n(bo),yo=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=I()(this,(e=w()(t)).call.apply(e,[this].concat(r))),F()(C()(n),"state",{loadingIsActive:!1}),F()(C()(n),"handleClose",function(){n.props.handleSetInboxDialogState(!1)}),F()(C()(n),"handleSendAcceptInvitation",function(){var e=v()(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return ee.info(t),e.next=4,Oa.sendAcceptCollaborationInvitation(t);case 4:ee.info("done");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),F()(C()(n),"handleSendRejectInvitation",function(){var e=v()(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return ee.info(t),e.next=4,Oa.sendRejectCollaborationInvitation(t);case 4:ee.info("done");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n}return T()(t,e),y()(t,[{key:"setApplicationLoaderStatus",value:function(e){this.setState({loadingIsActive:e})}},{key:"render",value:function(){var e=this.state.loadingIsActive,t=this.props.inboxInvitations,n=this.handleSendAcceptInvitation,a=this.handleSendRejectInvitation;return r.a.createElement("div",null,r.a.createElement(zr.a,{open:this.props.inboxDialogIsOpen,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ki.a,{active:e,spinner:!0},r.a.createElement(jr.a,{id:"form-dialog-title"},"Inbox invitations"),r.a.createElement(_r.a,null,r.a.createElement(Gr.a,null,"Browse invitations from your contacts to collaborate on applications that they have created."),r.a.createElement(Et.a,{dense:!0},t.map(function(e){return r.a.createElement(Tt.a,{dense:!0,key:"".concat(qn.a.v4())},r.a.createElement(xt.a,{onClick:function(){n(e)},key:"accept-invite-".concat(qn.a.v4()),"aria-label":"Accept"},r.a.createElement(go.a,null)),r.a.createElement(Ft.a,{key:"".concat(qn.a.v4()),primary:"Collaboration invite",secondary:"".concat(e.sender.name)}),r.a.createElement(mo.a,{onClick:function(){a(e)},key:"".concat(qn.a.v4())},r.a.createElement(xt.a,{key:"decline-invite-".concat(qn.a.v4()),"aria-label":"Decline"},r.a.createElement(Eo.a,null))))}))),r.a.createElement(Ur.a,null,r.a.createElement(P.a,{onClick:this.handleClose,color:"primary"},"Close")))))}}]),t}(a.PureComponent),xo=Object(o.b)(function(e){return{currentApplicationsFolder:e.user.applicationsFolder,inboxDialogIsOpen:e.globals.inboxDialogIsOpen,inboxInvitations:e.user.inboxInvitations,selectedApplicationMetadata:e.application.selectedApplicationMetadata}},function(e){return{handleUpdateAccessControlDialogState:function(t){return e(ct({state:t}))},handleUpdateApplicationsFolder:function(t){return e(fi({value:t}))},handleSetInboxDialogState:function(t){return e(ht(t))}}})(Object(U.a)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(),display:"flex",flexWrap:"wrap"},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:e.spacing()/4},noLabel:{marginTop:e.spacing(3)}}})(yo)),Io=Object(U.a)(function(){return{root:{overflowX:"auto"}}})(function(e){var t=e.applicationsList,n=e.onHandleShareAppClicked,r=e.onHandleAppClicked,i=e.onHandleDeleteAppClicked,o=e.classes;return a.createElement("div",null,(t&&t.length)>0?a.createElement(j.a,{classes:o,elevation:2},a.createElement(kr.a,null,a.createElement(Tr.a,null,a.createElement(Dr.a,{key:qn()()},a.createElement(Ar.a,{align:"center"},"Action"),a.createElement(Ar.a,{align:"center"},"Share"),a.createElement(Ar.a,{align:"center"},"Remove"),a.createElement(Ar.a,{align:"center"},"Title"),a.createElement(Ar.a,{align:"center"},"Type"),a.createElement(Ar.a,{align:"center"},"Created At"))),a.createElement(Cr.a,null,t.map(function(e,t){return a.createElement(Dr.a,{key:qn()()},a.createElement(Ar.a,{align:"center",component:"th",scope:"row",padding:"checkbox"},a.createElement(P.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){r(e)}},"Modify")),a.createElement(Ar.a,{align:"center",component:"th",scope:"row",padding:"checkbox"},a.createElement(Hi.CopyToClipboard,{text:Oa.appIriToPublishUrl(e.solidFileUrl,e.configuration.endpoint),onCopy:n},a.createElement(P.a,{size:"small",variant:"contained",color:"primary"},"Copy URL"))),a.createElement(Ar.a,{align:"center",component:"th",scope:"row",padding:"checkbox"},a.createElement(xt.a,{id:"delete_application_session_button_".concat(t),key:"button_application_".concat(e.solidFileTitle),"aria-label":"Decline",onClick:function(){return i(e)}},a.createElement(Pr.a,null))),a.createElement(Ar.a,{align:"center",component:"th",scope:"row"},e.configuration.title),a.createElement(Ar.a,{align:"center"},e.configuration.endpoint),a.createElement(Ar.a,{align:"center"},"".concat(Or()(e.configuration.published).format("lll"))))})))):a.createElement(j.a,{elevation:2},a.createElement(Te.a,{variant:"body1",gutterBottom:!0},"No applications found")))}),So=Object(U.a)(function(){return{root:{overflowX:"auto"}}})(function(e){var t=e.onHandleSelectPipelineExecutionClick,n=e.onHandlePipelineExecutionRowDeleteClicked,r=e.pipelinesList,i=e.classes;return a.createElement("div",null,(r&&r.length)>0?a.createElement(j.a,{elevation:2,classes:i},a.createElement(kr.a,null,a.createElement(Tr.a,null,a.createElement(Dr.a,{key:qn()()},a.createElement(Ar.a,{align:"center"},"Action"),a.createElement(Ar.a,{align:"center"},"Remove"),a.createElement(Ar.a,{align:"center"},"Execution IRI"),a.createElement(Ar.a,{align:"center"},"Visualizer Type"),a.createElement(Ar.a,{align:"center"},"Status"),a.createElement(Ar.a,{align:"center"},"Data refresh interval (hours)"),a.createElement(Ar.a,{align:"center"},"Data refresh enabled"),a.createElement(Ar.a,{align:"center"},"Executed by user"),a.createElement(Ar.a,{align:"center"},"Started at"),a.createElement(Ar.a,{align:"center"},"Finished at"))),a.createElement(Cr.a,null,r.map(function(e,r){return a.createElement(Dr.a,{key:qn()()},a.createElement(Ar.a,{align:"center"},a.createElement(P.a,{size:"small",onClick:function(){t(e)},disabled:!(e.status&&"Finished"===se[e.status["@id"]]),variant:"contained",color:"secondary"},"Create App")),a.createElement(Ar.a,{align:"center",component:"th",scope:"row",padding:"checkbox"},a.createElement(xt.a,{id:"delete_execution_session_button_".concat(r),key:"button_pipeline_".concat(qn.a.v4()),"aria-label":"Decline",onClick:function(){return n(e)}},a.createElement(Pr.a,null))),a.createElement(Ar.a,{align:"center"},e.executionIri?e.executionIri.split("/executions/")[1]:"N/A"),a.createElement(Ar.a,{align:"center"},e.selectedVisualiser),a.createElement(Ar.a,{align:"center"},e.status&&se[e.status["@id"]]||e.status&&e.status.status||"N/A"),a.createElement(Ar.a,{align:"center"},-1===e.frequencyHours?"Disabled":"".concat(e.frequencyHours)),a.createElement(Ar.a,{align:"center"},e.scheduleOn?"Yes":"No"),a.createElement(Ar.a,{align:"center"},e.startedByUser?"Yes":"No"),a.createElement(Ar.a,{align:"center"},-1===e.started?"N/A":Or.a.unix(e.started).format("lll")),a.createElement(Ar.a,{align:"center"},-1===e.finished?"N/A":Or.a.unix(e.finished).format("lll")))})))):a.createElement(j.a,{elevation:2},a.createElement(Te.a,{variant:"body1",gutterBottom:!0},"No pipelines found")))}),wo=n(1363),ko=n(1484),Co=n(764),Ao=n.n(Co),To=Object(U.a)(function(e){return{avatar:{backgroundColor:Hr.a[100],color:Hr.a[600]},card:{flexGrow:1},label:{marginTop:e.spacing(1)+5}}})(function(e){var t=e.classes,n=e.onHandleListItemClick,a=e.samples;return r.a.createElement(Ai.a,{className:t.card},r.a.createElement(Te.a,{className:t.label,variant:"h5",align:"center",gutterBottom:!0},"Examples"),r.a.createElement(Et.a,null,a.map(function(e){return r.a.createElement(Tt.a,{button:!0,onClick:function(){return n(e)},key:e.id},r.a.createElement(ko.a,null,r.a.createElement(wo.a,{className:t.avatar},r.a.createElement(Ao.a,null))),r.a.createElement(Ft.a,{primary:e.label}),r.a.createElement(yt.a,null))})))}),Do=[{id:qn.a.v4(),inputType:"SPARQL_ENDPOINT",label:"Treemap Sample",sparqlEndpointIri:"https://linked.opendata.cz/sparql",namedGraph:"http://linked.opendata.cz/resource/dataset/cpv-2008",dataSampleIri:"https://gist.githubusercontent.com/ivan-lattak/63801f3e6a9e6105aada4c207d0f8abb/raw/aa2a805a4b14da6fd30711532c4f58692018665b/cpv-2008_sample.ttl"},{id:qn.a.v4(),inputType:"SPARQL_ENDPOINT",label:"Maps Sample",sparqlEndpointIri:"https://lpatest.opendata.cz/sparql",namedGraph:"https://lpatest.opendata.cz/graphs/ruian-test-buildings",dataSampleIri:"https://gist.githubusercontent.com/Ponsietta/1cfcc9cc018c11e39afe1553d0b3f25f/raw/266634bcc2b5bb56b5eed8dbcaf69df9f719cf08/ruian-test-buildings_map_sample.ttl"},{id:qn.a.v4(),inputType:"SPARQL_ENDPOINT",label:"Chord Sample",sparqlEndpointIri:"http://lpa-virtuoso:8890/sparql",namedGraph:"https://applications.linkedpipes.com/generated-data/chord",dataSampleIri:"https://gist.githubusercontent.com/ivan-lattak/a8bf22f4bd4a9ea41714a73396f14e68/raw/fd1a52de6ec24bafb294b87361c84a7dad0b80ff/chord_sample.ttl"}],Fo=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=I()(this,(e=w()(t)).call.apply(e,[this].concat(r))),F()(C()(n),"handleListItemClicked",function(e){(0,n.props.onInputExampleClicked)(e)}),n}return T()(t,e),y()(t,[{key:"render",value:function(){var e=this.handleListItemClicked;return r.a.createElement(To,{classes:void 0,onHandleListItemClick:e,samples:Do})}}]),t}(a.PureComponent),Po=function(e){function t(){return b()(this,t),I()(this,w()(t).apply(this,arguments))}return T()(t,e),y()(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.discoveriesList,a=e.applicationsList,i=e.pipelinesList,o=e.onHandleTabChange,l=e.onHandleSampleClick,s=e.onHandleSelectDiscoveryClick,c=e.onHandleSelectPipelineExecutionClick,u=e.tabIndex,p=e.onHandleAppClicked,d=e.onHandleShareAppClicked,h=e.onSetApplicationLoaderStatus,f=e.onHandlePipelineExecutionRowDeleteClicked,m=e.onHandleDeleteAppClicked;return r.a.createElement("div",{className:t.root},r.a.createElement(Rn.a,{container:!0,spacing:2},r.a.createElement(Rn.a,{item:!0,xs:4},r.a.createElement(j.a,{elevation:2,className:t.paper},r.a.createElement(Er.a,{variant:"subtitle1",gutterBottom:!0},"Create a new application"),r.a.createElement(Ir.a,{style:{textDecoration:"none",color:"transparent"},to:"/discover"},r.a.createElement(xr.a,{variant:"contained",size:"large",className:t.createBtn},"Create")),r.a.createElement("br",null),r.a.createElement(Er.a,{variant:"subtitle1",gutterBottom:!0},"Or try one of our predefined examples"),Do.map(function(e){return r.a.createElement(xr.a,{key:qn()(),id:"".concat(e.label.replace(/ /g,"-").toLowerCase(),"-home-button"),variant:"contained",size:"large",className:t.templatesBtn,onClick:l(e)},e.label)}))),r.a.createElement(Rn.a,{item:!0,xs:8},r.a.createElement(Ae.a,{position:"static",color:"secondary"},r.a.createElement(Sr.a,{value:u,onChange:o,centered:!0},r.a.createElement(wr.a,{id:"discoveries_tab",label:"Discoveries"}),r.a.createElement(wr.a,{id:"pipeline_executions_tab",label:"Pipelines"}),r.a.createElement(wr.a,{id:"my_applications_tab",label:"My Applications"}))),r.a.createElement("div",{style:{textAlign:"center"}},0===u&&r.a.createElement(Ii,{discoveriesList:n,onHandleSelectDiscoveryClick:s,onSetApplicationLoaderStatus:h}),1===u&&r.a.createElement(So,{pipelinesList:i,onHandlePipelineExecutionRowDeleteClicked:f,onHandleSelectPipelineExecutionClick:c}),2===u&&r.a.createElement(Io,{applicationsList:a,onHandleShareAppClicked:d,onHandleAppClicked:p,onHandleDeleteAppClicked:m})))))}}]),t}(a.PureComponent),Ro=Object(U.a)(function(e){return{root:{flexGrow:1,marginTop:"2rem",marginLeft:"4%",marginRight:"4%"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},button:{margin:e.spacing(),width:"90%"},createBtn:{margin:e.spacing(),width:"90%",backgroundColor:e.palette.primary.dark,color:"white",textTransform:"none"},templatesBtn:{margin:e.spacing(),width:"90%",backgroundColor:e.palette.secondary.main,color:"white",textDecoration:"none"}}})(Po),Oo="INCREMENT_ACTIVE_STEP",Lo="SET_ACTIVE_STEP",No="DECREMENT_ACTIVE_STEP",Mo="RESET_ACTIVE_STEP",jo="SET_SELECTED_INPUT_EXAMPLE",Uo="RESET_SELECTED_INPUT_EXAMPLE",_o="SET_ETL_EXECUTION_STATUS",Go="SET_NAMED_GRAPH",zo="SET_SPARQL_ENDPOINT_IRI",Vo="SET_DATA_SAMPLE_IRI",Ho="SET_RDF_RESOURCE_URL",Wo="SET_RDF_FILE",Bo="SET_RDF_DATA_SAMPLE_FILE",qo="SET_ACTIVE_DISCOVER_INPUT_TAB",Xo=function(){return{type:Uo}},Yo=function(e){return{type:qo,value:e}},Zo=function(e){return{type:Oo,value:e}},Qo=function(e){return{type:No,value:e}},Jo=function(e){return{type:Lo,value:e}},$o=function(e){return{type:Mo,value:e}},Ko=function(e){return{type:jo,sample:e}},el=Xo,tl=function(e){return{type:_o,value:e}},nl=function(e){return{type:Go,value:e}},al=function(e){return{type:zo,value:e}},rl=function(e){return{type:Vo,value:e}},il=function(e){return{type:Ho,value:e}},ol=function(e){return{type:Wo,value:e}},ll=function(e){return{type:Bo,value:e}},sl=function(e){return function(t){t(Xo()),t(Yo(e))}},cl={activeStep:0,etlExecutionStatus:!1,dataSourcesUris:void 0,sparqlEndpointIri:"",dataSampleIri:"",namedGraph:"",rdfInputIri:"",rdfFile:void 0,rdfDataSampleFile:void 0,inputType:"SPARQL_ENDPOINT",activeDiscoverTabIndex:0},ul=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oo:var n=t.value,a=e.activeStep;return Ce()({},e,{activeStep:a+n>3?3:a+n});case Lo:var r=t.value;return Ce()({},e,{activeStep:r});case No:var i=t.value,o=e.activeStep;return Ce()({},e,{activeStep:o-i<0?0:o-i});case Mo:return Ce()({},e,{activeStep:0});case Uo:return Ce()({},e,{dataSourcesUris:void 0,sparqlEndpointIri:"",dataSampleIri:"",namedGraph:"",rdfInputIri:"",rdfFile:void 0,rdfDataSampleFile:void 0,inputType:"SPARQL_ENDPOINT",activeDiscoverTabIndex:0});case jo:var l=t.sample,s=l.sparqlEndpointIri,c=l.dataSampleIri,u=l.namedGraph,p=l.inputType;switch(p){case"SPARQL_ENDPOINT":return Ce()({},e,{dataSourcesUris:void 0,sparqlEndpointIri:s,dataSampleIri:c,namedGraph:u,inputType:p,activeDiscoverTabIndex:0});default:return Ce()({},e)}case _o:var d=t.value;return Object.assign({},e,Ce()({},e,{etlExecutionStatus:d}));case Vo:var h=t.value;return Object.assign({},e,Ce()({},e,{dataSampleIri:h}));case zo:var f=t.value;return Object.assign({},e,Ce()({},e,{sparqlEndpointIri:f}));case Go:var m=t.value;return Object.assign({},e,Ce()({},e,{namedGraph:m}));case Ho:var v=t.value;return Object.assign({},e,Ce()({},e,{rdfInputIri:v}));case Wo:var g=t.value;return Object.assign({},e,Ce()({},e,{rdfFile:g}));case Bo:var b=t.value;return Object.assign({},e,Ce()({},e,{rdfDataSampleFile:b}));case qo:var E=t.value,y="";switch(E){case 0:y="SPARQL_ENDPOINT";break;case 1:y="RDF_INPUT_IRI";break;case 2:y="RDF_INPUT_FILE";break;default:y="RDF_INPUT_IRI"}return Object.assign({},e,Ce()({},e,{inputType:y,activeDiscoverTabIndex:E}));default:return e}},pl=function(e){function t(e){var n;return b()(this,t),n=I()(this,w()(t).call(this,e)),F()(C()(n),"isMounted",!1),F()(C()(n),"didLoadInitialMetadata",!1),F()(C()(n),"didUpdateMetadata",!1),F()(C()(n),"state",{applicationsMetadata:[],loadingAppIsActive:!1}),F()(C()(n),"loadApplicationsMetadata",v()(f.a.mark(function e(){var t,a,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.userProfile,a=t.webId,r=t.applicationsFolder,!a){e.next=8;break}return e.next=6,Oa.getAppConfigurationsMetadata(a,r);case 6:i=e.sent,n.isMounted&&(n.setState({applicationsMetadata:i}),n.didLoadInitialMetadata||(n.didLoadInitialMetadata=!0),ee.info(i,"HomeContainer"));case 8:case"end":return e.stop()}},e)}))),F()(C()(n),"setupDiscoveryListeners",function(){var e=n.props,t=e.userProfile,a=e.socket;t.discoverySessions.map(function(e){return e.finished||(a.emit("join",e.id),ee.info("Sending join to discovery room ".concat(e.id))),e})}),F()(C()(n),"setupEtlExecutionsListeners",function(){var e=n.props,t=e.userProfile,a=e.socket;t.pipelineExecutions.map(function(e){var t,n=e.status;return(t=n&&n.statusIri?se[n.statusIri]?se[n.statusIri]:se[n["@id"]]:ce.Unknown)!==ce.Finished&&t!==ce.Cancelled&&t!==ce.Unknown&&t!==ce.Failed&&(a.emit("join",e.executionIri),ee.info("Sending join to pipeline execution room ".concat(e.executionIri))),e})}),F()(C()(n),"handleChange",function(e,t){n.props.handleSetHomepageTabIndex(t)}),F()(C()(n),"handleSampleClick",function(e){return function(){var t=n.props,a=t.onInputExampleClicked,r=t.history;a(e),r.push("/discover")}}),F()(C()(n),"handleSelectDiscoveryClick",function(e){var t=n.props.history;ee.info("About to push with id ".concat(e)),t.push({pathname:"/discover",state:{discoveryId:e}})}),F()(C()(n),"onHandleSelectPipelineExecutionClick",function(e){var t=n.props,a=t.history,r=t.handleSetResultPipelineIri,i=t.handleSetPipelineExecutionIri,o=t.handleSetSelectedVisualizer;ee.info("About to push with id ".concat(e));var l=e.etlPipelineIri,s=e.selectedVisualiser,c=e.executionIri;ue.getPipeline({pipelineIri:l}).then(function(e){return e.data}).then(function(e){var t=e.resultGraphIri,n={visualizer:{visualizerCode:s}};r(t),i(c),o(n),a.push({pathname:"/create-app"})}).catch(function(e){ee.error(e,"HomeContainer")})}),F()(C()(n),"handleAppClicked",function(){var e=v()(f.a.mark(function e(t){var a,r,i,o,l,s,c,u,p,d,h,m;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,r=a.handleSetSelectedVisualizer,i=a.handleSetResultPipelineIri,o=a.handleSetSelectedApplicationTitle,l=a.handleSetSelectedApplicationData,s=a.handleSetSelectedApplicationMetadata,c=a.handleSetFiltersState,u=a.history,e.next=3,n.setApplicationLoaderStatus(!0);case 3:return p=t.configuration,d=p.graphIri,h=!0,e.next=8,ae.getGraphExists(d).catch(function(){h=!1});case 8:if(!h){e.next=27;break}return m={visualizer:{visualizerCode:p.visualizerType}},e.next=12,i(d);case 12:return e.next=14,o(p.title);case 14:return e.next=16,l(p);case 16:return e.next=18,s(t);case 18:return e.next=20,r(m);case 20:return e.next=22,c(p.filterConfiguration);case 22:return e.next=24,n.setApplicationLoaderStatus(!1);case 24:u.push({pathname:"/create-app"}),e.next=29;break;case 27:Y.b.success("Application data was removed or deleted from the platform,blank metadata will be removed from storage...",{position:Y.b.POSITION.TOP_RIGHT}),n.handleDeleteApp();case 29:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),F()(C()(n),"handleDeleteApp",function(){var e=v()(f.a.mark(function e(t){var a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=C()(n),r=a.setApplicationLoaderStatus,e.next=3,r(!0);case 3:return e.next=5,Oa.removeAppFromStorage(n.props.applicationsFolder,t);case 5:if(!e.sent){e.next=10;break}return e.next=9,le.deleteApplication(n.props.webId,t.solidFileUrl);case 9:n.handleApplicationDeleted(t);case 10:return e.next=12,r(!1);case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),F()(C()(n),"handleApplicationDeleted",function(e){var t=n.state.applicationsMetadata.filter(function(t){return t.solidFileUrl!==e.solidFileUrl});Y.b.success("Removed application:\n".concat(e.solidFileTitle),{position:Y.b.POSITION.TOP_RIGHT,autoClose:4e3}),n.setState({applicationsMetadata:t})}),F()(C()(n),"handleShareAppClicked",function(){Y.b.success("Copied link to clipboard!",{position:Y.b.POSITION.TOP_RIGHT,autoClose:2e3})}),F()(C()(n),"handlePipelineExecutionRowDeleteClicked",function(){var e=v()(f.a.mark(function e(t){var a,r,i,o,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setApplicationLoaderStatus(!0),a=n.props,r=a.handleSetUserProfileAsync,i=a.webId,o=a.socket,e.next=4,le.deletePipelineExecution(i,t.executionIri,o.id);case 4:if(200!==(l=e.sent).status){e.next=12;break}return e.next=8,n.setApplicationLoaderStatus(!1);case 8:return e.next=10,r(l.data);case 10:e.next=15;break;case 12:return e.next=14,n.setApplicationLoaderStatus(!1);case 14:Y.b.error("Error! Unable to delete pipeline execution session. Try again later...",{position:Y.b.POSITION.TOP_RIGHT,autoClose:5e3});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),C()(n).setApplicationLoaderStatus=n.setApplicationLoaderStatus.bind(C()(n)),n}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=this.setupDiscoveryListeners,t=this.setupEtlExecutionsListeners,n=this.loadApplicationsMetadata,a=this.props.location.pathname;be.trackPage(a),e(),t(),n(),this.isMounted=!0}},{key:"componentWillUpdate",value:function(){var e=v()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.isMounted&&this.didLoadInitialMetadata&&this.props.userProfile.webId)||this.didUpdateMetadata){e.next=4;break}return e.next=3,this.loadApplicationsMetadata();case 3:this.didUpdateMetadata=!0;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.isMounted=!1,this.didUpdateMetadata=!1,this.didLoadInitialMetadata=!1}},{key:"setApplicationLoaderStatus",value:function(e){this.setState({loadingAppIsActive:e})}},{key:"render",value:function(){var e=this.handleChange,t=this.handleSampleClick,n=this.handleSelectDiscoveryClick,a=this.onHandleSelectPipelineExecutionClick,i=this.handleAppClicked,o=this.handleDeleteApp,l=this.handleShareAppClicked,s=this.setApplicationLoaderStatus,c=this.handlePipelineExecutionRowDeleteClicked,u=this.props,p=u.userProfile,d=u.tabIndex,h=this.state.loadingAppIsActive;return r.a.createElement(Ki.a,{active:h,spinner:!0},r.a.createElement(Ro,{onHandleTabChange:e,onHandleSampleClick:t,onHandleSelectDiscoveryClick:n,onHandleSelectPipelineExecutionClick:a,applicationsList:this.state.applicationsMetadata,pipelinesList:p.pipelineExecutions,discoveriesList:p.discoverySessions,tabIndex:d,onHandleAppClicked:i,onHandleDeleteAppClicked:o,onHandleShareAppClicked:l,onSetApplicationLoaderStatus:s,onHandlePipelineExecutionRowDeleteClicked:c}))}}]),t}(a.PureComponent),dl=ve(Object(o.b)(function(e){return{userProfile:e.user,applicationsFolder:e.user.applicationsFolder,webId:e.user.webId,tabIndex:e.globals.homepageTabIndex}},function(e){return{onInputExampleClicked:function(t){return e(Ko(t))},handleSetResultPipelineIri:function(t){return e(Ui(t))},handleSetPipelineExecutionIri:function(t){e(Gi(t))},handleSetSelectedVisualizer:function(t){return e(st({data:t}))},handleSetSelectedApplicationTitle:function(t){return e(hr(t))},handleSetSelectedApplicationData:function(t){return e(cr(t))},handleSetSelectedApplicationMetadata:function(t){return e(ur(t))},handleSetUserProfileAsync:function(t){return e(hi(t))},handleSetHomepageTabIndex:function(t){return e(dt(t))},handleSetFiltersState:function(t){return e(_a(t))}}})(function(e){return r.a.createElement(he.Consumer,null,function(t){return r.a.createElement(pl,Re()({},e,{socket:t}))})})),hl=n(1504),fl=n(1487),ml=n(1497),vl=n(1488),gl="SET_SELECTED_PIPELINE_GROUP",bl="SET_PIPELINE_GROUPS",El="SET_DISCOVERY_ID",yl=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id;return{type:El,discovery:{id:e}}},xl=function(e){return{type:bl,pipelineGroups:e}};var Il={getDatasourcesArray:function(e){return e.map(function(e){return e.url})},getDatasourcesForTTLGenerator:function(e){return e.map(function(e){return{Uri:e.url}})}},Sl={discoveryId:void 0,selectedPipelineGroup:{},datasources:[],pipelineGroups:[]},wl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case El:return Ce()({},e,{discoveryId:t.discovery.id});case bl:return Ce()({},e,{pipelineGroups:t.pipelineGroups});case gl:return Ce()({},e,{selectedPipelineGroup:t.selectedPipelineGroup});default:return e}},kl=n(1486),Cl=Object(o.b)(function(e){return{sparqlEndpointIri:e.discover.sparqlEndpointIri,dataSampleIri:e.discover.dataSampleIri,namedGraph:e.discover.namedGraph}})(Object(U.a)(function(){return{gridRoot:{display:"flex",flexWrap:"wrap"},textField:{margin:"auto",width:"100%",marginTop:"0.5rem"}}})(function(e){var t=e.classes,n=e.discoveryIsLoading,a=e.handleNamedGraphTextFieldChange,i=e.handleDataSampleTextFieldChange,o=e.handleSparqlTextFieldChange,l=e.sparqlEndpointIri,s=e.dataSampleIri,c=e.namedGraph;return r.a.createElement("div",{className:t.gridRoot},r.a.createElement(Rn.a,{container:!0,spacing:2},r.a.createElement(Rn.a,{item:!0,xs:12,sm:12},r.a.createElement(Pi.a,{id:"outlined-bare",label:"SPARQL IRI",disabled:n,className:t.textField,multiline:!0,autoFocus:!0,onChange:o,placeholder:"Input your SPARQL IRI...",fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},value:l})),r.a.createElement(Rn.a,{item:!0,xs:12,sm:12},r.a.createElement(Pi.a,{id:"outlined-bare",label:"Data sample IRI",disabled:n,className:t.textField,multiline:!0,onChange:i,placeholder:"Input your data sample IRI...",fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},value:s})),r.a.createElement(Rn.a,{item:!0,xs:12,sm:12},r.a.createElement(Pi.a,{id:"outlined-bare",label:"Named Graph IRI",disabled:n,className:t.textField,multiline:!0,onChange:a,placeholder:"Input your named graph IRI...",fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},value:c}))))})),Al=Object(o.b)(function(e){return{sparqlEndpointIri:e.discover.sparqlEndpointIri,dataSampleIri:e.discover.dataSampleIri,namedGraph:e.discover.namedGraph}})(Object(U.a)(function(){return{gridRoot:{display:"flex",flexWrap:"wrap"},textField:{margin:"auto",width:"100%",marginTop:"0.5rem"}}})(function(e){var t=e.classes,n=e.discoveryIsLoading,a=e.handleRdfInputIriTextFieldChange,i=e.rdfInputIri,o=e.handleDataSampleTextFieldChange,l=e.dataSampleIri;return r.a.createElement("div",{className:t.gridRoot},r.a.createElement(Rn.a,{container:!0,spacing:2},r.a.createElement(Rn.a,{item:!0,xs:12,sm:12},r.a.createElement(Pi.a,{id:"outlined-bare",label:"Link to RDF resource",disabled:n,className:t.textField,multiline:!0,autoFocus:!0,onChange:a,placeholder:"Input the link to your RDF resource...",fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},value:i})),r.a.createElement(Rn.a,{item:!0,xs:12,sm:12},r.a.createElement(Pi.a,{id:"outlined-bare",label:"Data sample IRI",disabled:n,className:t.textField,multiline:!0,onChange:o,placeholder:"Input your data sample IRI...",fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},value:l}))))})),Tl=n(765),Dl=n.n(Tl),Fl=n(271);n(1365);Object(Fl.registerPlugin)(Dl.a);var Pl={ttl:"text/turtle",nt:"application/n-triples",nq:"application/n-quads",trig:"application/trig",rdf:"application/rdf+xml",jsonld:"application/ld+json"},Rl=Object(o.b)(function(e){return{sparqlEndpointIri:e.discover.sparqlEndpointIri,dataSampleIri:e.discover.dataSampleIri,namedGraph:e.discover.namedGraph}})(Object(U.a)(function(){return{gridRoot:{display:"flex",flexWrap:"wrap"},textField:{margin:"auto",width:"100%",marginTop:"0.5rem"},itemGrid:{height:"100%",width:"100%",margin:"auto"}}})(function(e){var t=e.classes,n=e.onHandleSetRdfFile,a=e.onHandleSetRdfDataSampleFile;return r.a.createElement("div",{className:t.gridRoot},r.a.createElement(Rn.a,{container:!0,spacing:2},r.a.createElement(Rn.a,{item:!0,xs:12,sm:12},r.a.createElement(Fl.FilePond,{labelIdle:"Drag & Drop your RDF file (.ttl, .nt, .ng, .trig, .rdf or .jsonld)",allowMultiple:!1,allowFileTypeValidation:!0,acceptedFileTypes:["text/turtle","application/n-triples","application/n-quads","application/trig","application/rdf+xml","application/ld+json"],fileValidateTypeLabelExpectedTypesMap:{"text/turtle":".ttl","application/n-triples":".nt","application/n-quads":".nq","application/trig":".trig","application/rdf+xml":".rdf","application/ld+json":".jsonld"},fileValidateTypeDetectType:function(e,t){return new Promise(function(n){if(ee.info(e,t),""===t){var a=e.name.split(".").pop();n(Pl[a])}n(t)})},className:t.itemGrid,maxFiles:1,onupdatefiles:function(e){var t=1===e.length?e[0].file:void 0;if(t&&""===t.type){var a=t.name.split(".").pop(),r=Pl[a];t=new File([t],t.name,{type:r})}n(t)}})),r.a.createElement(Rn.a,{item:!0,xs:12,sm:12},r.a.createElement(Fl.FilePond,{labelIdle:"Drag & Drop your RDF data sample file (.ttl, .nt, .ng, .trig, .rdf or .jsonld)",allowMultiple:!1,allowFileTypeValidation:!0,acceptedFileTypes:["text/turtle","application/n-triples","application/n-quads","application/trig","application/rdf+xml","application/ld+json"],fileValidateTypeLabelExpectedTypesMap:{"text/turtle":".ttl","application/n-triples":".nt","application/n-quads":".nq","application/trig":".trig","application/rdf+xml":".rdf","application/ld+json":".jsonld"},fileValidateTypeDetectType:function(e,t){return new Promise(function(n){if(ee.info(e,t),""===t){var a=e.name.split(".").pop();n(Pl[a])}n(t)})},className:t.itemGrid,maxFiles:1,onupdatefiles:function(e){var t=1===e.length?e[0].file:void 0;if(t&&""===t.type){var n=t.name.split(".").pop(),r=Pl[n];t=new File([t],t.name,{type:r})}a(t)}}))))})),Ol=function(e){function t(){return b()(this,t),I()(this,w()(t).apply(this,arguments))}return T()(t,e),y()(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.discoveryIsLoading,a=e.discoveryLoadingLabel,i=e.dataSourcesUris,o=e.sparqlEndpointIri,l=e.dataSampleIri,s=e.onHandleProcessStartDiscovery,c=e.onHandleClearInputsClicked,u=e.onHandleSetNamedGraph,p=e.onHandleSetDataSampleIri,d=e.onHandleSetSparqlIri,h=e.namedGraph,f=e.sparqlTextFieldValue,m=e.namedTextFieldValue,v=e.dataSampleTextFieldValue,g=e.inputFieldsAreNotFilled,b=e.onHandleRdfInputIriTextFieldChange,E=e.rdfInputIri,y=e.onHandleSetRdfFile,x=e.onHandleSetRdfDataSampleFile,I=e.tabIndex,S=e.onHandleTabIndexChange;return r.a.createElement(Ai.a,{className:t.card},r.a.createElement(kl.a,null,r.a.createElement("div",{className:t.gridRoot},r.a.createElement(Rn.a,{container:!0,spacing:2},r.a.createElement(Rn.a,{item:!0,xs:12,sm:12},r.a.createElement(Ae.a,{position:"static",color:"default"},r.a.createElement(Sr.a,{value:I,onChange:S,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(wr.a,{label:"From SPARQL endpoint",disabled:n}),r.a.createElement(wr.a,{label:"From URL with RDF",disabled:n}),r.a.createElement(wr.a,{label:"From File with RDF",disabled:n})))),r.a.createElement(Rn.a,{item:!0,xs:12,sm:12},r.a.createElement(wi.a,{animateHeight:!0,axis:"x",index:I},r.a.createElement(Cl,{discoveryIsLoading:n,handleSparqlTextFieldChange:d,handleDataSampleTextFieldChange:p,handleNamedGraphTextFieldChange:u,sparqlEndpointIri:o,dataSampleIri:l,namedGraph:h,sparqlTextFieldValue:f,namedTextFieldValue:m,dataSampleTextFieldValue:v}),r.a.createElement(Al,{discoveryIsLoading:n,handleRdfInputIriTextFieldChange:b,rdfInputIri:E,handleDataSampleTextFieldChange:p,dataSampleIri:l}),r.a.createElement(Rl,{discoveryIsLoading:n,onHandleSetRdfFile:y,onHandleSetRdfDataSampleFile:x,handleDataSampleTextFieldChange:p,dataSampleIri:l,clea:!0}))),r.a.createElement(Rn.a,{item:!0,xs:12,sm:12},n?r.a.createElement(Bt,{labelText:a}):r.a.createElement(Rn.a,{container:!0,spacing:2},r.a.createElement(Rn.a,{item:!0,xs:6,sm:6},r.a.createElement(P.a,{className:t.itemGrid,variant:"contained",component:"span",color:"primary",disabled:i&&""===o&&""===l&&""===h,onClick:c,size:"small"},"Clear inputs")),r.a.createElement(Rn.a,{item:!0,xs:6,sm:6},r.a.createElement(P.a,{className:t.itemGrid,variant:"contained",component:"span",color:"secondary",id:"start-discovery-button",disabled:g,onClick:s,size:"small"},"Start Discovery"))))))))}}]),t}(a.PureComponent),Ll=Object(U.a)(function(e){return{root:{textAlign:"center",paddingTop:e.spacing(20),flex:1},gridRoot:{flexGrow:1},itemGrid:{height:"100%",width:"100%",margin:"auto"},card:{flexGrow:1}}})(Ol),Nl=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=I()(this,(e=w()(t)).call.apply(e,[this].concat(r))),F()(C()(n),"isMounted",!1),F()(C()(n),"state",{discoveryIsLoading:!1,discoveryLoadingLabel:""}),F()(C()(n),"componentWillUnmount",function(){n.isMounted=!1}),F()(C()(n),"postStartFromRdfInputFile",v()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oe.postDiscoverFromInputFile({webId:n.props.webId,rdfFile:n.props.rdfFile,rdfDataSampleFile:n.props.rdfDataSampleFile}).then(function(e){return e}));case 1:case"end":return e.stop()}},e)}))),F()(C()(n),"postStartFromSparqlEndpoint",v()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oe.postDiscoverFromEndpoint({sparqlEndpointIri:n.props.sparqlEndpointIri,dataSampleIri:n.props.dataSampleIri,namedGraphs:n.props.namedGraph,webId:n.props.webId}).then(function(e){return e}));case 1:case"end":return e.stop()}},e)}))),F()(C()(n),"postStartFromRdfInputIri",v()(f.a.mark(function e(){var t,a,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.rdfInputIri,r=t.webId,i=t.dataSampleIri,e.abrupt("return",oe.postDiscoverFromInputIri({rdfInputIri:a,webId:r,dataSampleIri:i}).then(function(e){return e}));case 2:case"end":return e.stop()}},e)}))),F()(C()(n),"handleDiscoveryInputCase",function(){switch(n.props.inputType){case"RDF_INPUT_IRI":return n.postStartFromRdfInputIri();case"RDF_INPUT_FILE":return n.postStartFromRdfInputFile();default:return n.postStartFromSparqlEndpoint()}}),F()(C()(n),"handleProcessStartDiscovery",function(){var e=C()(n),t=n.props.handleSetDiscoveryId;e.setState({discoveryIsLoading:!0,discoveryLoadingLabel:"Please, hold on processing the request..."}),e.handleDiscoveryInputCase().then(function(n){if(void 0!==n){var a=n.data.id;t(a),e.startSocketListener(a)}}).catch(function(t){ee.error(t,"DiscoverSelectorContainer"),e.setState({discoveryIsLoading:!1}),Y.b.error("There was an error during the discovery. Please, try different sources.",{position:Y.b.POSITION.TOP_RIGHT,autoClose:2e3})})}),F()(C()(n),"startSocketListener",function(e){var t=n.props,a=t.socket,r=t.onNextClicked,i=C()(n);a.on("discoveryStatus",function(t){if(n.isMounted)if(void 0===t)i.setState({discoveryIsLoading:!1}),Y.b.error("There was an error during the discovery. Please, try different sources.",{position:Y.b.POSITION.TOP_RIGHT,autoClose:2e3});else{var a=JSON.parse(t);if(a.discoveryId!==e)return;a.status.isFinished&&(be.trackEvent({category:"Discovery",action:"Processed discovery : step 1"}),i.loadPipelineGroups(e).then(function(){i.setState({discoveryIsLoading:!1}),r()}))}})}),F()(C()(n),"loadPipelineGroups",function(e){n.setState({discoveryLoadingLabel:"Extracting the magical pipelines 🧙‍..."});var t=n.props.handleSetPipelineGroups;return oe.getPipelineGroups({discoveryId:e}).then(function(e){return e.data}).then(function(e){return t(e.pipelineGroups),e})}),F()(C()(n),"handleValidation",function(e){var t=pe.extractUrlGroups(e);t instanceof Array&&(e=t.join(",\n"))}),F()(C()(n),"handleSetSparqlIri",function(e){var t=e.target.value;n.props.handleSetSparqlIriFieldValue(t)}),F()(C()(n),"handleSetDataSampleIri",function(e){var t=e.target.value;n.props.handleSetDataSampleIriFieldValue(t)}),F()(C()(n),"handleSetNamedGraph",function(e){var t=e.target.value;ee.info("Named graph field changed","DiscoverSelectorContainer"),ee.info(t,"DiscoverSelectorContainer"),n.props.handleSetNamedGraphFieldValue(t)}),F()(C()(n),"handleClearInputsClicked",function(){n.props.resetFieldsAndExamples()}),F()(C()(n),"handleRdfInputIriTextFieldChange",function(e){var t=e.target.value;ee.info("Rdf field changed","DiscoverSelectorContainer"),ee.info(t,"DiscoverSelectorContainer"),n.props.handleSetRdfInputIriUrlFieldValue(t)}),F()(C()(n),"handleSetRdfFile",function(e){e?(ee.info("Rdf file selected","DiscoverSelectorContainer"),n.props.handleSetRdfFile(e)):ee.info("Rdf file deselected","DiscoverSelectorContainer")}),F()(C()(n),"handleSetRdfDataSampleFile",function(e){e?(ee.info("Rdf data sample file selected","DiscoverSelectorContainer"),n.props.handleSetRdfDataSampleFile(e)):ee.info("Rdf data sample file deselected","DiscoverSelectorContainer")}),F()(C()(n),"handleTabIndexChange",function(e,t){n.props.activeDiscoverTabIndex!==t&&n.props.handleSetActiveDiscoverTabIndex(t)}),n}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){this.isMounted=!0}},{key:"render",value:function(){var e=this.props,t=e.dataSourcesUris,n=e.sparqlEndpointIri,a=e.dataSampleIri,i=e.namedGraph,o=e.rdfInputIri,l=e.inputType,s=e.activeDiscoverTabIndex,c=this.state,u=c.discoveryIsLoading,p=c.discoveryLoadingLabel,d="SPARQL_ENDPOINT"===l&&(""===n||""===i||""===a)||"RDF_INPUT_IRI"===l&&""===o;return r.a.createElement(Ll,{discoveryIsLoading:u,inputFieldsAreNotFilled:d,discoveryLoadingLabel:p,dataSourcesUris:t,sparqlEndpointIri:n,namedGraph:i,dataSampleIri:a,onHandleClearInputsClicked:this.handleClearInputsClicked,onHandleProcessStartDiscovery:this.handleProcessStartDiscovery,onHandleSetNamedGraph:this.handleSetNamedGraph,onHandleSetDataSampleIri:this.handleSetDataSampleIri,onHandleSetSparqlIri:this.handleSetSparqlIri,onHandleRdfInputIriTextFieldChange:this.handleRdfInputIriTextFieldChange,onHandleSetRdfFile:this.handleSetRdfFile,onHandleSetRdfDataSampleFile:this.handleSetRdfDataSampleFile,rdfInputIri:o,tabIndex:s,onHandleTabIndexChange:this.handleTabIndexChange})}}]),t}(a.PureComponent),Ml=Object(o.b)(function(e){return{datasources:Il.getDatasourcesArray(e.discovery.datasources),discoveryId:e.discovery.discoveryId,dataSourcesUris:e.discover.dataSourcesUris,sparqlEndpointIri:e.discover.sparqlEndpointIri,dataSampleIri:e.discover.dataSampleIri,namedGraph:e.discover.namedGraph,webId:e.user.webId,rdfInputIri:e.discover.rdfInputIri,rdfFile:e.discover.rdfFile,rdfDataSampleFile:e.discover.rdfDataSampleFile,inputType:e.discover.inputType,activeDiscoverTabIndex:e.discover.activeDiscoverTabIndex}},function(e){return{handleSetDiscoveryId:function(t){return e(yl({id:t}))},handleSetPipelineGroups:function(t){return e(xl(t))},handleSetDataSampleIriFieldValue:function(t){return e(rl(t))},handleSetNamedGraphFieldValue:function(t){return e(nl(t))},handleSetSparqlIriFieldValue:function(t){return e(al(t))},handleSetRdfInputIriUrlFieldValue:function(t){return e(il(t))},resetFieldsAndExamples:function(){e(el())},handleSetRdfFile:function(t){e(ol(t))},handleSetRdfDataSampleFile:function(t){e(ll(t))},handleSetActiveDiscoverTabIndex:function(t){e(sl(t))}}})(function(e){return r.a.createElement(he.Consumer,null,function(t){return r.a.createElement(Nl,Re()({},e,{socket:t}))})}),jl=function(e){var t=e.classes,n=e.onInputExampleClicked,a=e.onNextClicked;return r.a.createElement("div",{className:t.root},r.a.createElement(Rn.a,{container:!0,spacing:3},r.a.createElement(Rn.a,{item:!0,xs:8,sm:8},r.a.createElement(Ml,{onInputExampleClicked:n,onNextClicked:a})),r.a.createElement(Rn.a,{item:!0,xs:4,sm:4},r.a.createElement(Fo,{onInputExampleClicked:n}))))};jl.propTypes={};var Ul=Object(U.a)(function(){return{root:{width:"100%"}}})(jl),_l=Object(o.b)(function(e){return{selectedInputExample:e.discover.selectedInputExample,activeStep:e.discover.activeStep}},function(e){return{onInputExampleClicked:function(t){return e(Ko(t))},onNextClicked:function(){return e(Zo(1))}}})(Ul),Gl=Object(U.a)({root:{justifyContent:"center"},card:{height:"100%",display:"flex",flexDirection:"column"},cardContent:{flexGrow:1},media:{objectFit:"cover"}})(function(e){var t=e.classes,n=e.visualizerData,a=e.handleSelectVisualizer,i=e.cardIndex;return r.a.createElement(Ai.a,{className:t.card},r.a.createElement(Ti.a,{style:{textAlign:"center"},onClick:function(){a()},id:"visualizer-".concat(i,"-card")},r.a.createElement(Pn,{visualizerType:n.visualizer.visualizerCode,style:{color:"white",fontSize:"75px"}}),r.a.createElement(kl.a,{className:t.CardContent},r.a.createElement(Te.a,{gutterBottom:!0,variant:"h5",component:"h2"},pe.getBeautifiedVisualizerTitle(n.visualizer.visualizerCode)),r.a.createElement(Te.a,{component:"p"},n.visualizer.label))))}),zl=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=I()(this,(e=w()(t)).call.apply(e,[this].concat(r))),F()(C()(n),"disabled",void 0),F()(C()(n),"addVisualizer",function(e){var t=n.props.onAddSelectedVisualizer;return new Promise(function(n){t(e),n()})}),F()(C()(n),"changeDisabled",function(){n.disabled=!0}),F()(C()(n),"onSelectVisualizer",function(){if(!n.disabled){be.trackEvent({category:"Discovery",action:"Selected visualizer : step 2"}),n.changeDisabled();var e=n.props,t=e.visualizerData,a=e.onNextClicked,r=t.dataSourceGroups,i=C()(n);i.addVisualizer(t).then(function(){1===r.length?i.handleSelectPipeline(r[0]):a()})}}),F()(C()(n),"handleSelectPipeline",function(e){var t=n.props,a=t.handleSetSelectedPipelineId,r=t.setPipelineExecutorStep,i=e.pipelines;i.sort(function(e,t){return e.minimalIteration<t.minimalIteration}),a(i[0].id),r(),Y.b.info("Automatically skipping pipeline selection since\n      only one pipeline group discovered.",{position:Y.b.POSITION.TOP_RIGHT,autoClose:4e3})}),n}return T()(t,e),y()(t,[{key:"render",value:function(){var e=this.props,t=e.visualizerData,n=e.cardIndex;return r.a.createElement(Gl,{visualizerData:t,cardIndex:n,handleSelectVisualizer:this.onSelectVisualizer})}}]),t}(a.PureComponent),Vl=Object(o.b)(null,function(e){return{onNextClicked:function(){return e(Zo(1))},setPipelineExecutorStep:function(){return e(Jo(3))},onAddSelectedVisualizer:function(t){return e(st({data:t}))},handleSetSelectedPipelineId:function(t){return e(_i(t))}}})(zl),Hl=Object(U.a)(function(e){return{root:{flexGrow:1},control:{padding:e.spacing(2)},cardGrid:{padding:"".concat(e.spacing(8),"px 0")},layout:F()({width:"auto",marginLeft:e.spacing(3),marginRight:e.spacing(3)},e.breakpoints.up(1100+e.spacing(6)),{width:1100,marginLeft:"auto",marginRight:"auto"}),card:{height:"100%",display:"flex",flexDirection:"column"},label:{marginTop:5,right:0,bottom:0,left:0,margin:"auto"}}})(function(e){var t=e.classes,n=e.visualizers;return r.a.createElement("div",{className:Ut()(t.layout,t.cardGrid)},r.a.createElement(Rn.a,{container:!0,className:t.root,spacing:4},r.a.createElement(Rn.a,{container:!0,className:t.demo,justify:"center",spacing:4},0===n.length?r.a.createElement(Rn.a,{item:!0,xs:12},r.a.createElement(Ai.a,{className:t.card},r.a.createElement(Te.a,{className:t.label,variant:"body2",align:"center",gutterBottom:!0},r.a.createElement(Zi.a,{text:"No visualizers available, try providing different input ☹️"})))):n.map(function(e,t){return r.a.createElement(Rn.a,{key:qn()(),item:!0,sm:6,md:4,lg:3},r.a.createElement(Vl,{cardIndex:t,visualizerData:e}))}))))}),Wl=Object(o.b)(function(e){return{visualizers:e.discovery.pipelineGroups}})(Hl),Bl=[{id:"label",disablePadding:!0,label:"Label"},{id:"uri",disablePadding:!1,label:"Uri"}],ql=function(){return r.a.createElement(Tr.a,null,r.a.createElement(Dr.a,null,r.a.createElement(Ar.a,{component:"th",scope:"row",size:"small"},"Action"),Bl.map(function(e){return r.a.createElement(Ar.a,{key:e.id,align:"left"},e.label)},void 0)))};function Xl(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var Yl=Object(U.a)(function(e){return{root:{width:"100%",marginTop:e.spacing(3),flex:1},table:{minWidth:1020},tableWrapper:{overflowX:"auto"}}})(function(e){var t=e.classes,n=e.order,a=e.orderBy,i=e.dataSourceGroups,o=e.rowsPerPage,l=e.page,s=e.loadingButtons,c=e.emptyRows,u=e.onSelectPipeline;return r.a.createElement(j.a,{elevation:2,className:t.root},r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(kr.a,{className:t.table,"aria-labelledby":"tableTitle"},r.a.createElement(ql,null),r.a.createElement(Cr.a,null,i.sort(function(e,t){return"desc"===e?function(e,n){return Xl(e,n,t)}:function(e,n){return-Xl(e,n,t)}}(n,a)).slice(l*o,l*o+o).map(function(e,t){return r.a.createElement(Dr.a,{hover:!0,tabIndex:-1,key:qn()()},r.a.createElement(Ar.a,{component:"th",scope:"row",padding:"checkbox"},r.a.createElement(P.a,{id:"button-".concat(t,"-pipeline"),size:"small",disabled:Object.keys(s).length>0,variant:"contained",color:"secondary",onClick:function(){u(e)}},"Select")),r.a.createElement(Ar.a,{component:"th",scope:"row",padding:"none"},e.dataSources[0].label),r.a.createElement(Ar.a,{component:"th",scope:"row",padding:"none"},e.dataSources[0].uri))}),c>0&&r.a.createElement(Dr.a,{style:{height:49*c}},r.a.createElement(Ar.a,{colSpan:6}))))))}),Zl=n(265),Ql=n.n(Zl),Jl=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=I()(this,(e=w()(t)).call.apply(e,[this].concat(r))),F()(C()(n),"state",{order:"asc",orderBy:"id",page:0,rowsPerPage:5,loadingButtons:{}}),F()(C()(n),"updateLoadingButton",function(e,t){var a=n.state.loadingButtons;t?delete a[e]:a[e]=!0,n.setState({loadingButtons:a})}),F()(C()(n),"handleSelectPipeline",function(e){be.trackEvent({category:"Discovery",action:"Selected pipeline : step 3"});var t=n.props,a=t.handleSetSelectedPipelineId,r=t.onNextClicked,i=e.pipelines;i.sort(function(e,t){return e.minimalIteration<t.minimalIteration}),a(i[0].id),r()}),n}return T()(t,e),y()(t,[{key:"render",value:function(){var e=this.state,t=e.order,n=e.orderBy,a=e.rowsPerPage,i=e.loadingButtons,o=e.page,l=this.props,s=l.dataSourceGroups,c=l.discoveryId,u=a-Math.min(a,s.length-o*a);return r.a.createElement(Ql.a,null,r.a.createElement(Yl,{order:t,orderBy:n,dataSourceGroups:s,rowsPerPage:a,page:o,loadingButtons:i,emptyRows:u,onSelectPipeline:this.handleSelectPipeline,discoveryId:c}))}}]),t}(a.PureComponent),$l=Object(o.b)(function(e){return{exportsDict:e.etl.exports,executions:e.etl.executions,discoveryId:e.discovery.discoveryId,selectedVisualizer:e.globals.selectedVisualizer,dataSourceGroups:void 0!==e.globals.selectedVisualizer?e.globals.selectedVisualizer.dataSourceGroups:[]}},function(e){return{handleSetSelectedPipelineId:function(t){return e(_i(t))},onNextClicked:function(){return e(Zo(1))}}})(Jl),Kl=Object(U.a)(function(){return{card:{flexGrow:1},loader:{width:"80%"}}})(function(e){var t=e.classes,n=e.etlExecutionIsFinished,a=e.loaderLabelText;return r.a.createElement(Ai.a,{className:t.card},r.a.createElement(kl.a,null,n===ce.Finished||n===ce.Cancelled||n===ce.Unknown||n===ce.Failed?r.a.createElement(Bt,{className:t.loader,variant:"buffer",value:100,valueBuffer:100,labelText:a}):r.a.createElement(Bt,{className:t.loader,variant:"query",labelText:a})))}),es=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=I()(this,(e=w()(t)).call.apply(e,[this].concat(r))),F()(C()(n),"isMounted",!1),F()(C()(n),"state",{loaderLabelText:"Hold on..."}),F()(C()(n),"componentDidMount",function(){n.isMounted=!0;var e=n.props,t=e.discoveryId,a=e.pipelineId,r=e.selectedVisualizer;(0,e.onSetEtlExecutionStatus)("Queued");var i=C()(n);i.exportPipeline(t,a).then(function(e){var t=void 0!==r?r.visualizer.visualizerCode:"";i.executePipeline(e.pipelineId,e.etlPipelineIri,t)}).catch(function(e){ee.error(e.message,"DiscoverPipelinesExecutorContainer"),i.setState({loaderLabelText:"Sorry, the ETL is unable to execute the pipeline, try selecting different source..."})})}),F()(C()(n),"componentWillUnmount",function(){n.isMounted=!1}),F()(C()(n),"exportPipeline",function(e,t){var a=n.props.handleSetResultPipelineIri,r=C()(n);return ue.getExportPipeline({discoveryId:e,pipelineId:t}).then(function(e){return e.data}).then(function(e){return a(e.resultGraphIri),r.setState({loaderLabelText:"Exported pipeline..."}),e})}),F()(C()(n),"executePipeline",function(e,t,a){var r=n.props,i=r.webId,o=r.handleSetPipelineExecutionIri,l=C()(n);return ue.getExecutePipeline({etlPipelineIri:t,webId:i,selectedVisualiser:a}).then(function(e){return e.data}).then(function(t){var n=t.iri;return o(n),l.setState({loaderLabelText:"Please, hold on processing the pipeline..."}),l.startSocketListener(n),e})}),F()(C()(n),"startSocketListener",function(e){var t=n.props,a=t.socket,r=t.onSetEtlExecutionStatus,i=C()(n);a.on("executionStatus",function(t){if(void 0!==t&&i.isMounted){var n=JSON.parse(t);if(n.executionIri===e)if(ee.info(t,"DiscoverPipelinesExecutorContainer"),n.error||n.timeout)i.setState({loaderLabelText:"There was an error during the pipeline execution. Please, try different sources."});else{ee.info(n,"DiscoverPipelinesExecutorContainer");var a,o=n.status.status;o&&o.statusIri&&(a=se[o.statusIri]?se[o.statusIri]:se[o["@id"]]),void 0===a&&(i.setState({loaderLabelText:"Unknown status for checking pipeline execution"}),a="Unknown"),i.setState({loaderLabelText:"Pipeline execution status : ".concat(a)}),a!==ce.Finished&&a!==ce.Cancelled&&a!==ce.Unknown&&a!==ce.Failed||r(a)}}})}),n}return T()(t,e),y()(t,[{key:"render",value:function(){var e=this.state.loaderLabelText,t=this.props.etlExecutionStatus;return r.a.createElement(Kl,{etlExecutionIsFinished:t,loaderLabelText:e,ls:!0})}}]),t}(a.PureComponent),ts=Object(o.b)(function(e){return{pipelineId:e.etl.pipelineId,discoveryId:e.discovery.discoveryId,selectedVisualizer:e.globals.selectedVisualizer,etlExecutionStatus:e.discover.etlExecutionStatus,webId:e.user.webId}},function(e){return{handleSetResultPipelineIri:function(t){return e(Ui(t))},handleSetPipelineExecutionIri:function(t){e(Gi(t))},onSetEtlExecutionStatus:function(t){return e(tl(t))}}})(function(e){return r.a.createElement(he.Consumer,null,function(t){return r.a.createElement(es,Re()({},e,{socket:t}))})}),ns=["Provide your input data sources","Pick a visualizer","Pick a source for execution","Preview & create app"],as=Object(U.a)(function(e){return{root:{width:"100%"},gridRoot:{flexGrow:1},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)},createAppButtons:{justifyContent:"center"}}})(function(e){var t=e.classes,n=e.activeStep,a=e.onBackClicked,i=e.etlExecutionStatus;return r.a.createElement("div",{className:t.root},r.a.createElement(hl.a,{activeStep:n,style:{backgroundColor:"transparent"},orientation:"vertical"},ns.map(function(e,o){return r.a.createElement(fl.a,{key:e},r.a.createElement(ml.a,null,e),r.a.createElement(vl.a,null,function(e){switch(e){case 0:return r.a.createElement(_l,null);case 1:return r.a.createElement(Wl,null);case 2:return r.a.createElement($l,null);case 3:return r.a.createElement(ts,null);default:return"Unknown step"}}(o),o>0&&r.a.createElement("div",{className:t.actionsContainer},r.a.createElement("div",null,r.a.createElement(P.a,{disabled:0===n||i===ce.Finished,onClick:a,className:t.button},"Back"),n===ns.length-1&&r.a.createElement(P.a,{variant:"contained",color:"primary",id:"create-app-button",className:t.button,disabled:i!==ce.Finished,onClick:function(){be.trackEvent({category:"Discovery",action:"Pressed create app : step 4"})},component:Ir.a,to:"/create-app"},"Create App")))))})))}),rs=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=I()(this,(e=w()(t)).call.apply(e,[this].concat(r))),F()(C()(n),"componentDidMount",function(){var e=n.props,t=e.location,a=e.handleSetPipelineGroups,r=e.handleSetDiscoveryId,i=e.onNextClicked,o=e.history,l=n.props.location.pathname;if(be.trackPage(l),t.state&&t.state.discoveryId){ee.info("Just received ".concat(t.state.discoveryId));var s=t.state.discoveryId;o.replace({pathname:t.pathname,state:void 0}),r(s),oe.getPipelineGroups({discoveryId:s}).then(function(e){return e.data}).then(function(e){a(e.pipelineGroups),i()})}}),F()(C()(n),"componentWillUnmount",function(){var e=n.props,t=e.onResetClicked,a=e.onResetSelectedInput;t(),a()}),n}return T()(t,e),y()(t,[{key:"render",value:function(){var e=this.props,t=e.activeStep,n=e.onBackClicked,a=e.etlExecutionStatus;return r.a.createElement(as,{activeStep:t,onBackClicked:n,etlExecutionStatus:a})}}]),t}(a.PureComponent),is=Object(o.b)(function(e){return{activeStep:e.discover.activeStep,etlExecutionStatus:e.discover.etlExecutionStatus}},function(e){return{handleSetDiscoveryId:function(t){return e(yl({id:t}))},onBackClicked:function(){return e(Qo(1))},onResetClicked:function(){return e($o())},onResetSelectedInput:function(){return e(el())},handleSetPipelineGroups:function(t){return e(xl(t))},onNextClicked:function(){return e(Zo(1))}}})(rs),os=function(e){function t(){return b()(this,t),I()(this,w()(t).apply(this,arguments))}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;be.trackPage(e)}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(Te.a,{variant:"h1",gutterBottom:!0},"FAQ"),r.a.createElement(Te.a,{variant:"h2",gutterBottom:!0},"To be implemented..."))}}]),t}(a.PureComponent),ls=Object(U.a)(function(e){return{root:{textAlign:"center",paddingTop:e.spacing(20)},button:{margin:e.spacing(1)},input:{display:"none"}}})(os),ss=function(e){function t(){return b()(this,t),I()(this,w()(t).apply(this,arguments))}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;be.trackPage(e)}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(Te.a,{variant:"h1",gutterBottom:!0},"404"),r.a.createElement(Te.a,{variant:"h2",gutterBottom:!0},"Page not found..."))}}]),t}(a.PureComponent),cs=Object(U.a)(function(e){return{root:{textAlign:"center",paddingTop:e.spacing(20),position:"absolute",left:"50%",top:"40%",transform:"translate(-50%, -50%)"},button:{margin:e.spacing()},input:{display:"none"}}})(ss),us=n(1405),ps=n(1489),ds=Object(U.a)(function(e){return{root:{},header:{marginBottom:"1rem",marginTop:"1rem",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")},textField:{flexGrow:1,width:"100%",fontSize:30,marginTop:"1rem"},button:{margin:e.spacing(1)}}})(function(e){var t=e.classes,n=e.handlePublishClicked,r=e.handleEmbedClicked,i=e.handleAppTitleChanged,o=e.publishDialogOpen,l=e.embedDialogOpen,s=e.handleClosePublishDialog,c=e.handleCloseEmbedDialog,u=e.handleProceedToApplicationClicked,p=e.handleCopyLinkClicked,d=e.selectedApplicationTitle,h=e.selectedVisualizer,f=e.appIri,m=e.height,v=e.width,g=e.handleChangeHeight,b=e.handleChangeWidth;return a.createElement("div",{className:t.root},a.createElement(j.a,{elevation:2,className:t.header,position:"static",color:"default"},a.createElement(Rn.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"center"},a.createElement(Rn.a,{item:!0,xs:12,container:!0,direction:"column",justify:"center",alignItems:"stretch"},a.createElement(Rn.a,{item:!0,xs:!0},a.createElement(us.a,{label:"App title",inputProps:{style:{textAlign:"center"}},value:d,className:t.textField,variant:"outlined",id:"application-title-field",autoComplete:"off",placeholder:"Enter your application title...",onChange:i,margin:"dense"})),a.createElement(Rn.a,{item:!0},a.createElement(Te.a,{align:"center",variant:"h6"},h?pe.getBeautifiedVisualizerTitle(h.visualizer.visualizerCode):"Unkown visualizer type"))),a.createElement(Rn.a,{container:!0,spacing:2,justify:"center"},a.createElement(Rn.a,{item:!0},a.createElement(P.a,{id:"create-app-publish-button",variant:"contained",color:"primary",onClick:n},"Publish")),a.createElement(Rn.a,{item:!0},a.createElement(P.a,{variant:"outlined",color:"primary",onClick:r},"Embed"))))),a.createElement(zr.a,{open:o,onClose:s,"aria-labelledby":"responsive-dialog-title"},a.createElement(jr.a,{id:"responsive-dialog-title"},"Your Application has been Published!"),a.createElement(_r.a,null,a.createElement(Gr.a,null,"Click `Browse Published Apps` to proceed to Application Browser, edit and share your applications. Click on the field with link to copy the public view URL to your clipboard.")),a.createElement(_r.a,null,a.createElement(Hi.CopyToClipboard,{text:f,onCopy:p},a.createElement(Pi.a,{className:t.textField,color:"primary",label:"Click to copy",variant:"outlined",fullWidth:!0,value:f,autoFocus:!0,style:{textDecoration:"none"}}))),a.createElement(Ur.a,null,a.createElement(P.a,{onClick:s,color:"primary",autoFocus:!0},"Close"),a.createElement(P.a,{onClick:u,color:"primary",id:"browse-published-button",autoFocus:!0},"Browse Published Apps"))),a.createElement(zr.a,{open:l,onClose:c,"aria-labelledby":"responsive-dialog-title"},a.createElement(jr.a,{id:"responsive-dialog-title"},"Application published and ready to be embedded"),a.createElement(_r.a,null,a.createElement(Gr.a,null,"Here is the code needed to embed the visualization into another website")),a.createElement(_r.a,null,a.createElement(Pi.a,{id:"height-input",style:{textDecoration:"none"},className:t.textField,variant:"outlined",label:"Height",value:m,onChange:g,InputProps:{endAdornment:a.createElement(ps.a,{position:"end"},"px")}}),a.createElement(Pi.a,{id:"width-input",style:{textDecoration:"none"},className:t.textField,variant:"outlined",label:"Width",value:v,onChange:b,InputProps:{endAdornment:a.createElement(ps.a,{position:"end"},"px")}}),a.createElement(Hi.CopyToClipboard,{text:'<iframe src="'.concat(f,'" height="').concat(m,'" width="').concat(v,'"></iframe>'),onCopy:p},a.createElement(Pi.a,{color:"primary",label:"Click to copy",variant:"outlined",fullWidth:!0,className:t.textField,value:'<iframe src="'.concat(f,'" height="').concat(m,'" width="').concat(v,"></iframe>"),autoFocus:!0,style:{textDecoration:"none"}}))),a.createElement(Ur.a,null,a.createElement(P.a,{onClick:c,color:"primary",autoFocus:!0},"Close"))))}),hs=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=I()(this,(e=w()(t)).call.apply(e,[this].concat(r))),F()(C()(n),"state",{publishDialogOpen:!1,embedDialogOpen:!1,appIri:"",height:400,width:400,currentApplicationMetadata:void 0}),F()(C()(n),"handlePublishClicked",v()(f.a.mark(function e(){var t,a,r,i,o,l,s,c,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.selectedApplication,r=t.selectedApplicationTitle,i=t.webId,o=t.applicationsFolder,l=t.setApplicationLoaderStatus,s=t.filters,l(!0),""!==r){e.next=6;break}return Y.b.error("Please, provide application title!",{position:Y.b.POSITION.TOP_CENTER,autoClose:5e3}),l(!1),e.abrupt("return");case 6:return e.next=8,Oa.saveAppToSolid(a,s,i,o);case 8:return c=e.sent,n.setState({currentApplicationMetadata:c}),u=Oa.appIriToPublishUrl(c.solidFileUrl,c.configuration.endpoint),e.next=13,le.postApplication(i,c.solidFileUrl,c.configuration.etlExecutionIri);case 13:l(!1),n.handleAppPublished(u),be.trackEvent({category:"CreateApp",action:"Pressed create app",label:"type : '".concat(c.configuration.endpoint,"'")});case 16:case"end":return e.stop()}},e)}))),F()(C()(n),"handleEmbedClicked",v()(f.a.mark(function e(){var t,a,r,i,o,l,s,c,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,a=t.selectedApplication,r=t.selectedApplicationTitle,i=t.webId,o=t.applicationsFolder,l=t.setApplicationLoaderStatus,s=t.filters,l(!0),""!==r){e.next=6;break}return Y.b.error("Please, provide application title!",{position:Y.b.POSITION.TOP_CENTER,autoClose:5e3}),l(!1),e.abrupt("return");case 6:return e.next=8,Oa.saveAppToSolid(a,s,i,o);case 8:return c=e.sent,n.setState({currentApplicationMetadata:c}),e.next=12,le.postApplication(i,c.solidFileUrl,c.configuration.etlExecutionIri);case 12:u=Oa.appIriToPublishUrl(c.solidFileUrl,c.configuration.endpoint),l(!1),n.handleAppPublished(u),be.trackEvent({category:"CreateApp",action:"Pressed embed app",label:"type : '".concat(c.configuration.endpoint,"'")});case 16:case"end":return e.stop()}},e)}))),F()(C()(n),"onHandleAppTitleChanged",function(e){var t=e.target.value;(0,n.props.handleAppTitleChanged)(t)}),F()(C()(n),"handleAppPublished",function(e){n.setState({appIri:e,publishDialogOpen:!0})}),F()(C()(n),"handleAppEmbedded",function(e){n.setState({appIri:e,embedDialogOpen:!0})}),F()(C()(n),"handleClickPublishDialogOpen",function(){n.setState({publishDialogOpen:!0})}),F()(C()(n),"handleClosePublishDialog",function(){n.setState({publishDialogOpen:!1}),n.props.handleSetSelectedApplicationMetadata(n.state.currentApplicationMetadata)}),F()(C()(n),"handleCloseEmbedDialog",function(){n.setState({embedDialogOpen:!1}),n.props.handleSetSelectedApplicationMetadata(n.state.currentApplicationMetadata)}),F()(C()(n),"handleProceedToApplicationClicked",function(){n.props.history.push("/storage")}),F()(C()(n),"handleCopyLinkClicked",function(){Y.b.success("Copied link to clipboard!",{position:Y.b.POSITION.TOP_RIGHT,autoClose:2e3})}),F()(C()(n),"handleChangeWidth",function(e){n.setState({width:Math.min(e.target.value,150)})}),F()(C()(n),"handleChangeHeight",function(e){n.setState({height:Math.min(e.target.value,150)})}),n}return T()(t,e),y()(t,[{key:"render",value:function(){var e=this.props,t=e.headerParams,n=e.onRefreshSwitchChange,a=e.selectedVisualizer,i=e.selectedApplicationTitle,o=this.handlePublishClicked,l=this.handleEmbedClicked,s=this.onHandleAppTitleChanged,c=this.handleClosePublishDialog,u=this.handleCloseEmbedDialog,p=this.handleProceedToApplicationClicked,d=this.handleCopyLinkClicked,h=this.handleChangeHeight,f=this.handleChangeWidth,m=this.state,v=m.embedDialogOpen,g=m.publishDialogOpen,b=m.appIri,E=m.height,y=m.width;return r.a.createElement(ds,{handleAppTitleChanged:s,handlePublishClicked:o,handleEmbedClicked:l,headerParams:t,onRefreshSwitchChange:n,publishDialogOpen:g,embedDialogOpen:v,handleClosePublishDialog:c,handleCloseEmbedDialog:u,handleProceedToApplicationClicked:p,handleCopyLinkClicked:d,selectedVisualizer:a,selectedApplicationTitle:i,appIri:b,height:E,width:y,handleChangeWidth:f,handleChangeHeight:h})}}]),t}(a.PureComponent),fs=Object(tt.a)(Object(o.b)(function(e){return{selectedVisualizer:e.globals.selectedVisualizer,headerParams:e.globals.headerParams,filters:e.filters,selectedResultGraphIri:e.globals.selectedResultGraphIri,selectedApplication:e.application.selectedApplication,selectedApplicationTitle:e.application.selectedApplication.title,applicationsFolder:e.user.applicationsFolder,webId:e.user.webId}},function(e){return{handleAppTitleChanged:function(t){return e(hr(t))},handleSetSelectedApplicationMetadata:function(t){return e(ur(t))}}})(hs)),ms=n(767),vs=n.n(ms),gs=n(766),bs=n.n(gs),Es=n(1394),ys=function(e){function t(){return b()(this,t),I()(this,w()(t).apply(this,arguments))}return T()(t,e),y()(t,[{key:"render",value:function(){var e=this.props,t=e.dataRefreshDialogOpen,n=e.classes,a=e.selectedDataRefreshInterval,i=e.handleDataRefreshValueChange,o=e.handleDataRefreshTypeChange,l=e.handleDataRefreshDismissed,s=e.handleDataRefreshConfirmed,c=e.handleDataRefreshToggleClicked,u=e.selectedPipelineExecution;return r.a.createElement(zr.a,{open:t,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(jr.a,{id:"delete-responsive-dialog-title"},"Data refresh"),r.a.createElement(_r.a,null,r.a.createElement(Gr.a,null,"Configure whether application`s data needs to be refreshed within a certain time interval...")),r.a.createElement(Rn.a,{container:!0,direction:"row",spacing:2,justify:"center",alignItems:"center"},r.a.createElement(Rn.a,{item:!0,xs:6,sm:6},r.a.createElement(Pi.a,{label:"Duration",type:"number",fullWidth:!0,className:n.dataRefreshTextField,value:a.value,onChange:i,variant:"outlined"})),r.a.createElement(Rn.a,{item:!0,xs:3,sm:3},r.a.createElement(Pi.a,{id:"outlined-select-currency",select:!0,label:"Select",fullWidth:!0,className:n.dataRefreshTextField,value:a.type,onChange:o,SelectProps:{MenuProps:{className:n.menu}},variant:"outlined"},r.a.createElement(G.a,{value:"Hours"},"Hour".concat("1"===a.value?"":"s")),r.a.createElement(G.a,{value:"Days"},"Day".concat("1"===a.value?"":"s")),r.a.createElement(G.a,{value:"Weeks"},"Week".concat("1"===a.value?"":"s"))))),r.a.createElement(_r.a,null),r.a.createElement(Ur.a,null,r.a.createElement(P.a,{onClick:l,color:"primary",autoFocus:!0},"Close"),r.a.createElement(P.a,{onClick:c,color:"primary",autoFocus:!0},void 0!==u&&u.scheduleOn?"Disable":"Enable"),r.a.createElement(P.a,{onClick:s,disabled:""===a.value,color:"primary",autoFocus:!0},"Update")))}}]),t}(a.PureComponent),xs=Object(Es.a)(function(e){return{dataRefreshTextField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},menu:{width:200}}})(ys),Is=Object(U.a)(function(e){return{root:{},header:{marginBottom:"1rem",marginTop:"1rem",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")},textField:{flexGrow:1,width:"100%",fontSize:30,marginTop:"1rem"},button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},dataRefreshTextField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},formControl:{margin:e.spacing(1),minWidth:120},menu:{width:200}}})(function(e){var t=e.classes,n=e.handlePublishClicked,r=e.handleEmbedClicked,i=e.handleAppTitleChanged,o=e.publishDialogOpen,l=e.embedDialogOpen,s=e.handleClosePublishDialog,c=e.handleCloseEmbedDialog,u=e.handleCopyLinkClicked,p=e.selectedVisualizer,d=e.appIri,h=e.height,f=e.width,m=e.handleChangeHeight,v=e.handleChangeWidth,g=e.selectedApplicationMetadata,b=e.deleteAppDialogOpen,E=e.handleDeleteAppDismissed,y=e.handleDeleteAppConfirmed,x=e.handleDeleteAppClicked,I=e.handleOpenAccessControlDialog,S=e.handleMenuClose,w=e.handleSharingMenuClick,k=e.handleSettingsMenuClick,C=e.sharingAnchorEl,A=e.settingsAnchorEl,T=e.modifiedSelectedApplicationTitle,D=e.handleRenameFieldChanged,F=e.handleOpenRenameDialog,R=e.handleCloseRenameDialog,O=e.handleRenameConfirmed,L=e.renameDialogOpen,N=e.handleDataRefreshClicked,M=e.handleDataRefreshConfirmed,U=e.dataRefreshDialogOpen,_=e.handleDataRefreshDismissed,z=e.selectedDataRefreshInterval,V=e.handleDataRefreshTypeChange,H=e.handleDataRefreshValueChange,W=e.handleDataRefreshToggleClicked,B=e.selectedPipelineExecution;return a.createElement("div",{className:t.root},a.createElement(j.a,{elevation:2,className:t.header,position:"static",color:"default"},a.createElement(Rn.a,{container:!0,direction:"column",spacing:2,justify:"center",alignItems:"center"},a.createElement(Rn.a,{item:!0,xs:12,container:!0,direction:"column",justify:"center",alignItems:"stretch"},a.createElement(Rn.a,{item:!0,xs:!0},a.createElement(us.a,{label:"App title",inputProps:{style:{textAlign:"center"}},value:g.configuration.title,className:t.textField,readOnly:!0,variant:"outlined",id:"edit-application-title-field",placeholder:"Enter your application title...",onChange:i,margin:"dense"})),a.createElement(Rn.a,{item:!0},a.createElement(Te.a,{align:"center",variant:"h6"},p?pe.getBeautifiedVisualizerTitle(g.configuration.endpoint):"Unkown visualizer type"))),a.createElement(Rn.a,{container:!0,spacing:2,justify:"center"},a.createElement(Rn.a,{item:!0},a.createElement(P.a,{id:"edit-app-publish-button",variant:"outlined",color:"primary",onClick:F},a.createElement(bs.a,{className:t.leftIcon}),"Rename")),a.createElement(Rn.a,{item:!0},a.createElement(P.a,{variant:"outlined",color:"primary",onClick:w},a.createElement(wn.a,{className:t.leftIcon}),"Share")),a.createElement(Rn.a,{item:!0},a.createElement(P.a,{variant:"outlined",color:"primary",onClick:k},a.createElement(vs.a,{className:t.leftIcon}),"Settings"))))),a.createElement(Li.a,{id:"simple-menu",anchorEl:C,open:Boolean(C),onClose:S},a.createElement(G.a,{onClick:n},"Get Published URL"),a.createElement(G.a,{onClick:r},"Get Embed URL"),a.createElement(G.a,{onClick:I},"Access control")),a.createElement(Li.a,{id:"simple-menu",anchorEl:A,open:Boolean(A),onClose:S},a.createElement(G.a,{onClick:N},"Setup Data Refreshing"),a.createElement(G.a,{onClick:x},"Delete Application")),a.createElement(zr.a,{open:b,"aria-labelledby":"responsive-dialog-title"},a.createElement(jr.a,{id:"delete-responsive-dialog-title"},"Are you sure you want to unpublish and delete the application?"),a.createElement(Ur.a,null,a.createElement(P.a,{onClick:E,color:"primary",autoFocus:!0},"No"),a.createElement(P.a,{onClick:y,color:"primary",autoFocus:!0},"Yes"))),a.createElement(zr.a,{open:L,onClose:R,"aria-labelledby":"responsive-dialog-title"},a.createElement(jr.a,{id:"responsive-dialog-title"},"Provide a new title for your application!"),a.createElement(_r.a,null,a.createElement(Gr.a,null,"Modify the title and hit Rename button. Click cancel to close the dialog and revert changes.")),a.createElement(_r.a,null,a.createElement(Pi.a,{className:t.textField,color:"primary",label:"Application title",autoComplete:"off",variant:"outlined",fullWidth:!0,value:T,onChange:D,autoFocus:!0,style:{textDecoration:"none"}})),a.createElement(Ur.a,null,a.createElement(P.a,{onClick:R,color:"primary",autoFocus:!0},"Close"),a.createElement(P.a,{onClick:O,color:"primary",autoFocus:!0},"Rename"))),a.createElement(zr.a,{open:o,onClose:s,"aria-labelledby":"responsive-dialog-title"},a.createElement(jr.a,{id:"responsive-dialog-title"},"Copy and share your application with the world!"),a.createElement(_r.a,null,a.createElement(Gr.a,null,"Click on the field with link to copy the public view URL to your clipboard.")),a.createElement(_r.a,null,a.createElement(Hi.CopyToClipboard,{text:d,onCopy:u},a.createElement(Pi.a,{className:t.textField,color:"primary",label:"Click to copy",variant:"outlined",fullWidth:!0,value:d,autoFocus:!0,style:{textDecoration:"none"}}))),a.createElement(Ur.a,null,a.createElement(P.a,{onClick:s,color:"primary",autoFocus:!0},"Close"))),a.createElement(zr.a,{open:l,onClose:c,"aria-labelledby":"responsive-dialog-title"},a.createElement(jr.a,{id:"responsive-dialog-title"},"Generate an embed URL"),a.createElement(_r.a,null,a.createElement(Gr.a,null,"Here is the code needed to embed the visualization into another website")),a.createElement(_r.a,null,a.createElement(Pi.a,{id:"height-input",style:{textDecoration:"none"},className:t.textField,variant:"outlined",label:"Height",value:h,onChange:m,InputProps:{endAdornment:a.createElement(ps.a,{position:"end"},"px")}}),a.createElement(Pi.a,{id:"width-input",style:{textDecoration:"none"},className:t.textField,variant:"outlined",label:"Width",value:f,onChange:v,InputProps:{endAdornment:a.createElement(ps.a,{position:"end"},"px")}}),a.createElement(Hi.CopyToClipboard,{text:'<iframe src="'.concat(d,'" height="').concat(h,'" width="').concat(f,'"></iframe>'),onCopy:u},a.createElement(Pi.a,{color:"primary",label:"Click to copy",variant:"outlined",fullWidth:!0,className:t.textField,value:'<iframe src="'.concat(d,'" height="').concat(h,'" width="').concat(f,"></iframe>"),autoFocus:!0,style:{textDecoration:"none"}}))),a.createElement(Ur.a,null,a.createElement(P.a,{onClick:c,color:"primary",autoFocus:!0},"Close"))),a.createElement(xs,{handleDataRefreshClicked:N,handleDataRefreshConfirmed:M,dataRefreshDialogOpen:U,handleDataRefreshDismissed:_,selectedDataRefreshInterval:z,handleDataRefreshTypeChange:V,handleDataRefreshValueChange:H,handleDataRefreshToggleClicked:W,selectedPipelineExecution:B}))}),Ss=function(e,t){var n=Number(e);switch(t){case"Days":return"".concat(24*n);case"Weeks":return"".concat(7*n*24);default:return e}},ws=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=I()(this,(e=w()(t)).call.apply(e,[this].concat(r))),F()(C()(n),"state",{publishDialogOpen:!1,embedDialogOpen:!1,appIri:"",height:400,width:400,deleteAppDialogOpen:!1,sharingAnchorEl:void 0,settingsAnchorEl:void 0,modifiedSelectedApplicationTitle:"",renameDialogOpen:!1,dataRefreshDialogOpen:!1,selectedDataRefreshInterval:{value:"",type:"Hours"},selectedPipelineExecution:void 0}),F()(C()(n),"fetchCurrentPipelineExecution",v()(f.a.mark(function e(){var t,a,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.selectedApplicationMetadata,a=t.configuration.etlExecutionIri,e.next=4,ue.getPipelineExecution({executionIri:a});case 4:200===(r=e.sent).status&&(i="-1"===(i="".concat(r.data.frequencyHours))?"":i,n.setState(function(e){return{selectedPipelineExecution:r.data,selectedDataRefreshInterval:{value:i,type:e.selectedDataRefreshInterval.type}}}));case 6:case"end":return e.stop()}},e)}))),F()(C()(n),"handlePublishClicked",v()(f.a.mark(function e(){var t,a,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.props,a=t.selectedApplication,r=t.selectedApplicationMetadata,i=Oa.appIriToPublishUrl(r.solidFileUrl,a.endpoint),n.handleAppPublished(i);case 3:case"end":return e.stop()}},e)}))),F()(C()(n),"handleEmbedClicked",v()(f.a.mark(function e(){var t,a,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.props,a=t.selectedApplication,r=t.selectedApplicationMetadata,i=Oa.appIriToPublishUrl(r.solidFileUrl,a.endpoint),n.handleAppEmbedded(i);case 3:case"end":return e.stop()}},e)}))),F()(C()(n),"onHandleAppTitleChanged",function(e){var t=e.target.value;(0,n.props.handleAppTitleChanged)(t)}),F()(C()(n),"handleAppPublished",function(e){n.handleMenuClose(),n.setState({appIri:e,publishDialogOpen:!0})}),F()(C()(n),"handleAppEmbedded",function(e){n.handleMenuClose(),n.setState({appIri:e,embedDialogOpen:!0})}),F()(C()(n),"handleClickPublishDialogOpen",function(){n.setState({publishDialogOpen:!0})}),F()(C()(n),"handleClosePublishDialog",function(){n.setState({publishDialogOpen:!1})}),F()(C()(n),"handleCloseEmbedDialog",function(){n.setState({embedDialogOpen:!1})}),F()(C()(n),"handleProceedToApplicationClicked",function(){n.props.history.push("/storage")}),F()(C()(n),"handleCopyLinkClicked",function(){Y.b.success("Copied link to clipboard!",{position:Y.b.POSITION.TOP_RIGHT,autoClose:2e3})}),F()(C()(n),"handleChangeWidth",function(e){n.setState({width:e.target.value})}),F()(C()(n),"handleChangeHeight",function(e){n.setState({height:e.target.value})}),F()(C()(n),"handleSharingMenuClick",function(e){n.setState({sharingAnchorEl:e.currentTarget})}),F()(C()(n),"handleSettingsMenuClick",function(e){n.setState({settingsAnchorEl:e.currentTarget})}),F()(C()(n),"handleMenuClose",function(){n.setState({sharingAnchorEl:null,settingsAnchorEl:null})}),F()(C()(n),"handleDeleteAppClicked",function(){n.handleMenuClose(),n.setState({deleteAppDialogOpen:!0})}),F()(C()(n),"handleDeleteAppDismissed",function(){n.setState({deleteAppDialogOpen:!1})}),F()(C()(n),"handleDeleteAppConfirmed",v()(f.a.mark(function e(){var t,a,r,i,o,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.setApplicationLoaderStatus,r=t.selectedApplicationMetadata,i=t.applicationsFolder,o=t.webId,l=t.history,n.setState({deleteAppDialogOpen:!1}),e.next=4,a(!0);case 4:return e.next=6,Oa.removeAppFromStorage(i,r);case 6:if(!e.sent){e.next=12;break}return e.next=10,le.deleteApplication(o,r.solidFileUrl);case 10:be.trackEvent({category:"CreateApp",action:"Pressed delete app",label:"type : '".concat(r.endpoint,"'")}),l.push({pathname:"/dashboard"});case 12:case"end":return e.stop()}},e)}))),F()(C()(n),"handleOpenAccessControlDialog",function(){n.props.handleUpdateAccessControlDialogState(!0)}),F()(C()(n),"handleCloseAccessControlDialog",function(){n.props.handleUpdateAccessControlDialogState(!1)}),F()(C()(n),"handleOpenRenameDialog",function(){n.setState({renameDialogOpen:!0})}),F()(C()(n),"handleRenameConfirmed",v()(f.a.mark(function e(){var t,a,r,i,o,l,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state.modifiedSelectedApplicationTitle,a=n.props,r=a.selectedApplicationMetadata,i=a.handleSetSelectedApplicationTitle,o=a.handleSetSelectedApplicationMetadata,l=a.setApplicationLoaderStatus,s=r,""!==t){e.next=6;break}return Y.b.error("Error, provide a valid name for an application!",{position:Y.b.POSITION.TOP_RIGHT,autoClose:2e3}),e.abrupt("return");case 6:return e.next=8,l(!0);case 8:return n.handleCloseRenameDialog(),e.next=11,Oa.renameAppConfiguration(s.solidFileUrl,t);case 11:return e.sent?(Y.b.success("Application was renamed!",{position:Y.b.POSITION.TOP_RIGHT,autoClose:2e3}),s.configuration.title=t,i(t),o(s)):(Y.b.success("Error, unable to rename application!",{position:Y.b.POSITION.TOP_RIGHT,autoClose:2e3}),n.handleOpenRenameDialog()),e.next=15,l(!1);case 15:case"end":return e.stop()}},e)}))),F()(C()(n),"handleRenameFieldChanged",function(e){var t=e.target.value;n.setState({modifiedSelectedApplicationTitle:t})}),F()(C()(n),"handleCloseRenameDialog",function(){n.setState({renameDialogOpen:!1})}),F()(C()(n),"handleDataRefreshClicked",function(){n.handleMenuClose(),n.setState({dataRefreshDialogOpen:!0})}),F()(C()(n),"handleDataRefreshConfirmed",v()(f.a.mark(function e(){var t,a,r,i,o,l,s,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.webId,r=t.selectedApplicationMetadata,i=t.setApplicationLoaderStatus,e.next=3,i(!0);case 3:return o=n.state.selectedDataRefreshInterval,l=r.configuration.etlExecutionIri,s=n.props.selectedVisualizer.visualizer.visualizerCode,c=Ss(o.value,o.type),e.next=9,ue.setupRepeatedPipelineExecution({webId:a,selectedVisualiser:s,executionIri:l,frequencyHours:c});case 9:return 200===e.sent.status?Y.b.success("Background data refreshing is enabled!",{position:Y.b.POSITION.TOP_RIGHT,autoClose:2e3}):Y.b.error("Error! Unable to setup background data refreshing.",{position:Y.b.POSITION.TOP_RIGHT,autoClose:2e3}),n.setState({dataRefreshDialogOpen:!1}),e.next=14,i(!1);case 14:case"end":return e.stop()}},e)}))),F()(C()(n),"handleDataRefreshDismissed",v()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({dataRefreshDialogOpen:!1});case 1:case"end":return e.stop()}},e)}))),F()(C()(n),"handleDataRefreshTypeChange",function(e){n.setState(function(t){return{selectedDataRefreshInterval:{value:t.selectedDataRefreshInterval.value,type:e.target.value}}})}),F()(C()(n),"handleDataRefreshValueChange",function(e){var t=e.target.value?e.target.value:"";n.setState(function(e){return{selectedDataRefreshInterval:{type:e.selectedDataRefreshInterval.type,value:t}}})}),F()(C()(n),"handleDataRefreshToggleClicked",v()(f.a.mark(function e(){var t,a,r,i,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.selectedApplicationMetadata,r=t.setApplicationLoaderStatus,e.next=3,r(!0);case 3:if(i=a.configuration.etlExecutionIri,(o=n.state.selectedPipelineExecution).scheduleOn=!o.scheduleOn,!o){e.next=11;break}return e.next=9,ue.toggleRepeatedPipelineExecution({executionIri:i,repeat:o.scheduleOn});case 9:200===e.sent.status?(n.setState({selectedPipelineExecution:o,dataRefreshDialogOpen:!1}),Y.b.success("Successfully ".concat(o.scheduleOn?"enabled":"disabled"," data refreshing!"),{position:Y.b.POSITION.TOP_RIGHT,autoClose:2e3})):Y.b.error("Error! Unable to  ".concat(o.scheduleOn?"enable":"disable"," data refreshing!"),{position:Y.b.POSITION.TOP_RIGHT,autoClose:2e3});case 11:return e.next=13,r(!1);case 13:case"end":return e.stop()}},e)}))),n}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){this.setState({modifiedSelectedApplicationTitle:this.props.selectedApplicationTitle}),this.fetchCurrentPipelineExecution()}},{key:"render",value:function(){var e=this.props,t=e.headerParams,n=e.onRefreshSwitchChange,i=e.selectedVisualizer,o=e.selectedApplicationTitle,l=e.selectedApplicationMetadata,s=this.handlePublishClicked,c=this.handleEmbedClicked,u=this.onHandleAppTitleChanged,p=this.handleClosePublishDialog,d=this.handleCloseEmbedDialog,h=this.handleProceedToApplicationClicked,f=this.handleCopyLinkClicked,m=this.handleChangeHeight,v=this.handleChangeWidth,g=this.handleMenuClose,b=this.handleSharingMenuClick,E=this.handleSettingsMenuClick,y=this.handleDeleteAppClicked,x=this.handleDeleteAppDismissed,I=this.handleDeleteAppConfirmed,S=this.handleRenameConfirmed,w=this.handleCloseRenameDialog,k=this.handleOpenRenameDialog,C=this.handleOpenAccessControlDialog,A=this.handleCloseAccessControlDialog,T=this.handleRenameFieldChanged,D=this.handleDataRefreshClicked,F=this.handleDataRefreshConfirmed,P=this.handleDataRefreshDismissed,R=this.handleDataRefreshTypeChange,O=this.handleDataRefreshValueChange,L=this.handleDataRefreshToggleClicked,N=this.state,M=N.embedDialogOpen,j=N.publishDialogOpen,U=N.appIri,_=N.height,G=N.width,z=N.deleteAppDialogOpen,V=N.sharingAnchorEl,H=N.settingsAnchorEl,W=N.modifiedSelectedApplicationTitle,B=N.renameDialogOpen,q=N.dataRefreshDialogOpen,X=N.selectedDataRefreshInterval,Y=N.selectedPipelineExecution;return r.a.createElement(a.Fragment,null,r.a.createElement(Is,{handleAppTitleChanged:u,handlePublishClicked:s,handleEmbedClicked:c,headerParams:t,onRefreshSwitchChange:n,publishDialogOpen:j,embedDialogOpen:M,handleClosePublishDialog:p,handleCloseEmbedDialog:d,handleProceedToApplicationClicked:h,handleCopyLinkClicked:f,selectedVisualizer:i,selectedApplicationTitle:o,appIri:U,height:_,width:G,handleChangeWidth:v,handleChangeHeight:m,selectedApplicationMetadata:l,deleteAppDialogOpen:z,handleMenuClose:g,sharingAnchorEl:V,settingsAnchorEl:H,handleSharingMenuClick:b,handleSettingsMenuClick:E,handleDeleteAppClicked:y,handleDataRefreshClicked:D,handleDataRefreshDismissed:P,handleDeleteAppDismissed:x,handleDeleteAppConfirmed:I,handleDataRefreshConfirmed:F,modifiedSelectedApplicationTitle:W,handleOpenAccessControlDialog:C,handleCloseAccessControlDialog:A,handleRenameFieldChanged:T,handleOpenRenameDialog:k,handleCloseRenameDialog:w,handleRenameConfirmed:S,renameDialogOpen:B,dataRefreshDialogOpen:q,selectedDataRefreshInterval:X,handleDataRefreshTypeChange:R,handleDataRefreshValueChange:O,handleDataRefreshToggleClicked:L,selectedPipelineExecution:Y}),r.a.createElement(fo,null))}}]),t}(a.PureComponent),ks=Object(tt.a)(Object(o.b)(function(e){return{selectedVisualizer:e.globals.selectedVisualizer,headerParams:e.globals.headerParams,filters:e.visualizers.filters,selectedResultGraphIri:e.globals.selectedResultGraphIri,selectedApplication:e.application.selectedApplication,selectedApplicationMetadata:e.application.selectedApplicationMetadata,selectedApplicationTitle:e.application.selectedApplication.title,applicationsFolder:e.user.applicationsFolder,webId:e.user.webId}},function(e){return{handleAppTitleChanged:function(t){return e(hr(t))},handleSetSelectedApplicationMetadata:function(t){return e(ur(t))},handleSetSelectedApplicationTitle:function(t){return e(hr(t))},handleUpdateAccessControlDialogState:function(t){return e(ct({state:t}))}}})(ws)),Cs=Object(U.a)(function(e){return{root:{flex:1},vizdiv:{overflow:"hidden"},containerView:{textAlign:"center",paddingTop:e.spacing(20)},filterSideBar:{overflowY:"hidden"},card:{},input:{}}})(function(e){return a.createElement(Rn.a,{container:!0,className:e.classes.root,direction:"row",spacing:10},a.createElement(Rn.a,{item:!0,lg:4,md:5,xs:12,className:e.classes.filterSideBar},a.createElement(nr,{editingMode:!0,filtersState:e.filtersState,selectedResultGraphIri:e.selectedResultGraphIri})),a.createElement(Rn.a,{id:"viz-div",className:e.classes.vizdiv,item:!0,lg:8,md:7,xs:12},function(e,t,n,r,i,o,l,s,c,u,p){switch(e){case we.VISUALIZER_TYPE.MAP:case we.VISUALIZER_TYPE.ADVANCED_FILTERS_MAP:return a.createElement(rn,{isPublished:void 0!==o,selectedResultGraphIri:t,selectedPipelineExecution:n,handleSetCurrentApplicationData:i});case we.VISUALIZER_TYPE.TREEMAP:return a.createElement(un,{selectedResultGraphIri:t,selectedPipelineExecution:n,isPublished:void 0!==o,handleSetCurrentApplicationData:i,schemes:Object(ar.a)([],"filterGroups.schemeFilter.options",p)});case we.VISUALIZER_TYPE.CHORD:return a.createElement(bn,{selectedResultGraphIri:t,selectedPipelineExecution:n,isPublished:void 0!==o,handleSetCurrentApplicationData:i,height:u,width:c,nodes:Object(ar.a)([],"filterGroups.nodesFilter.options",p)});case we.VISUALIZER_TYPE.UNDEFINED:return a.createElement("div",{className:l.containerView},a.createElement(Te.a,{variant:"h2",gutterBottom:!0},"No visualizers selected..."));default:return a.createElement("div",null,"No valid visualizer selected.")}}(e.visualizer.visualizerCode,e.selectedResultGraphIri,e.selectedPipelineExecution,e.selectedApplication,e.handleSetCurrentApplicationData,e.selectedApplicationMetadata,e.classes,e.selectedNodes,e.width,e.height,e.filtersState)))}),As=Object(U.a)({root:{flex:1,display:"flex",flexFlow:"column",height:"100%"},card:{},input:{}})(function(e){var t=e.classes,n=e.selectedVisualizer,r=e.headerParams,i=e.filters,o=e.selectedResultGraphIri,l=e.selectedPipelineExecution,s=e.selectedApplication,c=e.selectedApplicationMetadata,u=e.handleSetCurrentApplicationData,p=e.setApplicationLoaderStatus,d=e.loadingIsActive,h=e.selectedNodes,f=e.width,m=e.height,v=e.filtersState;return a.createElement(Ki.a,{className:t.root,active:d,spinner:!0},c?a.createElement(ks,{headerParams:r,onRefreshSwitchChange:function(){},setApplicationLoaderStatus:p,selectedApplicationMetadata:c}):a.createElement(fs,{headerParams:r,onRefreshSwitchChange:function(){},setApplicationLoaderStatus:p}),a.createElement(Cs,{filters:i,visualizer:n.visualizer,selectedResultGraphIri:o,selectedPipelineExecution:l,handleSetCurrentApplicationData:u,selectedApplication:s,selectedApplicationMetadata:c,width:f,height:m,selectedNodes:h,filtersState:v}))}),Ts=function(e){function t(e){var n;return b()(this,t),n=I()(this,w()(t).call(this,e)),F()(C()(n),"state",{loadingIsActive:!1,width:0,height:0}),F()(C()(n),"updateWindowDimensions",function(){n.setState({width:window.innerWidth,height:window.innerHeight},function(){return ee.info("H: ".concat(n.state.height," W: ").concat(n.state.width))})}),C()(n).setApplicationLoaderStatus=n.setApplicationLoaderStatus.bind(C()(n)),n.updateWindowDimensions=n.updateWindowDimensions.bind(C()(n)),n}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=v()(f.a.mark(function e(){var t,n,a,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.location.pathname,be.trackPage(t),this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions.bind(this)),n=this.props,a=n.selectedVisualizer,r=n.selectedResultGraphIri,i=n.history,"UNDEFINED"!==a.visualizer.visualizerCode||r||i.push({pathname:"/dashboard"}),this.props.selectedApplicationMetadata){e.next=9;break}return e.next=9,this.props.handleSetDefaultFiltersState(a.visualizer.visualizerCode);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions),this.props.handleResetCurrentApplicationData(),this.props.handleResetCurrentApplicationMetadata(),this.props.handleResetFilters()}},{key:"setApplicationLoaderStatus",value:function(e){this.setState({loadingIsActive:e})}},{key:"render",value:function(){var e=this.props,t=e.selectedVisualizer,n=e.headerParams,a=e.selectedResultGraphIri,i=e.selectedPipelineExecution,o=e.selectedApplication,l=e.selectedApplicationMetadata,s=e.handleSetCurrentApplicationData,c=e.selectedNodes,u=e.filtersState;return r.a.createElement(As,{selectedVisualizer:t,headerParams:n,selectedResultGraphIri:a,selectedPipelineExecution:i,selectedApplication:o,selectedApplicationMetadata:l,handleSetCurrentApplicationData:s,setApplicationLoaderStatus:this.setApplicationLoaderStatus,loadingIsActive:this.state.loadingIsActive,width:this.state.width,height:this.state.height,selectedNodes:c,filtersState:u})}}]),t}(a.PureComponent),Ds=Object(o.b)(function(e){return{selectedVisualizer:e.globals.selectedVisualizer,headerParams:e.globals.headerParams,selectedResultGraphIri:e.etl.selectedResultGraphIri,selectedPipelineExecution:e.etl.selectedPipelineExecution,selectedApplication:e.application.selectedApplication,selectedApplicationMetadata:e.application.selectedApplicationMetadata,selectedNodes:e.filters.nodes,filtersState:e.filters.filtersState}},function(e){return{handleSetCurrentApplicationData:function(t){return e(cr(t))},handleResetCurrentApplicationData:function(){return e(dr())},handleResetCurrentApplicationMetadata:function(){return e(pr())},handleSetDefaultFiltersState:function(t){return e(Ga(t))},handleResetFilters:function(){return e(Va())}}})(Ts),Fs=n(768),Ps=n.n(Fs),Rs=n(88),Os=n.n(Rs),Ls=Os()(function(e){return{main:F()({width:"auto",display:"block",marginLeft:e.spacing(3),marginRight:e.spacing(3)},e.breakpoints.up(400+e.spacing(6)),{width:500,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")},avatar:{margin:e.spacing()},form:{width:"100%",marginTop:e.spacing()},submit:{marginTop:e.spacing(3)}}})(function(e){var t=e.classes,n=e.userProfile,a=e.onHandleLogoutClicked,i=e.onHandlePasswordReset;return r.a.createElement("main",{className:t.main},r.a.createElement(R.a,null),r.a.createElement(j.a,{elevation:2,className:t.paper},r.a.createElement(wo.a,{className:t.avatar},r.a.createElement(Ps.a,null)),r.a.createElement(Te.a,{component:"h1",variant:"h5"},"User Profile"),r.a.createElement("form",{className:t.form},r.a.createElement(O.a,{margin:"normal",fullWidth:!0},r.a.createElement(M.a,{shrink:!0,htmlFor:"webId"},"Web ID"),r.a.createElement(N.a,{readOnly:!0,id:"Web ID",name:"webId",value:n.webId})),r.a.createElement(O.a,{margin:"normal",fullWidth:!0},r.a.createElement(M.a,{shrink:!0,htmlFor:"name"},"Name"),r.a.createElement(N.a,{name:"name",value:n.name,id:"name"})),r.a.createElement(P.a,{fullWidth:!0,variant:"contained",onClick:i,color:"primary",className:t.submit},"Reset Password"),r.a.createElement(P.a,{fullWidth:!0,variant:"contained",onClick:a,color:"primary",className:t.submit},"Logout"))))}),Ns=function(e){function t(){var e,a;b()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=I()(this,(e=w()(t)).call.apply(e,[this].concat(i))),F()(C()(a),"performLogout",v()(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.resetReduxStore();case 2:return e.prev=2,e.next=5,Promise.resolve().then(n.t.bind(null,960,7));case 5:return t=e.sent,e.next=8,t.logout();case 8:localStorage.removeItem("solid-auth-client"),pe.clearCookies(),a.props.history.push("/login"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),ee.error(e.t0);case 16:case"end":return e.stop()}},e,null,[[2,13]])}))),F()(C()(a),"performPasswordReset",v()(f.a.mark(function e(){var t,n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props.userProfile.webId,n=pe.urlDomain(t),r="https://".concat(n,"/account/password/reset"),window.open(r,"_blank"),a.performLogout();case 5:case"end":return e.stop()}},e)}))),a}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;be.trackPage(e)}},{key:"render",value:function(){var e=this.props.userProfile,t=this.performLogout,n=this.performPasswordReset;return r.a.createElement(Ls,{userProfile:e,onHandleLogoutClicked:t,onHandlePasswordReset:n})}}]),t}(a.PureComponent),Ms=ve(Object(o.b)(function(e){return{userProfile:e.user}},function(e){return{resetReduxStore:function(){return e({type:"USER_LOGOUT"})}}})(Ns)),js=n(769),Us=n.n(js),_s=Os()(function(e){return{main:F()({width:"auto",display:"block",marginLeft:e.spacing(3),marginRight:e.spacing(3)},e.breakpoints.up(400+e.spacing(6)),{width:500,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")},avatar:{margin:e.spacing()},form:{width:"100%",marginTop:e.spacing()},submit:{marginTop:e.spacing(3)}}})(function(e){var t=e.classes,n=e.userProfile,a=e.onHandleChangeFolder,i=e.onHandleChangeColorTheme;return r.a.createElement("main",{className:t.main},r.a.createElement(R.a,null),r.a.createElement(j.a,{elevation:2,className:t.paper},r.a.createElement(wo.a,{className:t.avatar},r.a.createElement(Us.a,null)),r.a.createElement(Te.a,{component:"h1",variant:"h5"},"Settings"),r.a.createElement("form",{className:t.form},r.a.createElement(O.a,{margin:"normal",fullWidth:!0},r.a.createElement(M.a,{shrink:!0,htmlFor:"appFolder"},"Application folder"),r.a.createElement(N.a,{readOnly:!0,id:"Web ID",name:"appFolder",value:n.applicationsFolder})),r.a.createElement(L.a,{control:r.a.createElement(Ya.a,{onChange:i,value:"remember",color:"primary"}),label:"Light theme"}),r.a.createElement(P.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:a},"Change folder"))))}),Gs=function(e){function t(e){var n;return b()(this,t),n=I()(this,w()(t).call(this,e)),C()(n).handleChangeFolder=n.handleChangeFolder.bind(C()(n)),C()(n).handleChangeColor=n.handleChangeColor.bind(C()(n)),n}return T()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;be.trackPage(e)}},{key:"handleChangeFolder",value:function(){(0,this.props.handleUpdateChooseFolderDialogState)(!0)}},{key:"handleChangeColor",value:function(){var e=this.props;(0,e.setColorTheme)(!e.colorThemeIsLight)}},{key:"render",value:function(){var e=this.props.userProfile,t=this.handleChangeFolder,n=this.handleChangeColor;return r.a.createElement(a.Fragment,null,r.a.createElement(_s,{onHandleChangeFolder:t,onHandleChangeColorTheme:n,userProfile:e}),r.a.createElement(co,null))}}]),t}(a.PureComponent),zs=ve(Object(o.b)(function(e){return{userProfile:e.user,colorThemeIsLight:e.globals.colorThemeIsLight}},function(e){return{handleUpdateChooseFolderDialogState:function(t){return e(pt({state:t}))},setColorTheme:function(t){return e(ut(t))}}})(Gs)),Vs={TOGGLE_OPTION:"TOGGLE_OPTION",ADD_FILTER:"ADD_FILTER",ADD_FILTERS:"ADD_FILTERS",TOGGLE_FILTER:"TOGGLE_FILTER",TOGGLE_EXPAND_FILTER:"TOGGLE_EXPAND_FILTER",TOGGLE_CHECKBOX:"TOGGLE_CHECKBOX",ADD_VISUALIZER:"ADD_VISUALIZER",REMOVE_VISUALIZER:"REMOVE_VISUALIZER"},Hs={filters:[],markers:[]},Ws=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vs.ADD_FILTERS:return Ce()({},e,{filters:e.filters.concat(t.payload)});case Vs.ADD_FILTER:return Ce()({},e,{filters:[].concat(ua()(e.filters),[t.payload])});case Vs.TOGGLE_FILTER:var n=e.filters.map(function(e){return e.property.uri===t.payload.property.uri?Ce()({},e,{enabled:!t.payload.enabled}):e});return Ce()({},e,{filters:n});case Vs.TOGGLE_EXPAND_FILTER:return e.filters.map(function(e){return e.property.uri===t.payload.property.uri?Ce()({},e,{expanded:!t.payload.expanded}):e});case Vs.TOGGLE_CHECKBOX:return e.map(function(e){return e.property.uri===t.payload.filterUri?Ce()({},e,{options:e.options.map(function(e){return e.skosConcept.uri===t.payload.optionUri?Ce()({},e,{selected:!e.selected}):e})}):e});case Vs.ADD_MULTIPLE_MARKERS:return e.concat(t.source);case Vs.TOGGLE_RADIO:return e.concat(t.payload);case Vs.ADD_VISUALIZER:return t.visualizers.array;case Vs.REMOVE_VISUALIZER:return e.filter(function(e){return e.id!==t.pipelines.id});default:return e}},Bs=n(770),qs="object"===("undefined"==typeof window?"undefined":c()(window))&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):u.d,Xs=[Bs.a,d.a],Ys=qs(u.a.apply(void 0,Xs)),Zs=Object(u.c)({user:yi,globals:mt,discover:ul,discovery:wl,visualizers:Ws,etl:Vi,application:mr,filters:qa}),Qs=Object(u.e)(function(e,t){return"USER_LOGOUT"===t.type&&(e=void 0),Zs(e,t)},Ys),Js=(n(1368),n(1499)),$s=n(1500),Ks=n(1491),ec=n(773),tc=n(1490),nc=Object(ec.a)({typography:{fontFamily:['"Roboto"',"sans-serif"].join(",")},palette:{type:"dark",primary:{main:"#fba333"},secondary:{main:"#00695c"},darkPaper:{main:"#323232"}}}),ac=Object(ec.a)({typography:{fontFamily:['"Roboto"',"sans-serif"].join(",")},palette:{primary:{main:"#154168"},secondary:{main:"#00695c"}}});var rc,ic=function(e){return function(t){var n=t.colorThemeIsLight;return r.a.createElement(tc.a,{theme:n?ac:nc},r.a.createElement(R.a,null),r.a.createElement(e,Re()({},t,{theme:n?ac:nc})))}},oc=ve(Object(U.a)(function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexFlow:"column",flexGrow:1,overflow:"auto",paddingRight:"2rem",paddingLeft:"2rem",paddingTop:"4rem"},devBar:{fontSize:"1rem",height:"3rem",paddingBottom:"0.5rem",paddingTop:"0.5rem",fontWeight:"bold",color:"white",textAlign:"center",verticalAlign:"middle",width:"100%"}}})(function(e){var t=e.classes,n=e.component,i=(e.webId,Mr()(e,["classes","component","webId"]));return r.a.createElement(Ks.a,Re()({},i,{render:function(e){return r.a.createElement(a.Fragment,null,r.a.createElement(Ht,null),r.a.createElement("main",{className:t.content},!1,r.a.createElement(n,e)))}}))})),lc=Object(o.b)(function(e){return{webId:e.user.webId}})(Object(U.a)(function(){return{root:{display:"flex"},content:{flexGrow:1,height:"100vh",overflow:"auto"}}})(function(e){var t=e.classes,n=e.component,a=e.webId,i=e.location,o=Mr()(e,["classes","component","webId","location"]);return a?r.a.createElement(fe.a,{to:"".concat(i.state?i.state.prevPath:"/dashboard")}):r.a.createElement(Ks.a,Re()({},o,{render:function(e){return r.a.createElement("main",{className:t.content},r.a.createElement(n,e))}}))})),sc=n(771),cc=n.n(sc),uc=function(e){return function(t,n){ee.error(n,"AppRouter"),te.b(function(a){a.setUser({id:e||"unidentified user"}),a.setLevel("error"),a.setExtra("component-stack",n),te.a(t)})}},pc=function(e){function t(){var e,a;b()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=I()(this,(e=w()(t)).call.apply(e,[this].concat(i))),F()(C()(a),"state",{isExternalPath:!1}),F()(C()(a),"componentDidMount",v()(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=window.location.href).includes("/map")||t.includes("/treemap")||t.includes("/chord"))){e.next=5;break}a.setState({isExternalPath:!0}),e.next=7;break;case 5:return e.next=7,a.setupSessionTracker();case 7:window.onbeforeunload=function(){!a.state.isExternalPath&&a.props.webId&&void 0!==rc&&(rc.emit("leave",a.props.webId),rc.removeAllListeners())};case 8:case"end":return e.stop()}},e)}))),F()(C()(a),"setupProfileData",function(){var e=v()(f.a.mark(function e(t){var n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,Oa.getPerson(n.webId);case 3:return r=e.sent,e.next=6,a.props.handleSetSolidUserProfileAsync(n,r.name,r.image);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),F()(C()(a),"checkInbox",v()(f.a.mark(function e(){var t,n,r,i,o,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.webId,r=t.handleSetUserInboxInvitations,i=t.currentInboxInvitations,e.next=3,Oa.getInboxMessages(n);case 3:return o=e.sent,l=[],e.next=7,Promise.all(o.map(function(){var e=v()(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oa.readInboxInvite(t,n);case 2:if(!((a=e.sent)instanceof ea)){e.next=8;break}ee.info(a),l.push(a),e.next=11;break;case 8:return e.next=10,Oa.processAcceptShareInvite(a);case 10:Y.b.info("".concat(a.sender.name," - accepted your invitation to collaborate!"),{position:Y.b.POSITION.TOP_RIGHT,autoClose:4e3});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 7:i.length===l.length&&i.sort().every(function(e,t){return e.invitationUrl===l.sort()[t].invitationUrl})||(r(l),l.length>0&&Y.b.info("New notifications received! Check your inbox.",{position:Y.b.POSITION.TOP_RIGHT,autoClose:4e3}));case 8:case"end":return e.stop()}},e)}))),F()(C()(a),"setupSessionTracker",v()(f.a.mark(function e(){var t,r,i,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,r=t.handleSetUserWebId,i=t.handleUpdateApplicationsFolder,o=C()(a),e.next=4,Promise.resolve().then(n.t.bind(null,960,7));case 4:e.sent.trackSession(function(e){e?(r(e.webId),ee.info(e),o.startSocketListeners(),le.getUserProfile(e.webId).then(function(e){return ee.info("Response from get user profile call:","UserService"),ee.info(e,"UserService"),ee.info(e.data,"UserService"),e.data}).then(function(){var t=v()(f.a.mark(function t(n){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.setupProfileData(n);case 2:return rc.emit("join",e.webId),t.next=5,Oa.getValidAppFolder(e.webId).catch(function(){var t=v()(f.a.mark(function t(n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ee.error(n,"HomeContainer"),t.next=3,Oa.createAppFolders(e.webId,"linkedpipes").then(function(e){e||Y.b.error("Error creating app folders, try again.",{position:Y.b.POSITION.TOP_RIGHT,autoClose:5e3})});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 5:if(!(a=t.sent)){t.next=12;break}return ee.warn("Called internal global"),i(a),t.next=11,o.checkInbox();case 11:setInterval(o.checkInbox,1e4);case 12:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){ee.error(e,"HomeContainer")}),ee.warn("Called global")):void 0!==rc&&rc.removeAllListeners()});case 6:case"end":return e.stop()}},e)}))),a}return T()(t,e),y()(t,[{key:"startSocketListeners",value:function(){var e=this.props,t=e.handleAddDiscoverySession,n=e.handleAddExecutionSession,a=e.handleUpdateDiscoverySession,r=e.handleUpdateExecutionSession,i=e.handleDeleteDiscoverySession,o=e.handleDeleteExecutionSession;rc&&rc.disconnect(),(rc=cc.a.connect(void 0,{reconnection:!0})).on("connect",function(){rc.connected&&(ee.info("Client connected","AppRouter"),ee.info(rc.id,"AppRouter"))}),rc.on("disconnect",function(){ee.info("Client disconnected","AppRouter"),ee.info(rc.id,"AppRouter")}),rc.on("reconnect",function(){rc.connected&&(ee.info("Client reconnected","AppRouter"),ee.info(rc.id,"AppRouter"))}),rc.on("discoveryAdded",function(e){if(void 0!==e){var n=JSON.parse(e);rc.emit("join",n.discoveryId),t(n)}}),rc.on("discoveryDeleted",function(e){ee.info(rc.id);var t=e.socketId,n=rc.id;if(t&&n&&t!==n){var a=e.discoveryId;i(a)}});var l=this;rc.on("executionAdded",function(e){if(void 0!==e){var t=JSON.parse(e),a=t.executionIri,r=t.status,i={};i.status=r,i.selectedVisualiser=t.selectedVisualiser,i.etlPipelineIri=t.etlPipelineIri,i.started=t.started,i.finished=t.finished,i.executionIri=a,i.frequencyHours=t.frequencyHours,i.startedByUser=t.startedByUser,i.scheduleOn=t.scheduleOn,rc.emit("join",i.executionIri),n(i)}}),rc.on("executionDeleted",function(e){ee.info(rc.id);var t=e.socketId,n=rc.id;if(t&&n&&t!==n){var a=e.executionIri;o(a)}}),rc.on("discoveryStatus",function(e){if(void 0!==e){var t=JSON.parse(e);if(t.status.isFinished&&(rc.emit("leave",t.discoveryId),l.props.discoverySessions.length>0)){var n={};n.discoveryId=t.discoveryId,n.isFinished=t.status.isFinished,n.finished=t.finished,n.sparqlEndpointIri=t.sparqlEndpointIri,n.namedGraph=t.namedGraph,n.dataSampleIri=t.dataSampleIri,a(n),Y.b.info("Discovery session has finished!\nCheck your dashboard.",{position:Y.b.POSITION.TOP_RIGHT,autoClose:4e3})}}}),rc.on("executionStatus",function(e){if(void 0!==e){var t=JSON.parse(e),n=t.executionIri,a=t.status.status;if(rc.emit("leave",n),l.props.pipelineExecutions.length>0){var i={};i.status=a,i.started=t.started,i.finished=t.finished,i.executionIri=n,r(i),Y.b.info("Pipeline execution has finished!\nCheck your dashboard.",{position:Y.b.POSITION.TOP_RIGHT,autoClose:4e3})}}})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.webId;return a.createElement("div",null,a.createElement(Ql.a,{onError:uc(n)},a.createElement(Js.a,null,a.createElement("div",{className:t.root},a.createElement(he.Provider,{value:rc},a.createElement($s.a,null,a.createElement(lc,{component:Se,path:"/login",exact:!0}),a.createElement(oc,{path:"/dashboard",component:dl,exact:!0}),a.createElement(oc,{path:"/create-app",component:Ds,exact:!0}),a.createElement(oc,{path:"/discover",component:is,exact:!0}),a.createElement(oc,{path:"/profile",component:Ms,exact:!0}),a.createElement(oc,{path:"/settings",component:zs,exact:!0}),a.createElement(oc,{path:"/about",component:ls,exact:!0}),a.createElement(oc,{path:"/storage",component:lo,exact:!0}),a.createElement(Ks.a,{path:"/404",component:cs,exact:!0}),a.createElement(Ks.a,{path:"/map",component:gr}),a.createElement(Ks.a,{path:"/treemap",component:gr}),a.createElement(Ks.a,{path:"/chord",component:gr}),a.createElement(fe.a,{from:"/",to:"/login",exact:!0}),a.createElement(fe.a,{to:"/404"})),a.createElement(xo,null))))))}}]),t}(a.PureComponent),dc=Object(o.b)(function(e){return{webId:e.user.webId,userProfile:e.user,colorThemeIsLight:e.globals.colorThemeIsLight,chooseFolderDialogIsOpen:e.globals.chooseFolderDialogIsOpen,discoverySessions:e.user.discoverySessions,pipelineExecutions:e.user.pipelineExecutions,currentInboxInvitations:e.user.inboxInvitations}},function(e){return{handleSetSolidUserProfileAsync:function(t,n,a){return e(vi(t,n,a))},handleSetUserWebId:function(t){return e(oi(t))},handleAddDiscoverySession:function(t){return e(li({session:t}))},handleAddExecutionSession:function(t){return e(ui({session:t}))},handleDeleteDiscoverySession:function(t){return e(si({discoveryId:t}))},handleDeleteExecutionSession:function(t){return e(pi({executionIri:t}))},handleUpdateDiscoverySession:function(t){return e(ci({session:t}))},handleUpdateExecutionSession:function(t){return e(di({session:t}))},handleUpdateApplicationsFolder:function(t){return e(fi({value:t}))},handleUpdateUserDetails:function(t){Promise.all(t).then(function(t){e(t)})},handleSetUserInboxInvitations:function(t){return e(mi(t))}}})(ic(Object(U.a)(function(){return{root:{display:"flex",height:"100vh"}}})(pc))),hc=Qs;var fc=r.a.createElement(o.a,{store:hc},r.a.createElement(dc,null));l.a({dsn:"https://1da20b1a10f245cab2220da15f2a56a1@sentry.io/1283419",environment:"production",debug:!1}),be.initialize("UA-139954974-1"),Object(i.render)(fc,document.querySelector("#app"))},182:function(e,t){e.exports=window},222:function(e,t){e.exports=crypto},284:function(e,t,n){"use strict";(function(e){e.env.SOCKET_IO_RECONNECT}).call(this,n(31))},374:function(e,t,n){"use strict";t.a={LABELED_TIMELINE:"LABELED_TIMELINE",TIMELINE:"TIMELINE",TIMELINE_PERIODS:"TIMELINE_PERIODS",LABELED_TIMELINE_PERIODS:"LABELED_TIMELINE_PERIODS",DCTERMS:"DCTERMS",MAP:"MAP",ADVANCED_FILTERS_MAP:"ADVANCED_FILTERS_MAP",TREEMAP:"TREEMAP",CHORD:"CHORD",UNDEFINED:"UNDEFINED"}},375:function(e,t){},376:function(e,t){},41:function(e,t,n){"use strict";var a=n(374);n.d(t,"VISUALIZER_TYPE",function(){return a.a});n(284),n(375),n(376)},701:function(e,t){},702:function(e,t){},703:function(e,t){},724:function(e,t,n){e.exports=n.p+"4a29ad513623226237075e48d6e90c9c.svg"},725:function(e,t,n){e.exports=n.p+"570de3abcfae1d06d1a56c5690746143.svg"},796:function(e,t,n){e.exports=n(1392)},84:function(e,t){e.exports=fetch},875:function(e,t){},878:function(e,t){},887:function(e,t){},888:function(e,t){},892:function(e,t){},894:function(e,t){},909:function(e,t){},911:function(e,t){},942:function(e,t){e.exports=TextEncoder},968:function(e,t,n){"use strict";n.r(t),n.d(t,"fromUrl",function(){return c}),n.d(t,"fromString",function(){return u});var a=n(2),r=n.n(a),i=n(7),o=n.n(i),l=n(122),s=n(430);function c(e,t){var a=s.defer();return t(e).then(function(){var e=o()(r.a.mark(function e(t){var i,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(404!==t.status){e.next=4;break}a.reject(404),e.next=10;break;case 4:return e.next=6,t.text();case 6:i=e.sent,o=new l.Store,new l.Parser({baseIRI:t.url}).parse(i,function(e,t,r){if(e)a.reject();else if(t)o.addQuad(t);else{var i={match:function(e,t,a,r){return n(431)(o.getQuads(e,t,a,r))}};a.resolve(i)}});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(t){console.warn("No RDFJSSource was created for ".concat(e,". File already deleted?")),a.resolve(null)}),a.promise}function u(e){var t=s.defer(),a=l.Store();return l.Parser().parse(e,function(e,r,i){if(e)t.reject();else if(r)a.addQuad(r);else{var o={match:function(e,t,r,i){return n(431)(a.getQuads(e,t,r,i))}};t.resolve(o)}}),t.promise}}});
//# sourceMappingURL=main.bundle.js.map